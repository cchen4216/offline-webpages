<!DOCTYPE html>
<!-- saved from url=(0128)https://medium.com/open-machine-learning-course/open-machine-learning-course-topic-9-time-series-analysis-in-python-a270cb05e0b3 -->
<html xmlns:cc="http://creativecommons.org/ns#"><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# medium-com: http://ogp.me/ns/fb/medium-com#"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=contain"><title>Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python</title><link rel="canonical" href="https://medium.com/open-machine-learning-course/open-machine-learning-course-topic-9-time-series-analysis-in-python-a270cb05e0b3"><meta name="title" content="Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python"><meta name="referrer" content="always"><meta name="description" content="Let’s take a look at how to work with time series in Python, what methods and models we can use for prediction; what’s double and triple exponential smoothing; what to do if stationarity is not you…"><meta name="theme-color" content="#000000"><meta property="og:title" content="Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python"><meta property="og:url" content="https://medium.com/open-machine-learning-course/open-machine-learning-course-topic-9-time-series-analysis-in-python-a270cb05e0b3"><meta property="og:image" content="https://cdn-images-1.medium.com/max/1200/1*hJ_P0bVRLNNjcc5st5lu-A.jpeg"><meta property="fb:app_id" content="542599432471018"><meta property="og:description" content="Hi there!"><meta name="twitter:description" content="Hi there!"><meta name="twitter:image:src" content="https://cdn-images-1.medium.com/max/1200/1*hJ_P0bVRLNNjcc5st5lu-A.jpeg"><link rel="publisher" href="https://plus.google.com/103654360130207659246"><link rel="author" href="https://medium.com/@dmitriysergeev"><meta property="author" content="Dmitriy Sergeev"><meta property="og:type" content="article"><meta name="twitter:card" content="summary_large_image"><meta property="article:publisher" content="https://www.facebook.com/medium"><meta property="article:author" content="Dmitriy Sergeev"><meta name="robots" content="index, follow"><meta property="article:published_time" content="2018-04-10T09:41:16.814Z"><meta name="twitter:site" content="@Medium"><meta property="og:site_name" content="Medium"><meta name="twitter:label1" value="Reading time"><meta name="twitter:data1" value="23 min read"><meta name="twitter:app:name:iphone" content="Medium"><meta name="twitter:app:id:iphone" content="828256236"><meta name="twitter:app:url:iphone" content="medium://p/a270cb05e0b3"><meta property="al:ios:app_name" content="Medium"><meta property="al:ios:app_store_id" content="828256236"><meta property="al:android:package" content="com.medium.reader"><meta property="al:android:app_name" content="Medium"><meta property="al:ios:url" content="medium://p/a270cb05e0b3"><meta property="al:android:url" content="medium://p/a270cb05e0b3"><meta property="al:web:url" content="https://medium.com/open-machine-learning-course/open-machine-learning-course-topic-9-time-series-analysis-in-python-a270cb05e0b3"><link rel="search" type="application/opensearchdescription+xml" title="Medium" href="https://medium.com/osd.xml"><link rel="alternate" href="android-app://com.medium.reader/https/medium.com/p/a270cb05e0b3"><script type="application/ld+json">{"@context":"http://schema.org","@type":"NewsArticle","image":{"@type":"ImageObject","width":500,"height":375,"url":"https://cdn-images-1.medium.com/max/1000/1*hJ_P0bVRLNNjcc5st5lu-A.jpeg"},"datePublished":"2018-04-10T09:41:16.814Z","dateModified":"2018-05-17T08:18:34.048Z","headline":"Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python","name":"Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python","keywords":["Machine Learning","Data Science","Education","Python","Algorithms"],"author":{"@type":"Person","name":"Dmitriy Sergeev","url":"https://medium.com/@dmitriysergeev"},"creator":["Dmitriy Sergeev"],"publisher":{"@type":"Organization","name":"Open Machine Learning Course","url":"https://medium.com/open-machine-learning-course","logo":{"@type":"ImageObject","width":107,"height":60,"url":"https://cdn-images-1.medium.com/max/214/1*MxsqShnPs3RXMScwl5HhsQ.jpeg"}},"mainEntityOfPage":"https://medium.com/open-machine-learning-course/open-machine-learning-course-topic-9-time-series-analysis-in-python-a270cb05e0b3"}</script><link rel="stylesheet" type="text/css" class="js-glyph-" id="glyph-12" href="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/m2.css"><link rel="stylesheet" href="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/main-branding-base.7yvz-twGm_-KNykk_dGs8Q.css"><script>if (window.top !== window.self) window.top.location = window.self.location.href;var OB_startTime = new Date().getTime(); var OB_loadErrors = []; function _onerror(e) { OB_loadErrors.push(e) }; if (document.addEventListener) document.addEventListener("error", _onerror, true); else if (document.attachEvent) document.attachEvent("onerror", _onerror); function _asyncScript(u) {var d = document, f = d.getElementsByTagName("script")[0], s = d.createElement("script"); s.type = "text/javascript"; s.async = true; s.src = u; f.parentNode.insertBefore(s, f);}function _asyncStyles(u) {var d = document, f = d.getElementsByTagName("script")[0], s = d.createElement("link"); s.rel = "stylesheet"; s.href = u; f.parentNode.insertBefore(s, f); return s}(new Image()).src = "/_/stat?event=pixel.load&origin=" + encodeURIComponent(location.origin);</script><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date; ga("create", "UA-24232453-2", "auto", {"allowLinker": true, "legacyCookieDomain": window.location.hostname}); ga("send", "pageview");</script><script async="" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/analytics.js"></script><!--[if lt IE 9]><script charset="UTF-8" src="https://cdn-static-1.medium.com/_/fp/js/shiv.RI2ePTZ5gFmMgLzG5bEVAA.js"></script><![endif]--><link rel="icon" href="https://cdn-static-1.medium.com/_/fp/icons/favicon-rebrand-medium.3Y6xpZ-0FSdWDnPM3hSBIA.ico" class="js-favicon"><link rel="apple-touch-icon" sizes="152x152" href="https://cdn-images-1.medium.com/fit/c/304/304/1*b5pfoCQz20rjh79OPSQWQg.jpeg"><link rel="apple-touch-icon" sizes="120x120" href="https://cdn-images-1.medium.com/fit/c/240/240/1*b5pfoCQz20rjh79OPSQWQg.jpeg"><link rel="apple-touch-icon" sizes="76x76" href="https://cdn-images-1.medium.com/fit/c/152/152/1*b5pfoCQz20rjh79OPSQWQg.jpeg"><link rel="apple-touch-icon" sizes="60x60" href="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_b5pfoCQz20rjh79OPSQWQg.jpeg"><link rel="mask-icon" href="https://cdn-static-1.medium.com/_/fp/icons/monogram-mask.KPLCSFEZviQN0jQ7veN2RQ.svg" color="#171717"></head><body itemscope="" class="postShowScreen browser-chrome os-mac is-withMagicUnderlinesv-glyph v-glyph--m2 is-js is-withMagicUnderlines" data-action-scope="_actionscope_0"><script>document.body.className = document.body.className.replace(/(^|\s)is-noJs(\s|$)/, "$1is-js$2")</script><div class="site-main surface-container" id="container"><div class="butterBar butterBar--error" data-action-scope="_actionscope_1"></div><div class="surface" id="_obv.shell._surface_1526797075577" style="display: block; visibility: visible;"><div class="screenContent surface-content is-supplementalPostContentLoaded" data-used="true" data-action-scope="_actionscope_2"><canvas class="canvas-renderer" width="1680" height="932"></canvas><div class="container u-maxWidth740 u-xs-margin0 notesPositionContainer js-notesPositionContainer"><div class="notesMarkers" data-action-scope="_actionscope_4"></div></div><div class="metabar u-clearfix js-metabar is-hiddenWhenMinimized metabar--affixed is-maximized"><div class="js-metabarMiddle metabar-inner u-marginAuto u-maxWidth1000 u-flexCenter u-justifyContentSpaceBetween u-height65 u-xs-height56 u-paddingLeft20 u-paddingRight20"><div class="metabar-block u-flex1  u-flexCenter"><div class="js-metabarLogoLeft"><a href="https://medium.com/" data-log-event="home" class="siteNav-logo u-flexCenter u-paddingTop0"><span class="svgIcon svgIcon--logoMonogram svgIcon--45px is-flushLeft u-textColorDarker"><svg class="svgIcon-use" width="45" height="45" viewBox="0 0 45 45"><path d="M5 40V5h35v35H5zm8.56-12.627c0 .555-.027.687-.318 1.03l-2.457 2.985v.396h6.974v-.396l-2.456-2.985c-.291-.343-.344-.502-.344-1.03V18.42l6.127 13.364h.714l5.256-13.364v10.644c0 .29 0 .342-.185.528l-1.848 1.796v.396h9.19v-.396l-1.822-1.796c-.184-.186-.21-.238-.21-.528V15.937c0-.291.026-.344.21-.528l1.823-1.797v-.396h-6.471l-4.622 11.542-5.203-11.542h-6.79v.396l2.14 2.64c.239.292.291.37.291.768v10.353z"></path></svg></span><span class="u-textScreenReader">Homepage</span></a></div><div class="u-alignMiddle u-inlineBlock u-verticalAlignTop u-height65 u-xs-height56"><div class="u-alignBlock"><span class="u-inlineBlock u-height28 u-xs-height24 u-verticalAlignTop u-marginRight20 u-marginLeft15 u-borderRightLighter"></span></div></div><div class="u-alignMiddle u-inlineBlock u-verticalAlignTop u-height65 u-xs-height56 u-marginRight18"><div class="u-alignBlock"><a class="js-collectionLogoOrName" href="https://medium.com/open-machine-learning-course?source=logo-a988255767e5---b76595fb6cfc"><img height="36" width="65" class="u-paddingTop5" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_MxsqShnPs3RXMScwl5HhsQ.jpeg" alt="Open Machine Learning Course"></a></div></div><div class="u-alignMiddle u-inlineBlock u-verticalAlignTop u-height65 u-xs-height56 u-xs-hide"><div class="u-alignBlock"><div class="buttonSet"><button class="button button--primary button--filled button--smallest button--withChrome u-accentColor--buttonNormal button--withIcon button--withSvgIcon button--withIconRight button--withIconAndLabel js-relationshipButton is-smallPill" data-action="show-more-collection-actions" data-action-value="affixMenu" data-collection-id="b76595fb6cfc"><span class="button-label  js-buttonLabel">Following</span><span class="svgIcon svgIcon--arrowDown svgIcon--11px u-relative u-top1 u-paddingLeft6"><svg class="svgIcon-use" width="11" height="11" viewBox="0 0 11 11"><path d="M0 2.77l5.095 5.648.427.472.427-.472L10.99 2.83l-.85-.77-4.618 5.142L.85 2z" fill-rule="evenodd"></path></svg></span></button><a class="button button--chromeless is-touchIconBlackPulse u-baseColor--buttonNormal button--withIcon button--withSvgIcon" href="https://twitter.com/odsai_en" title="Visit “Open Machine Learning Course” on Twitter" aria-label="Visit “Open Machine Learning Course” on Twitter" rel="me" target="_blank"><span class="button-defaultState"><span class="svgIcon svgIcon--twitterFilled svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><path d="M21.725 5.338c-.744.47-1.605.804-2.513 1.006a3.978 3.978 0 0 0-2.942-1.293c-2.22 0-4.02 1.81-4.02 4.02 0 .32.034.63.07.94-3.31-.18-6.27-1.78-8.255-4.23a4.544 4.544 0 0 0-.574 2.01c.04 1.43.74 2.66 1.8 3.38-.63-.01-1.25-.19-1.79-.5v.08c0 1.93 1.38 3.56 3.23 3.95-.34.07-.7.12-1.07.14-.25-.02-.5-.04-.72-.07.49 1.58 1.97 2.74 3.74 2.8a8.49 8.49 0 0 1-5.02 1.72c-.3-.03-.62-.04-.93-.07A11.447 11.447 0 0 0 8.88 21c7.386 0 11.43-6.13 11.414-11.414.015-.21.01-.38 0-.578a7.604 7.604 0 0 0 2.01-2.08 7.27 7.27 0 0 1-2.297.645 3.856 3.856 0 0 0 1.72-2.23"></path></svg></span></span></a><a class="button button--chromeless is-touchIconBlackPulse u-baseColor--buttonNormal button--withIcon button--withSvgIcon u-paddingLeft0" href="https://facebook.com/DataChallenges" title="Visit “Open Machine Learning Course” on Facebook" aria-label="Visit “Open Machine Learning Course” on Facebook" rel="me" target="_blank"><span class="button-defaultState"><span class="svgIcon svgIcon--facebookFilled svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><path d="M21 12.646C21 7.65 16.97 3.6 12 3.6s-9 4.05-9 9.046a9.026 9.026 0 0 0 7.59 8.924v-6.376H8.395V12.64h2.193v-1.88c0-2.186 1.328-3.375 3.267-3.375.93 0 1.728.07 1.96.1V9.77H14.47c-1.055 0-1.26.503-1.26 1.242v1.63h2.517l-.33 2.554H13.21V21.6c4.398-.597 7.79-4.373 7.79-8.954"></path></svg></span></span></a></div></div></div></div><div class="metabar-block u-flex0 u-flexCenter"><div class="u-alignMiddle u-inlineBlock u-verticalAlignTop u-height65 u-xs-height56"><div class="u-alignBlock"><div class="buttonSet buttonSet--wide u-lineHeightInherit"><label class="button button--chromeless inputGroup u-sm-hide metabar-predictiveSearch u-baseColor--buttonNormal u-baseColor--placeholderNormal" title="Search"><span class="svgIcon svgIcon--search svgIcon--25px u-top0 u-baseColor--iconLight"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><path d="M20.067 18.933l-4.157-4.157a6 6 0 1 0-.884.884l4.157 4.157a.624.624 0 1 0 .884-.884zM6.5 11c0-2.62 2.13-4.75 4.75-4.75S16 8.38 16 11s-2.13 4.75-4.75 4.75S6.5 13.62 6.5 11z"></path></svg></span><input class="js-predictiveSearchInput textInput textInput--rounded textInput--darkText u-baseColor--textNormal textInput--transparent" type="search" placeholder="Search" required="true" data-collection-id="b76595fb6cfc"></label><a class="button button--small button--chromeless u-sm-show is-inSiteNavBar u-baseColor--buttonNormal button--withIcon button--withSvgIcon u-xs-top2" href="https://medium.com/open-machine-learning-course/search" title="Search" aria-label="Search"><span class="button-defaultState"><span class="svgIcon svgIcon--search svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><path d="M20.067 18.933l-4.157-4.157a6 6 0 1 0-.884.884l4.157 4.157a.624.624 0 1 0 .884-.884zM6.5 11c0-2.62 2.13-4.75 4.75-4.75S16 8.38 16 11s-2.13 4.75-4.75 4.75S6.5 13.62 6.5 11z"></path></svg></span></span></a><button class="button button--primary button--filled button--small button--circle button--chromeless is-inSiteNavBar u-accentColor--buttonNormal button--withIcon button--withSvgIcon button--activity js-notificationsButton u-marginRight16 u-xs-marginRight5 u-lineHeight0 is-active is-counter" title="Notifications" aria-label="Notifications" data-action="open-notifications"><span class="button-defaultState"><span class="svgIcon svgIcon--bell svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="-293 409 25 25"><path d="M-273.327 423.67l-1.673-1.52v-3.646a5.5 5.5 0 0 0-6.04-5.474c-2.86.273-4.96 2.838-4.96 5.71v3.41l-1.68 1.553c-.204.19-.32.456-.32.734V427a1 1 0 0 0 1 1h3.49a3.079 3.079 0 0 0 3.01 2.45 3.08 3.08 0 0 0 3.01-2.45h3.49a1 1 0 0 0 1-1v-2.59c0-.28-.12-.55-.327-.74zm-7.173 5.63c-.842 0-1.55-.546-1.812-1.3h3.624a1.92 1.92 0 0 1-1.812 1.3zm6.35-2.45h-12.7v-2.347l1.63-1.51c.236-.216.37-.522.37-.843v-3.41c0-2.35 1.72-4.356 3.92-4.565a4.353 4.353 0 0 1 4.78 4.33v3.645c0 .324.137.633.376.85l1.624 1.477v2.373z"></path></svg></span></span><span class="button-activeState"><span class="button-text">3</span><span class="u-textScreenReader">New notifications: 3</span></span></button><button class="button button--chromeless u-baseColor--buttonNormal u-marginLeft4 is-inSiteNavBar js-userActions" aria-haspopup="true" data-action="open-userActions"><div class="avatar"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/0_P-t7h_lDOjJiWVxI" class="avatar-image avatar-image--icon" alt="陈辰"></div></button></div></div></div></div></div></div><div class="metabar metabar--spacer js-metabarSpacer u-height65 u-xs-height56"></div><main role="main"><article class=" u-minHeight100vhOffset65 u-overflowHidden postArticle postArticle--full is-withAccentColors" lang="en"><header class="container u-maxWidth740"><div class="uiScale uiScale-ui--regular uiScale-caption--regular postMetaHeader u-paddingBottom10 row"><div class="col u-size12of12 js-postMetaLockup"><div class="uiScale uiScale-ui--regular uiScale-caption--regular postMetaLockup postMetaLockup--authorWithBio u-flexCenter js-postMetaLockup"><div class="u-flex0"><a class="link u-baseColor--link avatar" href="https://medium.com/@dmitriysergeev?source=post_header_lockup" data-action="show-user-card" data-action-source="post_header_lockup" data-action-value="5db503d436d2" data-action-type="hover" data-user-id="5db503d436d2" dir="auto"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/0_zsrkvCEBEg3gjCz6" class="avatar-image avatar-image--small" alt="Go to the profile of Dmitriy Sergeev"></a></div><div class="u-flex1 u-paddingLeft15 u-overflowHidden"><div class="u-lineHeightTightest"><a class="ds-link ds-link--styleSubtle ui-captionStrong u-inlineBlock link link--darken link--darker" href="https://medium.com/@dmitriysergeev?source=post_header_lockup" data-action="show-user-card" data-action-source="post_header_lockup" data-action-value="5db503d436d2" data-action-type="hover" data-user-id="5db503d436d2" dir="auto">Dmitriy Sergeev</a><span class="followState js-followState" data-user-id="5db503d436d2"><button class="button button--smallest u-noUserSelect button--withChrome u-baseColor--buttonNormal button--withHover button--unblock js-unblockButton u-marginLeft10 u-xs-hide" data-action="toggle-block-user" data-action-value="5db503d436d2" data-action-source="post_header_lockup"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary button--smallest u-noUserSelect button--withChrome u-accentColor--buttonNormal button--follow js-followButton u-marginLeft10 u-xs-hide" data-action="toggle-subscribe-user" data-action-value="5db503d436d2" data-action-source="post_header_lockup-5db503d436d2-------------------------follow_byline" data-subscribe-source="post_header_lockup" data-follow-context-entity-id="a270cb05e0b3"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Following</span></button></span></div><div class="ui-caption ui-xs-clamp2 postMetaInline">Data Scientist at Zeptolab</div><div class="ui-caption postMetaInline js-testPostMetaInlineSupplemental"><time datetime="2018-04-10T09:41:16.814Z">Apr 10</time><span class="middotDivider u-fontSize12"></span><span class="readingTime" title="23 min read"></span></div></div></div></div></div></header><div class="postArticle-content js-postField js-notesSource js-trackedPost" data-post-id="a270cb05e0b3" data-source="post_page" data-collection-id="b76595fb6cfc" data-tracking-context="postPage" data-scroll="native"><section name="580b" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h1 name="63be" id="63be" class="graf graf--h3 graf--leading graf--title">Open Machine Learning Course. Topic 9. Part 1. <strong class="markup--strong markup--h3-strong">Time series analysis in&nbsp;Python</strong></h1><figure name="9358" id="9358" class="graf graf--figure graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 500px; max-height: 375px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 75%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*hJ_P0bVRLNNjcc5st5lu-A.jpeg" data-width="500" data-height="375" data-is-featured="true" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_hJ_P0bVRLNNjcc5st5lu-A.jpeg" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="56"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*hJ_P0bVRLNNjcc5st5lu-A.jpeg" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_hJ_P0bVRLNNjcc5st5lu-A(1).jpeg"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*hJ_P0bVRLNNjcc5st5lu-A.jpeg"></noscript></div></div></figure><p name="1f92" id="1f92" class="graf graf--p graf-after--figure">Hi there!</p><p name="98e7" id="98e7" class="graf graf--p graf-after--p">We continue our open machine learning course with a new article on time series.</p><p name="976d" id="976d" class="graf graf--p graf-after--p">Let’s take a look at how to work with time series in Python, what methods and models we can use for prediction; what’s double and triple exponential smoothing; what to do if stationarity is not you favorite game; how to build SARIMA and stay alive; how to make predictions using xgboost. All of this will be applied to (harsh) real world example.</p><h3 name="db01" id="db01" class="graf graf--h3 graf-after--p">Article outline</h3><ol class="postList"><li name="579d" id="579d" class="graf graf--li graf-after--h3">Introduction<br> — Basic definitions<br> — Quality metrics</li><li name="77f6" id="77f6" class="graf graf--li graf-after--li">Move, smoothe, evaluate<br> — Rolling window estimations<br> — Exponential smoothing, Holt-Winters model<br> — Time-series cross validation, parameters selection</li><li name="e135" id="e135" class="graf graf--li graf-after--li">Econometric approach<br> — Stationarity, unit root<br> — Getting rid of non-stationarity<br> — SARIMA intuition and model building</li><li name="9ed3" id="9ed3" class="graf graf--li graf-after--li">Linear (and not quite) models on time series<br> — Feature extraction<br> — Linear models, feature importance<br> — Regularization, feature selection<br> — XGBoost</li><li name="c252" id="c252" class="graf graf--li graf-after--li">Assignment #9</li></ol><p name="d9ed" id="d9ed" class="graf graf--p graf-after--li"><em class="markup--em markup--p-em">The following content is better viewed and reproduced as a </em><a href="http://nbviewer.jupyter.org/github/Yorko/mlcourse_open/blob/master/jupyter_english/topic09_time_series/topic9_part1_time_series_python.ipynb" data-href="http://nbviewer.jupyter.org/github/Yorko/mlcourse_open/blob/master/jupyter_english/topic09_time_series/topic9_part1_time_series_python.ipynb" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank"><em class="markup--em markup--p-em">Jupyter-notebook</em></a></p><p name="1e29" id="1e29" class="graf graf--p graf-after--p">In my day to day job I encounter time series-connected tasks almost every day. The most frequent question is — what will happen with our metrics in the next day/week/month/etc. — how many players will install the app, how much time will they spend online, how many actions users will do, and so forth. We can approach prediction task using different methods, depending on the required quality of the prediction, length of the forecasted period, and, of course, time we have to choose features and tune parameters to achieve desired results.</p><h3 name="87af" id="87af" class="graf graf--h3 graf-after--p">Introduction</h3><blockquote name="b03c" id="b03c" class="graf graf--blockquote graf-after--h3">Small <a href="https://en.wikipedia.org/wiki/Time_series" data-href="https://en.wikipedia.org/wiki/Time_series" class="markup--anchor markup--blockquote-anchor" rel="nofollow noopener" target="_blank">definition</a> of time series:<br><em class="markup--em markup--blockquote-em">Time series — is a series of data points indexed (or listed or graphed) in time order.</em></blockquote><p name="067c" id="067c" class="graf graf--p graf-after--blockquote">Therefore data is organized around relatively deterministic timestamps, and therefore, compared to random samples, may contain additional information that we will try to extract.</p><p name="b715" id="b715" class="graf graf--p graf-after--p">Let’s import some libraries. First and foremost we will need <a href="http://statsmodels.sourceforge.net/stable/" data-href="http://statsmodels.sourceforge.net/stable/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">statsmodels</a> library that has tons of statistical modeling functions, including time series. For R afficionados (that had to move to python) statsmodels will definitely look familiar as it supports model definitions like ‘Wage ~ Age + Education’.</p><figure name="9d58" id="9d58" class="graf graf--figure graf--iframe graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 69%;"></div><div class="progressiveMedia js-progressiveMedia is-canvasLoaded is-imageLoaded" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/resize" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="75"></canvas><div class="iframeContainer"><iframe width="700" height="250" data-src="/media/832e80066c25fd621be3da1355f2a812?postId=a270cb05e0b3" data-media-id="832e80066c25fd621be3da1355f2a812" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" class="progressiveMedia-iframe js-progressiveMedia-iframe" allowfullscreen="" frameborder="0" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/832e80066c25fd621be3da1355f2a812.html"></iframe></div><noscript class="js-progressiveMedia-inner"><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/832e80066c25fd621be3da1355f2a812?postId=a270cb05e0b3" data-media-id="832e80066c25fd621be3da1355f2a812" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen frameborder="0"></IFRAME></div></noscript></div></div></figure><p name="d9d4" id="d9d4" class="graf graf--p graf-after--figure">As an example let’s use some real mobile game data on hourly ads watched by players and daily in-game currency spent:</p><figure name="2804" id="2804" class="graf graf--figure graf--iframe graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 50.143%;"></div><div class="progressiveMedia js-progressiveMedia is-canvasLoaded is-imageLoaded" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/resize" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="75"></canvas><div class="iframeContainer"><iframe width="700" height="250" data-src="/media/7b06888ad3d459e2be927eba1ca1f633?postId=a270cb05e0b3" data-media-id="7b06888ad3d459e2be927eba1ca1f633" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" class="progressiveMedia-iframe js-progressiveMedia-iframe" allowfullscreen="" frameborder="0" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/7b06888ad3d459e2be927eba1ca1f633.html"></iframe></div><noscript class="js-progressiveMedia-inner"><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/7b06888ad3d459e2be927eba1ca1f633?postId=a270cb05e0b3" data-media-id="7b06888ad3d459e2be927eba1ca1f633" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen frameborder="0"></IFRAME></div></noscript></div></div></figure><figure name="d69a" id="d69a" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 333px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 47.5%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*Xglh0CGdddyPT2PdXbfSUA.png" data-width="892" data-height="424" data-action="zoom" data-action-value="1*Xglh0CGdddyPT2PdXbfSUA.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_Xglh0CGdddyPT2PdXbfSUA.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="35"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*Xglh0CGdddyPT2PdXbfSUA.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_Xglh0CGdddyPT2PdXbfSUA(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*Xglh0CGdddyPT2PdXbfSUA.png"></noscript></div></div></figure><figure name="f065" id="f065" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 331px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 47.3%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*l43t8fEGWuxx8KmDC0eHNw.png" data-width="897" data-height="424" data-action="zoom" data-action-value="1*l43t8fEGWuxx8KmDC0eHNw.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_l43t8fEGWuxx8KmDC0eHNw.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="35"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*l43t8fEGWuxx8KmDC0eHNw.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_l43t8fEGWuxx8KmDC0eHNw(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*l43t8fEGWuxx8KmDC0eHNw.png"></noscript></div></div></figure><h3 name="bb73" id="bb73" class="graf graf--h3 graf-after--figure">Forecast quality&nbsp;metrics</h3><p name="7c31" id="7c31" class="graf graf--p graf-after--h3">Before actually forecasting, let’s understand how to measure the quality of predictions and have a look at the most common and widely used metrics</p><ul class="postList"><li name="a121" id="a121" class="graf graf--li graf-after--p"><a href="http://scikit-learn.org/stable/modules/model_evaluation.html#r2-score-the-coefficient-of-determination" data-href="http://scikit-learn.org/stable/modules/model_evaluation.html#r2-score-the-coefficient-of-determination" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank"><strong class="markup--strong markup--li-strong">R squared</strong></a>, coefficient of determination (in econometrics it can be interpreted as a percentage of variance explained by the model), (<em class="markup--em markup--li-em">-inf</em>, 1] <code class="markup--code markup--li-code">sklearn.metrics.r2_score</code></li><li name="2985" id="2985" class="graf graf--li graf-after--li"><a href="http://scikit-learn.org/stable/modules/model_evaluation.html#mean-absolute-error" data-href="http://scikit-learn.org/stable/modules/model_evaluation.html#mean-absolute-error" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank"><strong class="markup--strong markup--li-strong">Mean Absolute Error</strong></a>, it is an interpretable metric because it has the same unit of measurement as the initial series, [0, +<em class="markup--em markup--li-em">inf</em>)<br><code class="markup--code markup--li-code">sklearn.metrics.mean_absolute_error</code></li><li name="6a7c" id="6a7c" class="graf graf--li graf-after--li"><a href="http://scikit-learn.org/stable/modules/model_evaluation.html#median-absolute-error" data-href="http://scikit-learn.org/stable/modules/model_evaluation.html#median-absolute-error" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank"><strong class="markup--strong markup--li-strong">Median Absolute Error</strong></a>, again an interpretable metric, particularly interesting because it is robust to outliers, [0, +<em class="markup--em markup--li-em">inf</em>)<br><code class="markup--code markup--li-code">sklearn.metrics.median_absolute_error</code></li><li name="df70" id="df70" class="graf graf--li graf-after--li"><a href="http://scikit-learn.org/stable/modules/model_evaluation.html#mean-squared-error" data-href="http://scikit-learn.org/stable/modules/model_evaluation.html#mean-squared-error" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank"><strong class="markup--strong markup--li-strong">Mean Squared Error</strong></a>, most commonly used, gives higher penalty to big mistakes and vise versa, [0, +<em class="markup--em markup--li-em">inf)<br></em><code class="markup--code markup--li-code">sklearn.metrics.mean_squared_error</code></li><li name="1e1c" id="1e1c" class="graf graf--li graf-after--li"><a href="http://scikit-learn.org/stable/modules/model_evaluation.html#mean-squared-logarithmic-error" data-href="http://scikit-learn.org/stable/modules/model_evaluation.html#mean-squared-logarithmic-error" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank"><strong class="markup--strong markup--li-strong">Mean Squared Logarithmic Error</strong></a>, practically the same as MSE but we initially take logarithm of the series, as a result we give attention to small mistakes as well, usually is used when data has exponential trends, [0, +<em class="markup--em markup--li-em">inf</em>)<br><code class="markup--code markup--li-code">sklearn.metrics.mean_squared_log_error</code></li><li name="47cc" id="47cc" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Mean Absolute Percentage Error</strong>, same as MAE but percentage, — very convenient when you want to explain the quality of the model to your management, [0, +<em class="markup--em markup--li-em">inf</em>), not implemented in sklearn</li></ul><figure name="08c5" id="08c5" class="graf graf--figure graf--iframe graf-after--li"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 28.143%;"></div><div class="progressiveMedia js-progressiveMedia is-canvasLoaded is-imageLoaded" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/resize" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="75"></canvas><div class="iframeContainer"><iframe width="700" height="250" data-src="/media/b3aedf7b05c4aeb50d7e663e3a842485?postId=a270cb05e0b3" data-media-id="b3aedf7b05c4aeb50d7e663e3a842485" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" class="progressiveMedia-iframe js-progressiveMedia-iframe" allowfullscreen="" frameborder="0" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/b3aedf7b05c4aeb50d7e663e3a842485.html"></iframe></div><noscript class="js-progressiveMedia-inner"><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/b3aedf7b05c4aeb50d7e663e3a842485?postId=a270cb05e0b3" data-media-id="b3aedf7b05c4aeb50d7e663e3a842485" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen frameborder="0"></IFRAME></div></noscript></div></div></figure><p name="5810" id="5810" class="graf graf--p graf-after--figure">Excellent, now we know how to measure the quality of the forecasts, what metrics can we use and how to translate the results to the boss. Little thing is left — building the model.</p><h3 name="23c2" id="23c2" class="graf graf--h3 graf-after--p">Move, smoothe,&nbsp;evaluate</h3><p name="3399" id="3399" class="graf graf--p graf-after--h3">Let’s start with a naive hypothesis — “tomorrow will be the same as today”, but instead of a model like ŷ(t)=y(t−1) (which is actually a great baseline for any time series prediction problems and sometimes it’s impossible to beat it with any model) we’ll assume that the future value of the variable depends on the average <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">n</em></strong> of its previous values and therefore we’ll use <strong class="markup--strong markup--p-strong">moving average</strong>.</p><figure name="1a06" id="1a06" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 155px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 22.1%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*xKNEAvd2OU0T71Y7rZu0ZA.png" data-width="1464" data-height="324" data-action="zoom" data-action-value="1*xKNEAvd2OU0T71Y7rZu0ZA.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_xKNEAvd2OU0T71Y7rZu0ZA.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="16"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*xKNEAvd2OU0T71Y7rZu0ZA.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_xKNEAvd2OU0T71Y7rZu0ZA(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*xKNEAvd2OU0T71Y7rZu0ZA.png"></noscript></div></div></figure><figure name="5f43" id="5f43" class="graf graf--figure graf--iframe graf-after--figure"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 28.143%;"></div><div class="progressiveMedia js-progressiveMedia is-canvasLoaded is-imageLoaded" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/resize" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="75"></canvas><div class="iframeContainer"><iframe width="700" height="250" data-src="/media/1d1131e654b4953aee48a7b12481ddc5?postId=a270cb05e0b3" data-media-id="1d1131e654b4953aee48a7b12481ddc5" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" class="progressiveMedia-iframe js-progressiveMedia-iframe" allowfullscreen="" frameborder="0" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1d1131e654b4953aee48a7b12481ddc5.html"></iframe></div><noscript class="js-progressiveMedia-inner"><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/1d1131e654b4953aee48a7b12481ddc5?postId=a270cb05e0b3" data-media-id="1d1131e654b4953aee48a7b12481ddc5" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen frameborder="0"></IFRAME></div></noscript></div></div></figure><pre name="4f65" id="4f65" class="graf graf--pre graf-after--figure">Out: 116805.0</pre><p name="f881" id="f881" class="graf graf--p graf-after--pre">Unfortunately we can’t make this prediction long-term — to get one for the next step we need the previous value to be actually observed. But moving average has another use case — smoothing of the original time series to indicate trends. Pandas has an implementation available <code class="markup--code markup--p-code"><a href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.rolling.html" data-href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.rolling.html" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">DataFrame.rolling(window).mean()</a></code>. The wider the window - the smoother will be the trend. In the case of the very noisy data, which can be very often encountered in finance, this procedure can help to detect common patterns.</p><figure name="9e81" id="9e81" class="graf graf--figure graf--iframe graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 113%;"></div><div class="progressiveMedia js-progressiveMedia is-canvasLoaded is-imageLoaded" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/resize" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="75"></canvas><div class="iframeContainer"><iframe width="700" height="250" data-src="/media/cd63ae72e4f4300fdfd4b96048d53ceb?postId=a270cb05e0b3" data-media-id="cd63ae72e4f4300fdfd4b96048d53ceb" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" class="progressiveMedia-iframe js-progressiveMedia-iframe" allowfullscreen="" frameborder="0" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/cd63ae72e4f4300fdfd4b96048d53ceb.html"></iframe></div><noscript class="js-progressiveMedia-inner"><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/cd63ae72e4f4300fdfd4b96048d53ceb?postId=a270cb05e0b3" data-media-id="cd63ae72e4f4300fdfd4b96048d53ceb" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen frameborder="0"></IFRAME></div></noscript></div></div></figure><p name="5704" id="5704" class="graf graf--p graf-after--figure">Smoothing by last 4 hours<br><code class="markup--code markup--p-code">plotMovingAverage(ads, 4)</code></p><figure name="3eb6" id="3eb6" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 257px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 36.7%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*g-79VWtvLlJA5rcISd5pPw.png" data-width="892" data-height="327" data-action="zoom" data-action-value="1*g-79VWtvLlJA5rcISd5pPw.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_g-79VWtvLlJA5rcISd5pPw.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="26"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*g-79VWtvLlJA5rcISd5pPw.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_g-79VWtvLlJA5rcISd5pPw(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*g-79VWtvLlJA5rcISd5pPw.png"></noscript></div></div></figure><p name="87b0" id="87b0" class="graf graf--p graf-after--figure">Smoothing by last 12 hours<br><code class="markup--code markup--p-code">plotMovingAverage(ads, 12)</code></p><figure name="2bde" id="2bde" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 257px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 36.7%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*T71bcR_9UBe8MbevTgYTEQ.png" data-width="892" data-height="327" data-action="zoom" data-action-value="1*T71bcR_9UBe8MbevTgYTEQ.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_T71bcR_9UBe8MbevTgYTEQ.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="26"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*T71bcR_9UBe8MbevTgYTEQ.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_T71bcR_9UBe8MbevTgYTEQ(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*T71bcR_9UBe8MbevTgYTEQ.png"></noscript></div></div></figure><p name="33f6" id="33f6" class="graf graf--p graf-after--figure">Smoothing by 24 hours — we get daily trend<br><code class="markup--code markup--p-code">plotMovingAverage(ads, 24)</code></p><figure name="0128" id="0128" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 257px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 36.7%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*Xfxf0YM_VDgUhpw_USfJGw.png" data-width="892" data-height="327" data-action="zoom" data-action-value="1*Xfxf0YM_VDgUhpw_USfJGw.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_Xfxf0YM_VDgUhpw_USfJGw.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="26"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*Xfxf0YM_VDgUhpw_USfJGw.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_Xfxf0YM_VDgUhpw_USfJGw(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*Xfxf0YM_VDgUhpw_USfJGw.png"></noscript></div></div></figure><p name="dff8" id="dff8" class="graf graf--p graf-after--figure">As you can see, applying daily smoothing on hour data allowed us to clearly see the dynamics of ads watched. During the weekends the values are higher (weekends — time to play) and weekdays are generally lower.</p><p name="0888" id="0888" class="graf graf--p graf-after--p">We can also plot confidence intervals for our smoothed values<br><code class="markup--code markup--p-code">plotMovingAverage(ads, 4, plot_intervals=True)</code></p><figure name="cb5e" id="cb5e" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 257px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 36.7%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*FzVb4xiHV6J1aTTAM7OdQw.png" data-width="892" data-height="327" data-action="zoom" data-action-value="1*FzVb4xiHV6J1aTTAM7OdQw.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_FzVb4xiHV6J1aTTAM7OdQw.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="26"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*FzVb4xiHV6J1aTTAM7OdQw.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_FzVb4xiHV6J1aTTAM7OdQw(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*FzVb4xiHV6J1aTTAM7OdQw.png"></noscript></div></div></figure><p name="c836" id="c836" class="graf graf--p graf-after--figure">And now let’s create a simple anomaly detection system with the help of the moving average. Unfortunately, in this particular series everything is more or less normal, so we’ll intentionally make one of the values abnormal in the dataframe <code class="markup--code markup--p-code">ads_anomaly</code></p><figure name="5450" id="5450" class="graf graf--figure graf--iframe graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 12.429%;"></div><div class="progressiveMedia js-progressiveMedia is-canvasLoaded is-imageLoaded" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/resize" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="75"></canvas><div class="iframeContainer"><iframe width="700" height="250" data-src="/media/47999b06d6e61d685c9795918504de7c?postId=a270cb05e0b3" data-media-id="47999b06d6e61d685c9795918504de7c" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" class="progressiveMedia-iframe js-progressiveMedia-iframe" allowfullscreen="" frameborder="0" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/47999b06d6e61d685c9795918504de7c.html"></iframe></div><noscript class="js-progressiveMedia-inner"><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/47999b06d6e61d685c9795918504de7c?postId=a270cb05e0b3" data-media-id="47999b06d6e61d685c9795918504de7c" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen frameborder="0"></IFRAME></div></noscript></div></div></figure><p name="ac73" id="ac73" class="graf graf--p graf-after--figure">Let’s see, if this simple method can catch the anomaly<br><code class="markup--code markup--p-code">plotMovingAverage(ads_anomaly, 4, plot_intervals=True, plot_anomalies=True)</code></p><figure name="ef06" id="ef06" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 257px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 36.7%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*RXW9AGTcitJgMS7L-YJ3ZQ.png" data-width="892" data-height="327" data-action="zoom" data-action-value="1*RXW9AGTcitJgMS7L-YJ3ZQ.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_RXW9AGTcitJgMS7L-YJ3ZQ.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="26"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*RXW9AGTcitJgMS7L-YJ3ZQ.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_RXW9AGTcitJgMS7L-YJ3ZQ(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*RXW9AGTcitJgMS7L-YJ3ZQ.png"></noscript></div></div></figure><p name="df5c" id="df5c" class="graf graf--p graf-after--figure">Neat! What about the second series (with weekly smoothing)?<br><code class="markup--code markup--p-code">plotMovingAverage(currency, 7, plot_intervals=True, plot_anomalies=True)</code></p><figure name="c42b" id="c42b" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 255px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 36.5%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*ml1RV_36gA8hx_lFhRIqHA.png" data-width="897" data-height="327" data-action="zoom" data-action-value="1*ml1RV_36gA8hx_lFhRIqHA.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_ml1RV_36gA8hx_lFhRIqHA.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="26"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*ml1RV_36gA8hx_lFhRIqHA.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_ml1RV_36gA8hx_lFhRIqHA(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*ml1RV_36gA8hx_lFhRIqHA.png"></noscript></div></div></figure><p name="2dc3" id="2dc3" class="graf graf--p graf-after--figure">Oh no! Here is the downside of our simple approach — it did not catch monthly seasonality in our data and marked almost all 30-day peaks as an anomaly. If you don’t want to have that many false alarms — it’s best to consider more complex models.</p><p name="30ca" id="30ca" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Weighted average</strong> is a simple modification of the moving average, inside of which observations have different weights summing up to one, usually more recent observations have greater weight.</p><figure name="f3eb" id="f3eb" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 146px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 20.8%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*8IBEmsFCywApUE_joR0aqA.png" data-width="1324" data-height="276" data-action="zoom" data-action-value="1*8IBEmsFCywApUE_joR0aqA.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_8IBEmsFCywApUE_joR0aqA.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="15"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*8IBEmsFCywApUE_joR0aqA.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_8IBEmsFCywApUE_joR0aqA(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*8IBEmsFCywApUE_joR0aqA.png"></noscript></div></div></figure><figure name="cd98" id="cd98" class="graf graf--figure graf--iframe graf-after--figure"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 40.714%;"></div><div class="progressiveMedia js-progressiveMedia is-canvasLoaded is-imageLoaded" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/resize" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="75"></canvas><div class="iframeContainer"><iframe width="700" height="250" data-src="/media/4d8f936443461fb4ea74731cddba711f?postId=a270cb05e0b3" data-media-id="4d8f936443461fb4ea74731cddba711f" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" class="progressiveMedia-iframe js-progressiveMedia-iframe" allowfullscreen="" frameborder="0" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/4d8f936443461fb4ea74731cddba711f.html"></iframe></div><noscript class="js-progressiveMedia-inner"><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/4d8f936443461fb4ea74731cddba711f?postId=a270cb05e0b3" data-media-id="4d8f936443461fb4ea74731cddba711f" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen frameborder="0"></IFRAME></div></noscript></div></div></figure><pre name="8bbc" id="8bbc" class="graf graf--pre graf-after--figure">Out: 98423.0</pre><h3 name="d369" id="d369" class="graf graf--h3 graf-after--pre">Exponential smoothing</h3><p name="5631" id="5631" class="graf graf--p graf-after--h3">And now let’s take a look at what happens if instead of weighting the last nn values of the time series we start weighting all available observations while exponentially decreasing weights as we move further back in historical data. There’s a formula of the simple <a href="https://en.wikipedia.org/wiki/Exponential_smoothing" data-href="https://en.wikipedia.org/wiki/Exponential_smoothing" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank"><strong class="markup--strong markup--p-strong">exponential smoothing</strong></a> that will help us in that:</p><figure name="598b" id="598b" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 148px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 21.2%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*JJZyOq_GySQnx8N1ZZ-UfQ.png" data-width="1198" data-height="254" data-action="zoom" data-action-value="1*JJZyOq_GySQnx8N1ZZ-UfQ.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_JJZyOq_GySQnx8N1ZZ-UfQ.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="15"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*JJZyOq_GySQnx8N1ZZ-UfQ.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_JJZyOq_GySQnx8N1ZZ-UfQ(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*JJZyOq_GySQnx8N1ZZ-UfQ.png"></noscript></div></div></figure><p name="e858" id="e858" class="graf graf--p graf-after--figure">Here the model value is a weighted average between the current true value and the previous model values. The α weight is called a smoothing factor. It defines how quickly we will “forget” the last available true observation. The less α is the more influence previous model values have, and the smoother the series is.</p><p name="d160" id="d160" class="graf graf--p graf-after--p">Exponentiality is hiding in the recursivity of the function — we multiply each time (1−α) by the previous model value which, in its turn, also containes (1−α) and so forth until the very beginning.</p><figure name="4986" id="4986" class="graf graf--figure graf--iframe graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 100.429%;"></div><div class="progressiveMedia js-progressiveMedia is-canvasLoaded is-imageLoaded" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/resize" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="75"></canvas><div class="iframeContainer"><iframe width="700" height="250" data-src="/media/0bf8f9e6ba75e585f317f5e2fe572473?postId=a270cb05e0b3" data-media-id="0bf8f9e6ba75e585f317f5e2fe572473" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" class="progressiveMedia-iframe js-progressiveMedia-iframe" allowfullscreen="" frameborder="0" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/0bf8f9e6ba75e585f317f5e2fe572473.html"></iframe></div><noscript class="js-progressiveMedia-inner"><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/0bf8f9e6ba75e585f317f5e2fe572473?postId=a270cb05e0b3" data-media-id="0bf8f9e6ba75e585f317f5e2fe572473" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen frameborder="0"></IFRAME></div></noscript></div></div></figure><figure name="c44c" id="c44c" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 333px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 47.5%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*iP_blo7a9pCJ9EB4ZcOYcw.png" data-width="892" data-height="424" data-action="zoom" data-action-value="1*iP_blo7a9pCJ9EB4ZcOYcw.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_iP_blo7a9pCJ9EB4ZcOYcw.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="35"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*iP_blo7a9pCJ9EB4ZcOYcw.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_iP_blo7a9pCJ9EB4ZcOYcw(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*iP_blo7a9pCJ9EB4ZcOYcw.png"></noscript></div></div></figure><figure name="6aee" id="6aee" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 331px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 47.3%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*L_w3qDoexk4ba3LKMXcqwQ.png" data-width="897" data-height="424" data-action="zoom" data-action-value="1*L_w3qDoexk4ba3LKMXcqwQ.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_L_w3qDoexk4ba3LKMXcqwQ.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="35"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*L_w3qDoexk4ba3LKMXcqwQ.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_L_w3qDoexk4ba3LKMXcqwQ(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*L_w3qDoexk4ba3LKMXcqwQ.png"></noscript></div></div></figure><h3 name="1c6f" id="1c6f" class="graf graf--h3 graf-after--figure">Double exponential smoothing</h3><p name="91f1" id="91f1" class="graf graf--p graf-after--h3">Until now all we could get from our methods in the best case was just a single future point prediction (and also some nice smoothing), that’s cool but not enough, so let’s extend exponential smoothing so that we can predict two future points (of course, we also get some smoothing).</p><p name="ab59" id="ab59" class="graf graf--p graf-after--p">Series decomposition should help us — we obtain two components: intercept (also, level) ℓ and trend (also, slope) b. We’ve learnt to predict intercept (or expected series value) using previous methods, and now we will apply the same exponential smoothing to the trend, believing naively or perhaps not that the future direction of the time series changes depends on the previous weighted changes.</p><figure name="0c7e" id="0c7e" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 293px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 41.8%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*ws6cwxbpczBgTGYEZep79Q.png" data-width="1426" data-height="596" data-action="zoom" data-action-value="1*ws6cwxbpczBgTGYEZep79Q.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_ws6cwxbpczBgTGYEZep79Q.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="31"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*ws6cwxbpczBgTGYEZep79Q.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_ws6cwxbpczBgTGYEZep79Q(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*ws6cwxbpczBgTGYEZep79Q.png"></noscript></div></div></figure><p name="85f0" id="85f0" class="graf graf--p graf-after--figure">As a result we get a set of functions. The first one describes intercept, as before it depends on the current value of the series, and the second term is now split into previous values of the level and of the trend. The second function describes trend — it depends on the level changes at the current step and on the previous value of the trend. In this case β coefficient is a weight in the exponential smoothing. The final prediction is the sum of the model values of the intercept and trend.</p><figure name="be10" id="be10" class="graf graf--figure graf--iframe graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 138.143%;"></div><div class="progressiveMedia js-progressiveMedia is-canvasLoaded is-imageLoaded" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/resize" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="75"></canvas><div class="iframeContainer"><iframe width="700" height="250" data-src="/media/283ca910d732eb0a16254b23af4046e5?postId=a270cb05e0b3" data-media-id="283ca910d732eb0a16254b23af4046e5" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" class="progressiveMedia-iframe js-progressiveMedia-iframe" allowfullscreen="" frameborder="0" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/283ca910d732eb0a16254b23af4046e5.html"></iframe></div><noscript class="js-progressiveMedia-inner"><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/283ca910d732eb0a16254b23af4046e5?postId=a270cb05e0b3" data-media-id="283ca910d732eb0a16254b23af4046e5" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen frameborder="0"></IFRAME></div></noscript></div></div></figure><figure name="8c06" id="8c06" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 286px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 40.9%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*c9XHSuc9d83bmopHJVnPLA.png" data-width="1171" data-height="479" data-action="zoom" data-action-value="1*c9XHSuc9d83bmopHJVnPLA.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_c9XHSuc9d83bmopHJVnPLA.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="30"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*c9XHSuc9d83bmopHJVnPLA.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_c9XHSuc9d83bmopHJVnPLA(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*c9XHSuc9d83bmopHJVnPLA.png"></noscript></div></div></figure><figure name="319a" id="319a" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 284px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 40.5%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*LrBONoISc3sb1HvwJNoN9A.png" data-width="1182" data-height="479" data-action="zoom" data-action-value="1*LrBONoISc3sb1HvwJNoN9A.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_LrBONoISc3sb1HvwJNoN9A.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="30"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*LrBONoISc3sb1HvwJNoN9A.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_LrBONoISc3sb1HvwJNoN9A(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*LrBONoISc3sb1HvwJNoN9A.png"></noscript></div></div></figure><p name="149c" id="149c" class="graf graf--p graf-after--figure">Now we have to tune two parameters — α and β. The former is responsible for the series smoothing around trend, and the latter for the smoothing of the trend itself. The bigger the values, the more weight the latest observations will have and the less smoothed the model series will be. Combinations of the parameters may produce really weird results, especially if set manually. We’ll look into choosing parameters automatically in a bit, immediately after triple exponential smoothing.</p><h3 name="b2ac" id="b2ac" class="graf graf--h3 graf-after--p">Triple exponential smoothing a.k.a. Holt-Winters</h3><p name="229f" id="229f" class="graf graf--p graf-after--h3">Hooray! We’ve successfully reached our next variant of exponential smoothing, this time triple.</p><p name="1ab7" id="1ab7" class="graf graf--p graf-after--p">The idea of this method is that we add another, third component — seasonality. This means we should’t use the method if our time series do not have seasonality, which is not the case in our example. Seasonal component in the model will explain repeated variations around intercept and trend, and it will be described by the length of the season, in other words by the period after which variations repeat. For each observation in the season there’s a separate component, for example, if the length of the season is 7 (weekly seasonality), we will have 7 seasonal components, one for each day of the week.</p><p name="097a" id="097a" class="graf graf--p graf-after--p">Now we get a new system:</p><figure name="b864" id="b864" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 333px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 47.599999999999994%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*tQUjJKDKmqjGPeQ9YqV_dQ.png" data-width="1722" data-height="820" data-action="zoom" data-action-value="1*tQUjJKDKmqjGPeQ9YqV_dQ.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_tQUjJKDKmqjGPeQ9YqV_dQ.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="35"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*tQUjJKDKmqjGPeQ9YqV_dQ.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_tQUjJKDKmqjGPeQ9YqV_dQ(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*tQUjJKDKmqjGPeQ9YqV_dQ.png"></noscript></div></div></figure><p name="e7dd" id="e7dd" class="graf graf--p graf-after--figure">Intercept now depends on the current value of the series minus corresponding seasonal component, trend stays unchanged, and the seasonal component depends on the current value of the series minus intercept and on the previous value of the component. Please take into account that the component is smoothed through all the available seasons, for example, if we have a Monday component then it will only be averaged with other Mondays. You can read more on how averaging works and how initial approximation of the trend and seasonal components is done <a href="http://www.itl.nist.gov/div898/handbook/pmc/section4/pmc435.htm" data-href="http://www.itl.nist.gov/div898/handbook/pmc/section4/pmc435.htm" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">here</a>. Now that we have seasonal component we can predict not one and not even two but arbitrary mm future steps which is very encouraging.</p><p name="1cb0" id="1cb0" class="graf graf--p graf-after--p">Below is the code for a triple exponential smoothing model, also known by the last names of its creators — Charles Holt and his student Peter Winters. Additionally Brutlag method was included into the model to build confidence intervals:</p><figure name="844c" id="844c" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 284px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 40.6%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*6Cu5nv-COdclmdfXnAU02Q.png" data-width="1642" data-height="666" data-action="zoom" data-action-value="1*6Cu5nv-COdclmdfXnAU02Q.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_6Cu5nv-COdclmdfXnAU02Q.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="30"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*6Cu5nv-COdclmdfXnAU02Q.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_6Cu5nv-COdclmdfXnAU02Q(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*6Cu5nv-COdclmdfXnAU02Q.png"></noscript></div></div></figure><p name="fca0" id="fca0" class="graf graf--p graf-after--figure">where T is the length of the season, d is the predicted deviation, and the other parameters were taken from the triple exponential smoothing. You can read more about the method and its applicability to anomalies detection in time series <a href="http://fedcsis.org/proceedings/2012/pliks/118.pdf" data-href="http://fedcsis.org/proceedings/2012/pliks/118.pdf" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">here</a>.</p><figure name="a2f2" id="a2f2" class="graf graf--figure graf--iframe graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 339.286%;"></div><div class="progressiveMedia js-progressiveMedia is-canvasLoaded is-imageLoaded" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/resize" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="75"></canvas><div class="iframeContainer"><iframe width="700" height="250" data-src="/media/13d018f43b2a8fce21157f0174ff5010?postId=a270cb05e0b3" data-media-id="13d018f43b2a8fce21157f0174ff5010" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" class="progressiveMedia-iframe js-progressiveMedia-iframe" allowfullscreen="" frameborder="0" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/13d018f43b2a8fce21157f0174ff5010.html"></iframe></div><noscript class="js-progressiveMedia-inner"><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/13d018f43b2a8fce21157f0174ff5010?postId=a270cb05e0b3" data-media-id="13d018f43b2a8fce21157f0174ff5010" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen frameborder="0"></IFRAME></div></noscript></div></div></figure><h3 name="dc0b" id="dc0b" class="graf graf--h3 graf-after--figure">Time series cross validation</h3><p name="db41" id="db41" class="graf graf--p graf-after--h3">Before we start building model let’s talk first about how to estimate model parameters automatically.</p><p name="9af4" id="9af4" class="graf graf--p graf-after--p">There’s nothing unusual here, as always we have to choose a loss function suitable for the task, that will tell us how close the model approximates data. Then using cross-validation we will evaluate our chosen loss function for given model parameters, calculate gradient, adjust model parameters and so forth, bravely descending to the global minimum of error.</p><p name="71dc" id="71dc" class="graf graf--p graf-after--p">The question is how to do cross-validation on time series, because, you know, time series do have time structure and one just can’t randomly mix values in a fold without preserving this structure, otherwise all time dependencies between observations will be lost. That’s why we will have to use a bit more tricky approach to optimization of the model parameters, I don’t know if there’s an official name to it but on <a href="https://stats.stackexchange.com/questions/14099/using-k-fold-cross-validation-for-time-series-model-selection" data-href="https://stats.stackexchange.com/questions/14099/using-k-fold-cross-validation-for-time-series-model-selection" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">CrossValidated</a>, where one can find all the answers but the Answer to the Ultimate Question of Life, the Universe, and Everything, “cross-validation on a rolling basis” was proposed as a name.</p><p name="858b" id="858b" class="graf graf--p graf-after--p">The idea is rather simple — we train our model on a small segment of the time series, from the beginning until some <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">t</em></strong>, make predictions for the next <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">t+n </em></strong>steps and calculate an error. Then we expand our training sample until <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">t+n</em></strong> value and make predictions from <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">t+n</em></strong> until <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">t+2∗n</em></strong>, and we continue moving our test segment of the time series until we hit the last available observation. As a result we have as many folds as many <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">n</em></strong> will fit between the initial training sample and the last observation.</p><figure name="43cf" id="43cf" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 631px; max-height: 296px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 46.9%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*6ujHlGolRTGvspeUDRe1EA.png" data-width="631" data-height="296" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_6ujHlGolRTGvspeUDRe1EA.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="35"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*6ujHlGolRTGvspeUDRe1EA.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_6ujHlGolRTGvspeUDRe1EA(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*6ujHlGolRTGvspeUDRe1EA.png"></noscript></div></div></figure><p name="68b4" id="68b4" class="graf graf--p graf-after--figure">Now, knowing how to set cross-validation, we will find optimal parameters for the Holt-Winters model, recall that we have daily seasonality in ads, hence the <code class="markup--code markup--p-code">slen=24</code> parameter</p><figure name="e7f2" id="e7f2" class="graf graf--figure graf--iframe graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 106.714%;"></div><div class="progressiveMedia js-progressiveMedia is-canvasLoaded is-imageLoaded" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/resize" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="75"></canvas><div class="iframeContainer"><iframe width="700" height="250" data-src="/media/f2d86e3b66198039efec1f7405ff0815?postId=a270cb05e0b3" data-media-id="f2d86e3b66198039efec1f7405ff0815" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" class="progressiveMedia-iframe js-progressiveMedia-iframe" allowfullscreen="" frameborder="0" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/f2d86e3b66198039efec1f7405ff0815.html"></iframe></div><noscript class="js-progressiveMedia-inner"><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/f2d86e3b66198039efec1f7405ff0815?postId=a270cb05e0b3" data-media-id="f2d86e3b66198039efec1f7405ff0815" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen frameborder="0"></IFRAME></div></noscript></div></div></figure><p name="e095" id="e095" class="graf graf--p graf-after--figure">In the Holt-Winters model, as well as in the other models of exponential smoothing, there’s a constraint on how big smoothing parameters could be, each of them is in the range from 0 to 1, therefore to minimize loss function we have to choose an algorithm that supports constraints on model parameters, in our case — Truncated Newton conjugate gradient.</p><figure name="8fb3" id="8fb3" class="graf graf--figure graf--iframe graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 78.429%;"></div><div class="progressiveMedia js-progressiveMedia is-canvasLoaded is-imageLoaded" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/resize" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="75"></canvas><div class="iframeContainer"><iframe width="700" height="250" data-src="/media/73be269f00a8c1a1c5d061fb341d29fb?postId=a270cb05e0b3" data-media-id="73be269f00a8c1a1c5d061fb341d29fb" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" class="progressiveMedia-iframe js-progressiveMedia-iframe" allowfullscreen="" frameborder="0" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/73be269f00a8c1a1c5d061fb341d29fb.html"></iframe></div><noscript class="js-progressiveMedia-inner"><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/73be269f00a8c1a1c5d061fb341d29fb?postId=a270cb05e0b3" data-media-id="73be269f00a8c1a1c5d061fb341d29fb" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen frameborder="0"></IFRAME></div></noscript></div></div></figure><pre name="e6d8" id="e6d8" class="graf graf--pre graf-after--figure">0.11652680227350454 0.002677697431105852 0.05820973606789237<br>CPU times: user 1.96 s, sys: 17.3 ms, total: 1.98 s<br>Wall time: 2 s</pre><p name="58d9" id="58d9" class="graf graf--p graf-after--pre">Chart rendering code</p><figure name="c438" id="c438" class="graf graf--figure graf--iframe graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 116.143%;"></div><div class="progressiveMedia js-progressiveMedia is-canvasLoaded is-imageLoaded" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/resize" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="75"></canvas><div class="iframeContainer"><iframe width="700" height="250" data-src="/media/3aeee8993d1fefafbcb9cab658285b11?postId=a270cb05e0b3" data-media-id="3aeee8993d1fefafbcb9cab658285b11" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" class="progressiveMedia-iframe js-progressiveMedia-iframe" allowfullscreen="" frameborder="0" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/3aeee8993d1fefafbcb9cab658285b11.html"></iframe></div><noscript class="js-progressiveMedia-inner"><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/3aeee8993d1fefafbcb9cab658285b11?postId=a270cb05e0b3" data-media-id="3aeee8993d1fefafbcb9cab658285b11" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen frameborder="0"></IFRAME></div></noscript></div></div></figure><figure name="69b1" id="69b1" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 351px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 50.2%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*5GDW3uGcxkgoUfAxWMN7eQ.png" data-width="1171" data-height="588" data-action="zoom" data-action-value="1*5GDW3uGcxkgoUfAxWMN7eQ.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_5GDW3uGcxkgoUfAxWMN7eQ.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="37"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*5GDW3uGcxkgoUfAxWMN7eQ.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_5GDW3uGcxkgoUfAxWMN7eQ(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*5GDW3uGcxkgoUfAxWMN7eQ.png"></noscript></div></div></figure><figure name="6f47" id="6f47" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 351px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 50.2%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*DSXPcnHnvnZRH8YijMOfMg.png" data-width="1171" data-height="588" data-action="zoom" data-action-value="1*DSXPcnHnvnZRH8YijMOfMg.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_DSXPcnHnvnZRH8YijMOfMg.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="37"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*DSXPcnHnvnZRH8YijMOfMg.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_DSXPcnHnvnZRH8YijMOfMg(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*DSXPcnHnvnZRH8YijMOfMg.png"></noscript></div></div></figure><p name="7355" id="7355" class="graf graf--p graf-after--figure">Judging by the chart, our model was able to successfully approximate the initial time series, catching daily seasonality, overall downwards trend and even some anomalies. If you take a look at the modeled deviation, you can clearly see that the model reacts quite sharply to the changes in the structure of the series but then quickly returns deviation to the normal values, “forgetting” the past. This feature of the model allows us to quickly build anomaly detection systems even for quite noisy series without spending too much time and money on preparing data and training the model.</p><figure name="ab91" id="ab91" class="graf graf--figure graf--iframe graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 21.857%;"></div><div class="progressiveMedia js-progressiveMedia is-canvasLoaded is-imageLoaded" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/resize" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="75"></canvas><div class="iframeContainer"><iframe width="700" height="250" data-src="/media/39596efc13e7b45164e0ab70c5137afa?postId=a270cb05e0b3" data-media-id="39596efc13e7b45164e0ab70c5137afa" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" class="progressiveMedia-iframe js-progressiveMedia-iframe" allowfullscreen="" frameborder="0" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/39596efc13e7b45164e0ab70c5137afa.html"></iframe></div><noscript class="js-progressiveMedia-inner"><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/39596efc13e7b45164e0ab70c5137afa?postId=a270cb05e0b3" data-media-id="39596efc13e7b45164e0ab70c5137afa" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen frameborder="0"></IFRAME></div></noscript></div></div></figure><figure name="a395" id="a395" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 153px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 21.9%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*i8KR9tLBxRQ5nUFtHjUvgA.png" data-width="1444" data-height="316" data-action="zoom" data-action-value="1*i8KR9tLBxRQ5nUFtHjUvgA.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_i8KR9tLBxRQ5nUFtHjUvgA.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="16"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*i8KR9tLBxRQ5nUFtHjUvgA.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_i8KR9tLBxRQ5nUFtHjUvgA(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*i8KR9tLBxRQ5nUFtHjUvgA.png"></noscript></div></div><figcaption class="imageCaption">Deviation increases when we have anomalies</figcaption></figure><p name="d826" id="d826" class="graf graf--p graf-after--figure">We’ll apply the same algorithm for the second series which, as we know, has trend and 30-day seasonality</p><figure name="7d76" id="7d76" class="graf graf--figure graf--iframe graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 69%;"></div><div class="progressiveMedia js-progressiveMedia is-canvasLoaded is-imageLoaded" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/resize" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="75"></canvas><div class="iframeContainer"><iframe width="700" height="250" data-src="/media/0c7394864a56f97e5b719faef02bf32f?postId=a270cb05e0b3" data-media-id="0c7394864a56f97e5b719faef02bf32f" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" class="progressiveMedia-iframe js-progressiveMedia-iframe" allowfullscreen="" frameborder="0" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/0c7394864a56f97e5b719faef02bf32f.html"></iframe></div><noscript class="js-progressiveMedia-inner"><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/0c7394864a56f97e5b719faef02bf32f?postId=a270cb05e0b3" data-media-id="0c7394864a56f97e5b719faef02bf32f" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen frameborder="0"></IFRAME></div></noscript></div></div></figure><pre name="9f2d" id="9f2d" class="graf graf--pre graf-after--figure">0.012841445048055122 0.04883371471892228 0.00943678056045777<br>CPU times: user 3.03 s, sys: 24.8 ms, total: 3.05 s<br>Wall time: 3.11 s</pre><figure name="53b9" id="53b9" class="graf graf--figure graf-after--pre"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 350px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 50%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*Km4pL2wIDQGRE3-12rLFCg.png" data-width="1176" data-height="588" data-action="zoom" data-action-value="1*Km4pL2wIDQGRE3-12rLFCg.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_Km4pL2wIDQGRE3-12rLFCg.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="37"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*Km4pL2wIDQGRE3-12rLFCg.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_Km4pL2wIDQGRE3-12rLFCg(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*Km4pL2wIDQGRE3-12rLFCg.png"></noscript></div></div></figure><p name="e35c" id="e35c" class="graf graf--p graf-after--figure">Looks quite adequate, model has caught both upwards trend and seasonal spikes and overall fits our values nicely</p><figure name="b283" id="b283" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 350px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 50%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*b1D6G3IR4XUcP8oUvu6B0A.png" data-width="1176" data-height="588" data-action="zoom" data-action-value="1*b1D6G3IR4XUcP8oUvu6B0A.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_b1D6G3IR4XUcP8oUvu6B0A.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="37"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*b1D6G3IR4XUcP8oUvu6B0A.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_b1D6G3IR4XUcP8oUvu6B0A(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*b1D6G3IR4XUcP8oUvu6B0A.png"></noscript></div></div><figcaption class="imageCaption">Caught some anomalies as&nbsp;well</figcaption></figure><figure name="ec15" id="ec15" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 189px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 27%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*G_Do4GDD2nAHjiXFyW-qaA.png" data-width="1171" data-height="316" data-action="zoom" data-action-value="1*G_Do4GDD2nAHjiXFyW-qaA.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_G_Do4GDD2nAHjiXFyW-qaA.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="20"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*G_Do4GDD2nAHjiXFyW-qaA.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_G_Do4GDD2nAHjiXFyW-qaA(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*G_Do4GDD2nAHjiXFyW-qaA.png"></noscript></div></div><figcaption class="imageCaption">Deviations increases as forecast period moves&nbsp;further</figcaption></figure><h3 name="834e" id="834e" class="graf graf--h3 graf-after--figure">Econometric approach</h3><h3 name="fad3" id="fad3" class="graf graf--h3 graf-after--h3">Stationarity</h3><p name="3b2a" id="3b2a" class="graf graf--p graf-after--h3">Before we start modeling we should mention such an important property of time series as <a href="https://en.wikipedia.org/wiki/Stationary_process" data-href="https://en.wikipedia.org/wiki/Stationary_process" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank"><strong class="markup--strong markup--p-strong">stationarity</strong></a>.</p><p name="a5d6" id="a5d6" class="graf graf--p graf-after--p">If the process is stationary that means it doesn’t change its statistical properties over time, namely mean and variance do not change over time (constancy of variance is also called <a href="https://en.wikipedia.org/wiki/Homoscedasticity" data-href="https://en.wikipedia.org/wiki/Homoscedasticity" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">homoscedasticity</a>), also covariance function does not depend on the time (should only depend on the distance between observations). You can see this visually on the pictures from the post of <a href="http://www.seanabu.com/2016/03/22/time-series-seasonal-ARIMA-model-in-python/" data-href="http://www.seanabu.com/2016/03/22/time-series-seasonal-ARIMA-model-in-python/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Sean Abu</a>:</p><ul class="postList"><li name="10e3" id="10e3" class="graf graf--li graf-after--p">The red graph below is not stationary because the mean increases over time.</li></ul><figure name="d1ad" id="d1ad" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 586px; max-height: 257px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 43.9%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="0*qrYiVksz8g3drl5Z.png" data-width="586" data-height="257" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/0_qrYiVksz8g3drl5Z.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="32"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/0*qrYiVksz8g3drl5Z.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/0_qrYiVksz8g3drl5Z(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/0*qrYiVksz8g3drl5Z.png"></noscript></div></div></figure><ul class="postList"><li name="f8a0" id="f8a0" class="graf graf--li graf-after--figure">We were unlucky with the variance, see the varying spread of values over time</li></ul><figure name="2214" id="2214" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 577px; max-height: 251px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 43.5%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="0*fEqQDq_TaEqa511n.png" data-width="577" data-height="251" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/0_fEqQDq_TaEqa511n.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="32"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/0*fEqQDq_TaEqa511n.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/0_fEqQDq_TaEqa511n(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/0*fEqQDq_TaEqa511n.png"></noscript></div></div></figure><ul class="postList"><li name="f93b" id="f93b" class="graf graf--li graf-after--figure">Finally, the covariance of the i th term and the (i + m) th term should not be a function of time. In the following graph, you will notice the spread becomes closer as the time increases. Hence, the covariance is not constant with time for the right chart.</li></ul><figure name="6833" id="6833" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 566px; max-height: 249px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 44%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*qJs3g2f77flIXr6mFsbPmw.png" data-width="566" data-height="249" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_qJs3g2f77flIXr6mFsbPmw.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="32"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*qJs3g2f77flIXr6mFsbPmw.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_qJs3g2f77flIXr6mFsbPmw(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*qJs3g2f77flIXr6mFsbPmw.png"></noscript></div></div></figure><p name="1aa3" id="1aa3" class="graf graf--p graf-after--figure">So why stationarity is so important? Because it’s easy to make predictions on the stationary series as we assume that the future statistical properties will not be different from the currently observed. Most of the time series models in one way or the other model and predict those properties (mean or variance, for example), that’s why predictions would be wrong if the original series were not stationary. Unfortunately most of the time series we see outside of textbooks are non-stationary but we can (and should) change this.</p><p name="116c" id="116c" class="graf graf--p graf-after--p">So, to fight non-stationarity we have to know our enemy so to say. Let’s see how to detect it. To do that we will now take a look at the white noise and random walks and we will learn how to get from one to another for free, without registration and SMS.</p><p name="0a82" id="0a82" class="graf graf--p graf-after--p">White noise chart:</p><figure name="a94b" id="a94b" class="graf graf--figure graf--iframe graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 18.714%;"></div><div class="progressiveMedia js-progressiveMedia is-canvasLoaded is-imageLoaded" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/resize" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="75"></canvas><div class="iframeContainer"><iframe width="700" height="250" data-src="/media/78f2deb127f15fa807f3542f30978a28?postId=a270cb05e0b3" data-media-id="78f2deb127f15fa807f3542f30978a28" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" class="progressiveMedia-iframe js-progressiveMedia-iframe" allowfullscreen="" frameborder="0" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/78f2deb127f15fa807f3542f30978a28.html"></iframe></div><noscript class="js-progressiveMedia-inner"><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/78f2deb127f15fa807f3542f30978a28?postId=a270cb05e0b3" data-media-id="78f2deb127f15fa807f3542f30978a28" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen frameborder="0"></IFRAME></div></noscript></div></div></figure><figure name="d2cc" id="d2cc" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 243px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 34.8%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*C95wWTnA2hE2H9sBmFzQDw.png" data-width="869" data-height="302" data-action="zoom" data-action-value="1*C95wWTnA2hE2H9sBmFzQDw.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_C95wWTnA2hE2H9sBmFzQDw.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="25"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*C95wWTnA2hE2H9sBmFzQDw.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_C95wWTnA2hE2H9sBmFzQDw(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*C95wWTnA2hE2H9sBmFzQDw.png"></noscript></div></div></figure><p name="fb5c" id="fb5c" class="graf graf--p graf-after--figure">So the process generated by standard normal distribution is stationary and oscillates around 0 with with deviation of 1. Now based on this process we will generate a new one where each next value will depend on the previous one: x(t)=ρ*x(t−1)+e(t)</p><p name="0e41" id="0e41" class="graf graf--p graf-after--p">Chart rendering code</p><figure name="ef69" id="ef69" class="graf graf--figure graf--iframe graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 43.857%;"></div><div class="progressiveMedia js-progressiveMedia is-canvasLoaded is-imageLoaded" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/resize" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="75"></canvas><div class="iframeContainer"><iframe width="700" height="250" data-src="/media/f89cd6073bacdd0d50afdf4997465303?postId=a270cb05e0b3" data-media-id="f89cd6073bacdd0d50afdf4997465303" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" class="progressiveMedia-iframe js-progressiveMedia-iframe" allowfullscreen="" frameborder="0" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/f89cd6073bacdd0d50afdf4997465303.html"></iframe></div><noscript class="js-progressiveMedia-inner"><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/f89cd6073bacdd0d50afdf4997465303?postId=a270cb05e0b3" data-media-id="f89cd6073bacdd0d50afdf4997465303" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen frameborder="0"></IFRAME></div></noscript></div></div></figure><figure name="c3f5" id="c3f5" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 590px; max-height: 226px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 38.3%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*7jeb47aq-0WmNndzO_jxHQ.png" data-width="590" data-height="226" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_7jeb47aq-0WmNndzO_jxHQ.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="27"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*7jeb47aq-0WmNndzO_jxHQ.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_7jeb47aq-0WmNndzO_jxHQ(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*7jeb47aq-0WmNndzO_jxHQ.png"></noscript></div></div></figure><figure name="6143" id="6143" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 590px; max-height: 226px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 38.3%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*XLwz-8vtx51T9RvfhZ2e_A.png" data-width="590" data-height="226" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_XLwz-8vtx51T9RvfhZ2e_A.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="27"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*XLwz-8vtx51T9RvfhZ2e_A.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_XLwz-8vtx51T9RvfhZ2e_A(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*XLwz-8vtx51T9RvfhZ2e_A.png"></noscript></div></div></figure><figure name="ad82" id="ad82" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 599px; max-height: 226px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 37.7%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*gMyyzlnnJHN1Nd1dZ8SL5g.png" data-width="599" data-height="226" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_gMyyzlnnJHN1Nd1dZ8SL5g.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="27"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*gMyyzlnnJHN1Nd1dZ8SL5g.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_gMyyzlnnJHN1Nd1dZ8SL5g(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*gMyyzlnnJHN1Nd1dZ8SL5g.png"></noscript></div></div></figure><figure name="61e3" id="61e3" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 596px; max-height: 226px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 37.9%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*ZhIS_d1-htkJtZM3QrYAGw.png" data-width="596" data-height="226" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_ZhIS_d1-htkJtZM3QrYAGw.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="27"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*ZhIS_d1-htkJtZM3QrYAGw.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_ZhIS_d1-htkJtZM3QrYAGw(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*ZhIS_d1-htkJtZM3QrYAGw.png"></noscript></div></div></figure><p name="8a1c" id="8a1c" class="graf graf--p graf-after--figure">On the first chart you can see the same stationary white noise you’ve seen before. On the second one the value of ρρ increased to 0.6, as a result wider cycles appeared on the chart but overall it is still stationary. The third chart deviates even more from the 0 mean but still oscillates around it. Finally, the value of ρ equal to 1 gives us a random walk process — non-stationary time series.</p><p name="49ba" id="49ba" class="graf graf--p graf-after--p">This happens because after reaching the critical value the series x(t)=ρ*x(t−1)+e(t) does not return to its mean value. If we subtract x(t−1) from the left and the right side we will get x(t)−x(t−1)=(ρ−1)*x(t−1)+e(t), where the expression on the left is called the first difference. If ρ=1 then the first difference gives us stationary white noise e(t). This fact is the main idea of the <a href="https://en.wikipedia.org/wiki/Dickey%E2%80%93Fuller_test" data-href="https://en.wikipedia.org/wiki/Dickey%E2%80%93Fuller_test" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Dickey-Fuller test</a> for the stationarity of time series (presence of a unit root). If we can get stationary series from non-stationary using the first difference we call those series integrated of order 1. Null hypothesis of the test — time series is non-stationary, was rejected on the first three charts and was accepted on the last one. We’ve got to say that the first difference is not always enough to get stationary series as the process might be integrated of order d, d &gt; 1 (and have multiple unit roots), in such cases the augmented Dickey-Fuller test is used that checks multiple lags at once.</p><p name="d33f" id="d33f" class="graf graf--p graf-after--p">We can fight non-stationarity using different approaches — various order differences, trend and seasonality removal, smoothing, also using transformations like Box-Cox or logarithmic.</p><h3 name="ba37" id="ba37" class="graf graf--h3 graf-after--p">Getting rid of non-stationarity and building&nbsp;SARIMA</h3><p name="7dd0" id="7dd0" class="graf graf--p graf-after--h3">Now let’s build an ARIMA model by walking through all the circles of hell stages of making series stationary.</p><p name="4a13" id="4a13" class="graf graf--p graf-after--p">Chart rendering code</p><figure name="b631" id="b631" class="graf graf--figure graf--iframe graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 84.714%;"></div><div class="progressiveMedia js-progressiveMedia is-canvasLoaded is-imageLoaded" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/resize" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="75"></canvas><div class="iframeContainer"><iframe width="700" height="250" data-src="/media/8874120edb17ad6a42f18fe27ee13344?postId=a270cb05e0b3" data-media-id="8874120edb17ad6a42f18fe27ee13344" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" class="progressiveMedia-iframe js-progressiveMedia-iframe" allowfullscreen="" frameborder="0" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/8874120edb17ad6a42f18fe27ee13344.html"></iframe></div><noscript class="js-progressiveMedia-inner"><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/8874120edb17ad6a42f18fe27ee13344?postId=a270cb05e0b3" data-media-id="8874120edb17ad6a42f18fe27ee13344" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen frameborder="0"></IFRAME></div></noscript></div></div></figure><figure name="2bfc" id="2bfc" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 406px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 57.9%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*GSf3AiF0mNc9AScQsI1UTQ.png" data-width="856" data-height="496" data-action="zoom" data-action-value="1*GSf3AiF0mNc9AScQsI1UTQ.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_GSf3AiF0mNc9AScQsI1UTQ.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="42"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*GSf3AiF0mNc9AScQsI1UTQ.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_GSf3AiF0mNc9AScQsI1UTQ(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*GSf3AiF0mNc9AScQsI1UTQ.png"></noscript></div></div></figure><p name="db77" id="db77" class="graf graf--p graf-after--figure">Surprisingly, initial series are stationary, Dickey-Fuller test rejected null hypothesis that a unit root is present. Actually, it can be seen on the plot itself — we don’t have a visible trend, so mean is constant, variance is pretty much stable throughout the series. The only thing left is seasonality which we have to deal with before modelling. To do so let’s take “seasonal difference” which means a simple subtraction of series from itself with a lag that equals the seasonal period.</p><figure name="fa51" id="fa51" class="graf graf--figure graf--iframe graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 12.429%;"></div><div class="progressiveMedia js-progressiveMedia is-canvasLoaded is-imageLoaded" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/resize" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="75"></canvas><div class="iframeContainer"><iframe width="700" height="250" data-src="/media/e5786e114a0e7c21b697de1ff14d5ce0?postId=a270cb05e0b3" data-media-id="e5786e114a0e7c21b697de1ff14d5ce0" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" class="progressiveMedia-iframe js-progressiveMedia-iframe" allowfullscreen="" frameborder="0" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/e5786e114a0e7c21b697de1ff14d5ce0.html"></iframe></div><noscript class="js-progressiveMedia-inner"><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/e5786e114a0e7c21b697de1ff14d5ce0?postId=a270cb05e0b3" data-media-id="e5786e114a0e7c21b697de1ff14d5ce0" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen frameborder="0"></IFRAME></div></noscript></div></div></figure><figure name="77ca" id="77ca" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 406px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 57.9%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*qD4gwPbKj3hFAah3F84r2g.png" data-width="856" data-height="496" data-action="zoom" data-action-value="1*qD4gwPbKj3hFAah3F84r2g.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_qD4gwPbKj3hFAah3F84r2g.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="42"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*qD4gwPbKj3hFAah3F84r2g.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_qD4gwPbKj3hFAah3F84r2g(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*qD4gwPbKj3hFAah3F84r2g.png"></noscript></div></div></figure><p name="ca94" id="ca94" class="graf graf--p graf-after--figure">That’s better, visible seasonality is gone, however autocorrelation function still has too many significant lags. To remove them we’ll take first differences — subtraction of series from itself with lag 1</p><figure name="938c" id="938c" class="graf graf--figure graf--iframe graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 12.429%;"></div><div class="progressiveMedia js-progressiveMedia is-canvasLoaded is-imageLoaded" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/resize" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="75"></canvas><div class="iframeContainer"><iframe width="700" height="250" data-src="/media/052e26c3634342ea56b15f8502d3b03a?postId=a270cb05e0b3" data-media-id="052e26c3634342ea56b15f8502d3b03a" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" class="progressiveMedia-iframe js-progressiveMedia-iframe" allowfullscreen="" frameborder="0" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/052e26c3634342ea56b15f8502d3b03a.html"></iframe></div><noscript class="js-progressiveMedia-inner"><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/052e26c3634342ea56b15f8502d3b03a?postId=a270cb05e0b3" data-media-id="052e26c3634342ea56b15f8502d3b03a" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen frameborder="0"></IFRAME></div></noscript></div></div></figure><figure name="5a9e" id="5a9e" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 406px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 57.9%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*t_5QyZgc8nuuVdRBKbV4iQ.png" data-width="856" data-height="496" data-action="zoom" data-action-value="1*t_5QyZgc8nuuVdRBKbV4iQ.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_t_5QyZgc8nuuVdRBKbV4iQ.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="42"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*t_5QyZgc8nuuVdRBKbV4iQ.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_t_5QyZgc8nuuVdRBKbV4iQ(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*t_5QyZgc8nuuVdRBKbV4iQ.png"></noscript></div></div></figure><p name="f3a9" id="f3a9" class="graf graf--p graf-after--figure">Perfect! Our series now look like something undescribable, oscillating around zero, Dickey-Fuller indicates that it’s stationary and the number of significant peaks in ACF has dropped. We can finally start modelling!</p><h3 name="c4d2" id="c4d2" class="graf graf--h3 graf-after--p">ARIMA-family Crash-Course</h3><p name="82e3" id="82e3" class="graf graf--p graf-after--h3">A few words about the model. Letter by letter we’ll build the full name — <strong class="markup--strong markup--p-strong">SARIMA(<em class="markup--em markup--p-em">p,d,q</em>)(<em class="markup--em markup--p-em">P,D,Q,s</em>)</strong>, Seasonal Autoregression Moving Average model:</p><ul class="postList"><li name="518b" id="518b" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">AR(<em class="markup--em markup--li-em">p</em>) </strong>— autoregression model, i.e., regression of the time series onto itself. Basic assumption — current series values depend on its previous values with some lag (or several lags). The maximum lag in the model is referred to as <strong class="markup--strong markup--li-strong"><em class="markup--em markup--li-em">p</em></strong>. To determine the initial <strong class="markup--strong markup--li-strong"><em class="markup--em markup--li-em">p</em></strong> you need to have a look at PACF plot — find the biggest significant lag, after which <strong class="markup--strong markup--li-strong">most</strong> other lags are becoming not significant.</li><li name="3880" id="3880" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">MA(<em class="markup--em markup--li-em">q</em>)</strong> — moving average model. Without going into detail it models the error of the time series, again the assumption is — current error depends on the previous with some lag, which is referred to as <strong class="markup--strong markup--li-strong"><em class="markup--em markup--li-em">q</em></strong>. Initial value can be found on ACF plot with the same logic.</li></ul><p name="ff3f" id="ff3f" class="graf graf--p graf-after--li">Let’s have a small break and combine the first 4 letters:</p><p name="a718" id="a718" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">AR(<em class="markup--em markup--p-em">p</em>) + MA(<em class="markup--em markup--p-em">q</em>) = ARMA(<em class="markup--em markup--p-em">p,q</em>)</strong></p><p name="893f" id="893f" class="graf graf--p graf-after--p">What we have here is the Autoregressive–moving-average model! If the series is stationary, it can be approximated with those 4 letters. Shall we continue?</p><ul class="postList"><li name="004f" id="004f" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">I(<em class="markup--em markup--li-em">d</em>)</strong>— order of integration. It is simply the number of nonseasonal differences needed for making the series stationary. In our case it’s just 1, because we used first differences.</li></ul><p name="95a7" id="95a7" class="graf graf--p graf-after--li">Adding this letter to four previous gives us <strong class="markup--strong markup--p-strong">ARIMA</strong> model which knows how to handle non-stationary data with the help of nonseasonal differences. Awesome, last letter left!</p><ul class="postList"><li name="fb29" id="fb29" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">S(<em class="markup--em markup--li-em">s</em>)</strong> — this letter is responsible for seasonality and equals the season period length of the series</li></ul><p name="4863" id="4863" class="graf graf--p graf-after--li">After attaching the last letter we find out that instead of one additional parameter we get three in a row — <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">(P,D,Q)</em></strong></p><ul class="postList"><li name="1149" id="1149" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong"><em class="markup--em markup--li-em">P</em></strong> — order of autoregression for seasonal component of the model, again can be derived from PACF, but this time you need to look at the number of significant lags, which are the multiples of the season period length, for example, if the period equals 24 and looking at PACF we see 24-th and 48-th lags are significant, that means initial <strong class="markup--strong markup--li-strong"><em class="markup--em markup--li-em">P</em></strong> should be 2.</li><li name="3993" id="3993" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong"><em class="markup--em markup--li-em">Q </em></strong>— same logic, but for the moving average model of the seasonal component, use ACF plot</li><li name="5abf" id="5abf" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong"><em class="markup--em markup--li-em">D</em></strong> — order of seasonal integration. Can be equal to 1 or 0, depending on whether seasonal differences were applied or not</li></ul><p name="b29b" id="b29b" class="graf graf--p graf-after--li">Now, knowing how to set initial parameters, let’s have a look at the final plot once again and set the parameters:<br><code class="markup--code markup--p-code">tsplot(ads_diff[24+1:], lags=60)</code></p><figure name="2d31" id="2d31" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 406px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 57.9%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*t_5QyZgc8nuuVdRBKbV4iQ.png" data-width="856" data-height="496" data-action="zoom" data-action-value="1*t_5QyZgc8nuuVdRBKbV4iQ.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_t_5QyZgc8nuuVdRBKbV4iQ.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="42"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*t_5QyZgc8nuuVdRBKbV4iQ.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_t_5QyZgc8nuuVdRBKbV4iQ(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*t_5QyZgc8nuuVdRBKbV4iQ.png"></noscript></div></div></figure><ul class="postList"><li name="4388" id="4388" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong"><em class="markup--em markup--li-em">p</em></strong> is most probably 4, since it’s the last significant lag on PACF after which most others are becoming not significant.</li><li name="da1e" id="da1e" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong"><em class="markup--em markup--li-em">d</em></strong> just equals 1, because we had first differences</li><li name="b9cd" id="b9cd" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong"><em class="markup--em markup--li-em">q</em></strong> should be somewhere around 4 as well as seen on ACF</li><li name="5561" id="5561" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong"><em class="markup--em markup--li-em">P</em></strong> might be 2, since 24-th and 48-th lags are somewhat significant on PACF</li><li name="ae68" id="ae68" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong"><em class="markup--em markup--li-em">D</em></strong> again equals 1 — we performed seasonal differentiation</li><li name="c41a" id="c41a" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong"><em class="markup--em markup--li-em">Q</em></strong> is probably 1, 24-th lag on ACF is significant, while 48-th is not</li></ul><p name="5284" id="5284" class="graf graf--p graf-after--li">Now we want to test various models and see which one is better</p><figure name="3e3b" id="3e3b" class="graf graf--figure graf--iframe graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 47%;"></div><div class="progressiveMedia js-progressiveMedia is-canvasLoaded is-imageLoaded" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/resize" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="75"></canvas><div class="iframeContainer"><iframe width="700" height="250" data-src="/media/c3b9bad201fbbc5cc19f18791f460397?postId=a270cb05e0b3" data-media-id="c3b9bad201fbbc5cc19f18791f460397" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" class="progressiveMedia-iframe js-progressiveMedia-iframe" allowfullscreen="" frameborder="0" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/c3b9bad201fbbc5cc19f18791f460397.html"></iframe></div><noscript class="js-progressiveMedia-inner"><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/c3b9bad201fbbc5cc19f18791f460397?postId=a270cb05e0b3" data-media-id="c3b9bad201fbbc5cc19f18791f460397" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen frameborder="0"></IFRAME></div></noscript></div></div></figure><pre name="605e" id="605e" class="graf graf--pre graf-after--figure">Out: 54</pre><figure name="3227" id="3227" class="graf graf--figure graf--iframe graf-after--pre"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 122.429%;"></div><div class="progressiveMedia js-progressiveMedia is-canvasLoaded is-imageLoaded" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/resize" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="75"></canvas><div class="iframeContainer"><iframe width="700" height="250" data-src="/media/6c57bb142b13b6c970a6511e42942e6e?postId=a270cb05e0b3" data-media-id="6c57bb142b13b6c970a6511e42942e6e" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" class="progressiveMedia-iframe js-progressiveMedia-iframe" allowfullscreen="" frameborder="0" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/6c57bb142b13b6c970a6511e42942e6e.html"></iframe></div><noscript class="js-progressiveMedia-inner"><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/6c57bb142b13b6c970a6511e42942e6e?postId=a270cb05e0b3" data-media-id="6c57bb142b13b6c970a6511e42942e6e" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen frameborder="0"></IFRAME></div></noscript></div></div></figure><pre name="8f95" id="8f95" class="graf graf--pre graf-after--figure">CPU times: user 41.3 s, sys: 2.76 s, total: 44.1 s<br>Wall time: 37.4 s</pre><figure name="0e79" id="0e79" class="graf graf--figure graf--iframe graf-after--pre"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 25%;"></div><div class="progressiveMedia js-progressiveMedia is-canvasLoaded is-imageLoaded" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/resize" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="75"></canvas><div class="iframeContainer"><iframe width="700" height="250" data-src="/media/752b7f413125dd17fe0f226784d1bb8f?postId=a270cb05e0b3" data-media-id="752b7f413125dd17fe0f226784d1bb8f" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" class="progressiveMedia-iframe js-progressiveMedia-iframe" allowfullscreen="" frameborder="0" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/752b7f413125dd17fe0f226784d1bb8f.html"></iframe></div><noscript class="js-progressiveMedia-inner"><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/752b7f413125dd17fe0f226784d1bb8f?postId=a270cb05e0b3" data-media-id="752b7f413125dd17fe0f226784d1bb8f" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen frameborder="0"></IFRAME></div></noscript></div></div></figure><figure name="ac05" id="ac05" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 411px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 58.599999999999994%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*ETjGK2zslGmrH3HHvvDUhQ.png" data-width="1954" data-height="1146" data-action="zoom" data-action-value="1*ETjGK2zslGmrH3HHvvDUhQ.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_ETjGK2zslGmrH3HHvvDUhQ.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="43"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*ETjGK2zslGmrH3HHvvDUhQ.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_ETjGK2zslGmrH3HHvvDUhQ(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*ETjGK2zslGmrH3HHvvDUhQ.png"></noscript></div></div></figure><p name="b6a8" id="b6a8" class="graf graf--p graf-after--figure">Let’s inspect the residuals of the model<br><code class="markup--code markup--p-code">tsplot(best_model.resid[24+1:], lags=60)</code></p><figure name="16e4" id="16e4" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 406px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 57.9%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*q_bSXlMdmiwMA73fXOOK5A.png" data-width="856" data-height="496" data-action="zoom" data-action-value="1*q_bSXlMdmiwMA73fXOOK5A.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_q_bSXlMdmiwMA73fXOOK5A.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="42"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*q_bSXlMdmiwMA73fXOOK5A.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_q_bSXlMdmiwMA73fXOOK5A(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*q_bSXlMdmiwMA73fXOOK5A.png"></noscript></div></div></figure><p name="ddc4" id="ddc4" class="graf graf--p graf-after--figure">Well, it’s clear that the residuals are stationary, there are no apparent autocorrelations, let’s make predictions using our model</p><figure name="978f" id="978f" class="graf graf--figure graf--iframe graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 106.714%;"></div><div class="progressiveMedia js-progressiveMedia is-canvasLoaded is-imageLoaded" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/resize" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="75"></canvas><div class="iframeContainer"><iframe width="700" height="250" data-src="/media/d39a229ac4d44a7c405ebc6292ab3e0f?postId=a270cb05e0b3" data-media-id="d39a229ac4d44a7c405ebc6292ab3e0f" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" class="progressiveMedia-iframe js-progressiveMedia-iframe" allowfullscreen="" frameborder="0" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/d39a229ac4d44a7c405ebc6292ab3e0f.html"></iframe></div><noscript class="js-progressiveMedia-inner"><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/d39a229ac4d44a7c405ebc6292ab3e0f?postId=a270cb05e0b3" data-media-id="d39a229ac4d44a7c405ebc6292ab3e0f" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen frameborder="0"></IFRAME></div></noscript></div></div></figure><figure name="a14a" id="a14a" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 333px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 47.5%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*ccFZwDXwb2ZW1c8FuxRHLw.png" data-width="892" data-height="424" data-action="zoom" data-action-value="1*ccFZwDXwb2ZW1c8FuxRHLw.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_ccFZwDXwb2ZW1c8FuxRHLw.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="35"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*ccFZwDXwb2ZW1c8FuxRHLw.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_ccFZwDXwb2ZW1c8FuxRHLw(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*ccFZwDXwb2ZW1c8FuxRHLw.png"></noscript></div></div></figure><p name="9be9" id="9be9" class="graf graf--p graf-after--figure">In the end we got quite adequate predictions, our model on average was wrong by 4.01%, which is very very good, but overall costs of preparing data, making series stationary and brute-force parameters selecting might not be worth this accuracy.</p><h3 name="58af" id="58af" class="graf graf--h3 graf-after--p">Linear (and not quite) models on time&nbsp;series</h3><p name="fd6f" id="fd6f" class="graf graf--p graf-after--h3">Small lyrical digression again. Often in my job I have to build models with the only principle guiding me known as <a href="http://fastgood.cheap/" data-href="http://fastgood.cheap/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank"><em class="markup--em markup--p-em">fast, good, cheap</em></a>. That means some of the models will never be “production ready” as they demand too much time for the data preparation (for example, SARIMA), or require frequent re-training on new data (again, SARIMA), or are difficult to tune (good example — SARIMA), so it’s very often much easier to select a couple of features from the existing time series and build a simple linear regression or, say, a random forest. Good and cheap.</p><p name="b6f5" id="b6f5" class="graf graf--p graf-after--p">Maybe this approach is not backed up by theory, breaks different assumptions (like, Gauss-Markov theorem, especially about the errors being uncorrelated), but it’s very useful in practice and quite frequently used in machine learning competitions.</p><h3 name="09a8" id="09a8" class="graf graf--h3 graf-after--p">Feature exctraction</h3><p name="16e8" id="16e8" class="graf graf--p graf-after--h3">Alright, model needs features and all we have is a 1-dimentional time series to work with. What features can we exctract?</p><p name="d14d" id="d14d" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Lags of time series, of course</strong></p><p name="3156" id="3156" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Window statistics:</strong></p><ul class="postList"><li name="677a" id="677a" class="graf graf--li graf-after--p">Max/min value of series in a window</li><li name="03b7" id="03b7" class="graf graf--li graf-after--li">Average/median value in a window</li><li name="1296" id="1296" class="graf graf--li graf-after--li">Window variance</li><li name="6478" id="6478" class="graf graf--li graf-after--li">etc.</li></ul><p name="eaa6" id="eaa6" class="graf graf--p graf-after--li"><strong class="markup--strong markup--p-strong">Date and time features:</strong></p><ul class="postList"><li name="4fd6" id="4fd6" class="graf graf--li graf-after--p">Minute of an hour, hour of a day, day of the week, you get it</li><li name="2521" id="2521" class="graf graf--li graf-after--li">Is this day a holiday? Maybe something special happened? Make it a boolean feature</li></ul><p name="ff7a" id="ff7a" class="graf graf--p graf-after--li"><strong class="markup--strong markup--p-strong">Target encoding</strong></p><p name="13fc" id="13fc" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Forecasts from other models</strong> (though we can lose the speed of prediction this way)</p><p name="cb00" id="cb00" class="graf graf--p graf-after--p">Let’s run through some of the methods and see what we can extract from our ads series</p><h3 name="83a5" id="83a5" class="graf graf--h3 graf-after--p">Lags of time&nbsp;series</h3><p name="6726" id="6726" class="graf graf--p graf-after--h3">Shifting the series <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">n</em></strong> steps back we get a feature column where the current value of time series is aligned with its value at the time <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">t−n</em></strong>. If we make a 1 lag shift and train a model on that feature, the model will be able to forecast 1 step ahead having observed current state of the series. Increasing the lag, say, up to 6 will allow the model to make predictions 6 steps ahead, however it will use data, observed 6 steps back. If something fundamentally changes the series during that unobserved period, the model will not catch the changes and will return forecasts with big error. So, during the initial lag selection one has to find a balance between the optimal prediction quality and the length of forecasting horizon.</p><figure name="75d6" id="75d6" class="graf graf--figure graf--iframe graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 28.143%;"></div><div class="progressiveMedia js-progressiveMedia is-canvasLoaded is-imageLoaded" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/resize" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="75"></canvas><div class="iframeContainer"><iframe width="700" height="250" data-src="/media/7117097383239f7e517dd0806a913d32?postId=a270cb05e0b3" data-media-id="7117097383239f7e517dd0806a913d32" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" class="progressiveMedia-iframe js-progressiveMedia-iframe" allowfullscreen="" frameborder="0" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/7117097383239f7e517dd0806a913d32.html"></iframe></div><noscript class="js-progressiveMedia-inner"><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/7117097383239f7e517dd0806a913d32?postId=a270cb05e0b3" data-media-id="7117097383239f7e517dd0806a913d32" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen frameborder="0"></IFRAME></div></noscript></div></div></figure><p name="20a1" id="20a1" class="graf graf--p graf-after--figure">Wonderful, we got ourselves a dataset here, why don’t we train a model?</p><figure name="53c2" id="53c2" class="graf graf--figure graf--iframe graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 279.571%;"></div><div class="progressiveMedia js-progressiveMedia is-canvasLoaded is-imageLoaded" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/resize" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="75"></canvas><div class="iframeContainer"><iframe width="700" height="250" data-src="/media/a51ed6ea651623f995c69afff722f5c1?postId=a270cb05e0b3" data-media-id="a51ed6ea651623f995c69afff722f5c1" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" class="progressiveMedia-iframe js-progressiveMedia-iframe" allowfullscreen="" frameborder="0" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/a51ed6ea651623f995c69afff722f5c1.html"></iframe></div><noscript class="js-progressiveMedia-inner"><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/a51ed6ea651623f995c69afff722f5c1?postId=a270cb05e0b3" data-media-id="a51ed6ea651623f995c69afff722f5c1" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen frameborder="0"></IFRAME></div></noscript></div></div></figure><figure name="5ef3" id="5ef3" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 324px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 46.300000000000004%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*0hLmlcFVnKljGCe-jmZDPg.png" data-width="1072" data-height="496" data-action="zoom" data-action-value="1*0hLmlcFVnKljGCe-jmZDPg.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_0hLmlcFVnKljGCe-jmZDPg.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="33"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*0hLmlcFVnKljGCe-jmZDPg.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_0hLmlcFVnKljGCe-jmZDPg(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*0hLmlcFVnKljGCe-jmZDPg.png"></noscript></div></div></figure><figure name="78d8" id="78d8" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 344px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 49.2%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*9K0FULC9peB6_zRgRnQUyA.png" data-width="878" data-height="432" data-action="zoom" data-action-value="1*9K0FULC9peB6_zRgRnQUyA.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_9K0FULC9peB6_zRgRnQUyA.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="36"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*9K0FULC9peB6_zRgRnQUyA.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_9K0FULC9peB6_zRgRnQUyA(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*9K0FULC9peB6_zRgRnQUyA.png"></noscript></div></div></figure><p name="181c" id="181c" class="graf graf--p graf-after--figure">Well, simple lags and linear regression gave us predictions that are not that far from SARIMA in quality. There are lot’s of unnecessary features, but we’ll do feature selection a bit later. Now let’s continue engineering!</p><p name="fff1" id="fff1" class="graf graf--p graf-after--p">We’ll add into our dataset hour, day of the week and boolean for the weekend. To do so we need to transform current dataframe index into <code class="markup--code markup--p-code">datetime</code> format and exctract <code class="markup--code markup--p-code">hour</code> and <code class="markup--code markup--p-code">weekday</code> out of it.</p><figure name="6c33" id="6c33" class="graf graf--figure graf--iframe graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 18.714%;"></div><div class="progressiveMedia js-progressiveMedia is-canvasLoaded is-imageLoaded" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/resize" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="75"></canvas><div class="iframeContainer"><iframe width="700" height="250" data-src="/media/45a96df277f1621a3ac2ad077aa3aacc?postId=a270cb05e0b3" data-media-id="45a96df277f1621a3ac2ad077aa3aacc" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" class="progressiveMedia-iframe js-progressiveMedia-iframe" allowfullscreen="" frameborder="0" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/45a96df277f1621a3ac2ad077aa3aacc.html"></iframe></div><noscript class="js-progressiveMedia-inner"><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/45a96df277f1621a3ac2ad077aa3aacc?postId=a270cb05e0b3" data-media-id="45a96df277f1621a3ac2ad077aa3aacc" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen frameborder="0"></IFRAME></div></noscript></div></div></figure><p name="9144" id="9144" class="graf graf--p graf-after--figure">We can visualize the resulting features</p><figure name="21fb" id="21fb" class="graf graf--figure graf--iframe graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 25%;"></div><div class="progressiveMedia js-progressiveMedia is-canvasLoaded is-imageLoaded" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/resize" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="75"></canvas><div class="iframeContainer"><iframe width="700" height="250" data-src="/media/aa7d0fd9bcb3119f43c118ad9116e16f?postId=a270cb05e0b3" data-media-id="aa7d0fd9bcb3119f43c118ad9116e16f" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" class="progressiveMedia-iframe js-progressiveMedia-iframe" allowfullscreen="" frameborder="0" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/aa7d0fd9bcb3119f43c118ad9116e16f.html"></iframe></div><noscript class="js-progressiveMedia-inner"><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/aa7d0fd9bcb3119f43c118ad9116e16f?postId=a270cb05e0b3" data-media-id="aa7d0fd9bcb3119f43c118ad9116e16f" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen frameborder="0"></IFRAME></div></noscript></div></div></figure><figure name="e1d4" id="e1d4" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 265px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 37.8%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*-ZG-BbBqy_Xl1AjxW8jyYg.png" data-width="925" data-height="350" data-action="zoom" data-action-value="1*-ZG-BbBqy_Xl1AjxW8jyYg.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_-ZG-BbBqy_Xl1AjxW8jyYg.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="27"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*-ZG-BbBqy_Xl1AjxW8jyYg.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_-ZG-BbBqy_Xl1AjxW8jyYg(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*-ZG-BbBqy_Xl1AjxW8jyYg.png"></noscript></div></div><figcaption class="imageCaption">Blue spiky line — hour feature, green ladder — weekday, red bump — weekends!</figcaption></figure><p name="e18f" id="e18f" class="graf graf--p graf-after--figure">Since now we have different scales of variables — thousands for lag features and tens for categorical, it’s reasonable to transform them into same scale to continue exploring feature importances and later — regularization.</p><figure name="af85" id="af85" class="graf graf--figure graf--iframe graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 56.429%;"></div><div class="progressiveMedia js-progressiveMedia is-canvasLoaded is-imageLoaded" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/resize" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="75"></canvas><div class="iframeContainer"><iframe width="700" height="250" data-src="/media/d54787795c7b7cbbd90514b1a5d5bea7?postId=a270cb05e0b3" data-media-id="d54787795c7b7cbbd90514b1a5d5bea7" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" class="progressiveMedia-iframe js-progressiveMedia-iframe" allowfullscreen="" frameborder="0" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/d54787795c7b7cbbd90514b1a5d5bea7.html"></iframe></div><noscript class="js-progressiveMedia-inner"><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/d54787795c7b7cbbd90514b1a5d5bea7?postId=a270cb05e0b3" data-media-id="d54787795c7b7cbbd90514b1a5d5bea7" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen frameborder="0"></IFRAME></div></noscript></div></div></figure><figure name="1e70" id="1e70" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 324px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 46.300000000000004%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*0vAkMWquV4dTgewDg94JYQ.png" data-width="1072" data-height="496" data-action="zoom" data-action-value="1*0vAkMWquV4dTgewDg94JYQ.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_0vAkMWquV4dTgewDg94JYQ.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="33"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*0vAkMWquV4dTgewDg94JYQ.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_0vAkMWquV4dTgewDg94JYQ(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*0vAkMWquV4dTgewDg94JYQ.png"></noscript></div></div></figure><figure name="974a" id="974a" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 359px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 51.2%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*NENact_8y6O1352EYzoG0A.png" data-width="886" data-height="454" data-action="zoom" data-action-value="1*NENact_8y6O1352EYzoG0A.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_NENact_8y6O1352EYzoG0A.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="37"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*NENact_8y6O1352EYzoG0A.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_NENact_8y6O1352EYzoG0A(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*NENact_8y6O1352EYzoG0A.png"></noscript></div></div></figure><p name="3d2a" id="3d2a" class="graf graf--p graf-after--figure">Test error goes down a little bit and judging by the coefficients plot we can say that <code class="markup--code markup--p-code">weekday</code> and <code class="markup--code markup--p-code">is_weekend</code> are rather useful features</p><h3 name="a874" id="a874" class="graf graf--h3 graf-after--p">Target encoding</h3><p name="aad2" id="aad2" class="graf graf--p graf-after--h3">I’d like to add another variant of encoding categorical variables — by mean value. If it’s undesirable to explode dataset by using tons of dummy variables that can lead to the loss of information about the distance, and if they can’t be used as real values because of the conflicts like “0 hours &lt; 23 hours”, then it’s possible to encode a variable with a little bit more interpretable values. Natural idea is to encode with the mean value of the target variable. In our example every day of the week and every hour of the day can be encoded by the corresponding average number of ads watched during that day or hour. It’s very important to make sure that the mean value is calculated over train set only (or over current cross-validation fold only), so that the model is not aware of the future.</p><figure name="344b" id="344b" class="graf graf--figure graf--iframe graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 25%;"></div><div class="progressiveMedia js-progressiveMedia is-canvasLoaded is-imageLoaded" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/resize" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="75"></canvas><div class="iframeContainer"><iframe width="700" height="250" data-src="/media/a86724f8a6c0c4b6d6279d65eb02c8ac?postId=a270cb05e0b3" data-media-id="a86724f8a6c0c4b6d6279d65eb02c8ac" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" class="progressiveMedia-iframe js-progressiveMedia-iframe" allowfullscreen="" frameborder="0" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/a86724f8a6c0c4b6d6279d65eb02c8ac.html"></iframe></div><noscript class="js-progressiveMedia-inner"><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/a86724f8a6c0c4b6d6279d65eb02c8ac?postId=a270cb05e0b3" data-media-id="a86724f8a6c0c4b6d6279d65eb02c8ac" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen frameborder="0"></IFRAME></div></noscript></div></div></figure><p name="d122" id="d122" class="graf graf--p graf-after--figure">Let’s have a look at hour averages</p><figure name="04a1" id="04a1" class="graf graf--figure graf--iframe graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 21.857%;"></div><div class="progressiveMedia js-progressiveMedia is-canvasLoaded is-imageLoaded" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/resize" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="75"></canvas><div class="iframeContainer"><iframe width="700" height="250" data-src="/media/09c0d915cbdc3bacd13e32f6dbd1d513?postId=a270cb05e0b3" data-media-id="09c0d915cbdc3bacd13e32f6dbd1d513" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" class="progressiveMedia-iframe js-progressiveMedia-iframe" allowfullscreen="" frameborder="0" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/09c0d915cbdc3bacd13e32f6dbd1d513.html"></iframe></div><noscript class="js-progressiveMedia-inner"><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/09c0d915cbdc3bacd13e32f6dbd1d513?postId=a270cb05e0b3" data-media-id="09c0d915cbdc3bacd13e32f6dbd1d513" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen frameborder="0"></IFRAME></div></noscript></div></div></figure><figure name="2247" id="2247" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 445px; max-height: 316px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 71%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*vnc2RhvCPIuPOVqTKKIjog.png" data-width="445" data-height="316" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_vnc2RhvCPIuPOVqTKKIjog.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="52"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*vnc2RhvCPIuPOVqTKKIjog.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_vnc2RhvCPIuPOVqTKKIjog(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*vnc2RhvCPIuPOVqTKKIjog.png"></noscript></div></div></figure><p name="293b" id="293b" class="graf graf--p graf-after--figure">Finally, put all the transformations together in a single function</p><figure name="395b" id="395b" class="graf graf--figure graf--iframe graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 223%;"></div><div class="progressiveMedia js-progressiveMedia is-canvasLoaded is-imageLoaded" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/resize" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="75"></canvas><div class="iframeContainer"><iframe width="700" height="250" data-src="/media/dba682908c70394da0d0c6905b95e1f8?postId=a270cb05e0b3" data-media-id="dba682908c70394da0d0c6905b95e1f8" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" class="progressiveMedia-iframe js-progressiveMedia-iframe" allowfullscreen="" frameborder="0" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/dba682908c70394da0d0c6905b95e1f8.html"></iframe></div><noscript class="js-progressiveMedia-inner"><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/dba682908c70394da0d0c6905b95e1f8?postId=a270cb05e0b3" data-media-id="dba682908c70394da0d0c6905b95e1f8" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen frameborder="0"></IFRAME></div></noscript></div></div></figure><figure name="d7cc" id="d7cc" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 324px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 46.300000000000004%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*ujaq7SFvHBxPDeF8XFQOmA.png" data-width="1072" data-height="496" data-action="zoom" data-action-value="1*ujaq7SFvHBxPDeF8XFQOmA.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_ujaq7SFvHBxPDeF8XFQOmA.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="33"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*ujaq7SFvHBxPDeF8XFQOmA.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_ujaq7SFvHBxPDeF8XFQOmA(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*ujaq7SFvHBxPDeF8XFQOmA.png"></noscript></div></div></figure><figure name="dc9d" id="dc9d" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 382px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 54.50000000000001%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*S0Pr4flzWrwhveJE9AWoeA.png" data-width="886" data-height="483" data-action="zoom" data-action-value="1*S0Pr4flzWrwhveJE9AWoeA.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_S0Pr4flzWrwhveJE9AWoeA.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="40"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*S0Pr4flzWrwhveJE9AWoeA.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_S0Pr4flzWrwhveJE9AWoeA(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*S0Pr4flzWrwhveJE9AWoeA.png"></noscript></div></div></figure><p name="1095" id="1095" class="graf graf--p graf-after--figure">Here comes <strong class="markup--strong markup--p-strong">overfitting</strong>! <code class="markup--code markup--p-code">Hour_average</code> variable was so great on train dataset that the model decided to concentrate all its forces on it - as a result the quality of prediction dropped. This problem can be approached in a variety of ways, for example, we can calculate target encoding not for the whole train set, but for some window instead, that way encodings from the last observed window will probably describe current series state better. Or we can just drop it manually, since we're sure here it makes things only worse.</p><figure name="8c29" id="8c29" class="graf graf--figure graf--iframe graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 21.857%;"></div><div class="progressiveMedia js-progressiveMedia is-canvasLoaded is-imageLoaded" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/resize" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="75"></canvas><div class="iframeContainer"><iframe width="700" height="250" data-src="/media/f0b69c0f36adf4198a825e6f386b1312?postId=a270cb05e0b3" data-media-id="f0b69c0f36adf4198a825e6f386b1312" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" class="progressiveMedia-iframe js-progressiveMedia-iframe" allowfullscreen="" frameborder="0" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/f0b69c0f36adf4198a825e6f386b1312.html"></iframe></div><noscript class="js-progressiveMedia-inner"><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/f0b69c0f36adf4198a825e6f386b1312?postId=a270cb05e0b3" data-media-id="f0b69c0f36adf4198a825e6f386b1312" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen frameborder="0"></IFRAME></div></noscript></div></div></figure><h3 name="5794" id="5794" class="graf graf--h3 graf-after--figure">Regularization and feature selection</h3><p name="f119" id="f119" class="graf graf--p graf-after--h3">As we already know, not all features are equally healthy, some may lead to overfitting and should be removed. Besides manual inspecting we can apply regularization. Two most popular regression models with regularization are Ridge and Lasso regressions. They both add some more constrains to our loss function.</p><p name="6138" id="6138" class="graf graf--p graf-after--p">In case of <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">Ridge regression</em></strong> — those constrains are the sum of squares of coefficients, multiplied by the regularization coefficient. I.e. the bigger coefficient feature has — the bigger our loss will be, hence we will try to optimize the model while keeping coefficients fairly low.</p><p name="658b" id="658b" class="graf graf--p graf-after--p">As a result of such regularization which has a proud name <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">L2</em></strong> we’ll have higher bias and lower variance, so the model will generalize better (at least that’s what we hope will happen).</p><p name="d9ab" id="d9ab" class="graf graf--p graf-after--p">Second model —<strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em"> Lasso regression</em></strong>, here we add to the loss function not squares but absolute values of the coefficients, as a result during the optimization process coefficients of unimportant features may become zeroes, so Lasso regression allows for automated feature selection. This regularization type is called <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">L1</em></strong>.</p><p name="6f8c" id="6f8c" class="graf graf--p graf-after--p">First, make sure we have things to drop and data truly has highly correlated features</p><figure name="4ab4" id="4ab4" class="graf graf--figure graf--iframe graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 12.429%;"></div><div class="progressiveMedia js-progressiveMedia is-canvasLoaded is-imageLoaded" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/resize" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="75"></canvas><div class="iframeContainer"><iframe width="700" height="250" data-src="/media/9ab2657b0a203150da1a57830b555aa6?postId=a270cb05e0b3" data-media-id="9ab2657b0a203150da1a57830b555aa6" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" class="progressiveMedia-iframe js-progressiveMedia-iframe" allowfullscreen="" frameborder="0" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/9ab2657b0a203150da1a57830b555aa6.html"></iframe></div><noscript class="js-progressiveMedia-inner"><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/9ab2657b0a203150da1a57830b555aa6?postId=a270cb05e0b3" data-media-id="9ab2657b0a203150da1a57830b555aa6" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen frameborder="0"></IFRAME></div></noscript></div></div></figure><figure name="60e7" id="60e7" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 597px; max-height: 509px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 85.3%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*KTxkDrHFdl7E6xs3Hq5_YA.png" data-width="597" data-height="509" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_KTxkDrHFdl7E6xs3Hq5_YA.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="63"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*KTxkDrHFdl7E6xs3Hq5_YA.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_KTxkDrHFdl7E6xs3Hq5_YA(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*KTxkDrHFdl7E6xs3Hq5_YA.png"></noscript></div></div><figcaption class="imageCaption">Prettier than some modern&nbsp;art</figcaption></figure><figure name="2ccb" id="2ccb" class="graf graf--figure graf--iframe graf-after--figure"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 37.571%;"></div><div class="progressiveMedia js-progressiveMedia is-canvasLoaded is-imageLoaded" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/resize" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="75"></canvas><div class="iframeContainer"><iframe width="700" height="250" data-src="/media/8bc464e4cd272e2949292c1fd87e1098?postId=a270cb05e0b3" data-media-id="8bc464e4cd272e2949292c1fd87e1098" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" class="progressiveMedia-iframe js-progressiveMedia-iframe" allowfullscreen="" frameborder="0" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/8bc464e4cd272e2949292c1fd87e1098.html"></iframe></div><noscript class="js-progressiveMedia-inner"><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/8bc464e4cd272e2949292c1fd87e1098?postId=a270cb05e0b3" data-media-id="8bc464e4cd272e2949292c1fd87e1098" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen frameborder="0"></IFRAME></div></noscript></div></div></figure><figure name="9b71" id="9b71" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 324px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 46.300000000000004%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*mh_iu9oxsBSDwHwsCjZdRw.png" data-width="1072" data-height="496" data-action="zoom" data-action-value="1*mh_iu9oxsBSDwHwsCjZdRw.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_mh_iu9oxsBSDwHwsCjZdRw.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="33"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*mh_iu9oxsBSDwHwsCjZdRw.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_mh_iu9oxsBSDwHwsCjZdRw(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*mh_iu9oxsBSDwHwsCjZdRw.png"></noscript></div></div></figure><figure name="0e19" id="0e19" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 359px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 51.2%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*F4boA6Z10qzeJq4cpmp4jw.png" data-width="886" data-height="454" data-action="zoom" data-action-value="1*F4boA6Z10qzeJq4cpmp4jw.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_F4boA6Z10qzeJq4cpmp4jw.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="37"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*F4boA6Z10qzeJq4cpmp4jw.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_F4boA6Z10qzeJq4cpmp4jw(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*F4boA6Z10qzeJq4cpmp4jw.png"></noscript></div></div></figure><p name="86dd" id="86dd" class="graf graf--p graf-after--figure">We can clearly see how coefficients are getting closer and closer to zero (thought never actually reach it) as their importance in the model drops</p><figure name="5305" id="5305" class="graf graf--figure graf--iframe graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 31.286%;"></div><div class="progressiveMedia js-progressiveMedia is-canvasLoaded is-imageLoaded" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/resize" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="75"></canvas><div class="iframeContainer"><iframe width="700" height="250" data-src="/media/e7441b2302318f65b8421866c5fc7504?postId=a270cb05e0b3" data-media-id="e7441b2302318f65b8421866c5fc7504" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" class="progressiveMedia-iframe js-progressiveMedia-iframe" allowfullscreen="" frameborder="0" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/e7441b2302318f65b8421866c5fc7504.html"></iframe></div><noscript class="js-progressiveMedia-inner"><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/e7441b2302318f65b8421866c5fc7504?postId=a270cb05e0b3" data-media-id="e7441b2302318f65b8421866c5fc7504" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen frameborder="0"></IFRAME></div></noscript></div></div></figure><figure name="b076" id="b076" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 324px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 46.300000000000004%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*u8lR_FDvPV6rH0JqJR87sw.png" data-width="1072" data-height="496" data-action="zoom" data-action-value="1*u8lR_FDvPV6rH0JqJR87sw.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_u8lR_FDvPV6rH0JqJR87sw.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="33"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*u8lR_FDvPV6rH0JqJR87sw.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_u8lR_FDvPV6rH0JqJR87sw(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*u8lR_FDvPV6rH0JqJR87sw.png"></noscript></div></div></figure><figure name="2601" id="2601" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 359px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 51.2%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*Q9hvolN8hDV0xTZwlIBR2g.png" data-width="886" data-height="454" data-action="zoom" data-action-value="1*Q9hvolN8hDV0xTZwlIBR2g.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_Q9hvolN8hDV0xTZwlIBR2g.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="37"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*Q9hvolN8hDV0xTZwlIBR2g.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_Q9hvolN8hDV0xTZwlIBR2g(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*Q9hvolN8hDV0xTZwlIBR2g.png"></noscript></div></div></figure><p name="4927" id="4927" class="graf graf--p graf-after--figure">Lasso regression turned out to be more conservative and removed 23-rd lag from most important features (and also dropped 5 features completely) which only made the quality of prediction better.</p><h3 name="780f" id="780f" class="graf graf--h3 graf-after--p">Boosting</h3><p name="f514" id="f514" class="graf graf--p graf-after--h3">Why not try XGBoost now?</p><figure name="dce3" id="dce3" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 400px; max-height: 300px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 75%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="0*4XXSSYy4nYDDgNex.jpg" data-width="400" data-height="300" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/0_4XXSSYy4nYDDgNex.jpg" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="56"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/0*4XXSSYy4nYDDgNex.jpg" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/0_4XXSSYy4nYDDgNex(1).jpg"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/0*4XXSSYy4nYDDgNex.jpg"></noscript></div></div></figure><figure name="858a" id="858a" class="graf graf--figure graf--iframe graf-after--figure"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 34.429%;"></div><div class="progressiveMedia js-progressiveMedia is-canvasLoaded is-imageLoaded" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/resize" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="75"></canvas><div class="iframeContainer"><iframe width="700" height="250" data-src="/media/2c1862cf66343cc5b15da9f32bbc4a98?postId=a270cb05e0b3" data-media-id="2c1862cf66343cc5b15da9f32bbc4a98" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" class="progressiveMedia-iframe js-progressiveMedia-iframe" allowfullscreen="" frameborder="0" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/2c1862cf66343cc5b15da9f32bbc4a98.html"></iframe></div><noscript class="js-progressiveMedia-inner"><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/2c1862cf66343cc5b15da9f32bbc4a98?postId=a270cb05e0b3" data-media-id="2c1862cf66343cc5b15da9f32bbc4a98" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen frameborder="0"></IFRAME></div></noscript></div></div></figure><figure name="ae1c" id="ae1c" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 324px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 46.300000000000004%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*dpguJye_sOtOFK746JVovg.png" data-width="1072" data-height="496" data-action="zoom" data-action-value="1*dpguJye_sOtOFK746JVovg.png" data-scroll="native"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_dpguJye_sOtOFK746JVovg.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="33"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*dpguJye_sOtOFK746JVovg.png" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_dpguJye_sOtOFK746JVovg(1).png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*dpguJye_sOtOFK746JVovg.png"></noscript></div></div></figure><p name="3ab5" id="3ab5" class="graf graf--p graf-after--figure">Here is the winner! The smallest error on the test set among all the models we’ve tried so far.</p><p name="5239" id="5239" class="graf graf--p graf-after--p">Yet this victory is decieving and it might not be the brightest idea to fit xgboost as soon as you get your hands over time series data. Generally tree-based models poorly handle trens in data, compared to linear models, so you have to detrend your series first or use some tricks to make the magic happen. Ideally — make the series stationary and then use XGBoost, for example, you can forecast trend separately with a linear model and then add predictions from xgboost to get final forecast.</p><h3 name="608a" id="608a" class="graf graf--h3 graf-after--p">Conclusion</h3><p name="eb91" id="eb91" class="graf graf--p graf-after--h3">We got acquainted with different time series analysis and prediction methods and approaches. Unfortunately, or maybe luckily, there’s no silver bullet to solve this kind of problems. Methods developed in the 60s of the last century (and some even in the beginning of the XIX century) are still popular along with the LSTM and RNN (not covered in this article). Partially this is related to the fact that the prediction task as any other data related task is creative in so many aspects and definitely requires research. In spite of the large number of formal quality metrics and approaches to parameters estimation, it’s often required to seek and try something different for each time series. Last but not least the balance between quality and cost is important. As a good example SARIMA model mentioned here not once or twice can produce spectacular results after due tuning but might require many hours of tambourine dancing time series manipulation, as in the same time simple linear regression model can be build in 10 minutes giving more or less comparable results.</p><h3 name="8fb8" id="8fb8" class="graf graf--h3 graf-after--p">Assignment #9</h3><p name="1a62" id="1a62" class="graf graf--p graf-after--h3">A demo version is to appear soon (~ in the end of June 2018). Full version will be available in the new session of the course (starting on October, 1).</p><h3 name="e7fd" id="e7fd" class="graf graf--h3 graf-after--p">Useful resources</h3><ul class="postList"><li name="7a2a" id="7a2a" class="graf graf--li graf-after--h3"><a href="https://people.duke.edu/~rnau/411home.htm" data-href="https://people.duke.edu/~rnau/411home.htm" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">Online textbook</a> of the advanced statistical forecasting course of the Duke University — covers in details various smoothing techniques, linear and ARIMA models</li><li name="1495" id="1495" class="graf graf--li graf-after--li"><a href="https://bmcbioinformatics.biomedcentral.com/articles/10.1186/1471-2105-15-276" data-href="https://bmcbioinformatics.biomedcentral.com/articles/10.1186/1471-2105-15-276" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">Comparison of ARIMA and Random Forest time series models for prediction of avian influenza H5N1 outbreaks</a> — one of a few where random forest applicability to the tasks of time series forecasting is actively defended</li><li name="c301" id="c301" class="graf graf--li graf-after--li graf--trailing"><a href="http://www.blackarbs.com/blog/time-series-analysis-in-python-linear-models-to-garch/11/1/2016" data-href="http://www.blackarbs.com/blog/time-series-analysis-in-python-linear-models-to-garch/11/1/2016" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">Time Series Analysis (TSA) in Python — Linear Models to GARCH</a> ARIMA models family and their applicability to the task of modeling financial indicators (Brian Christopher)</li></ul></div></div></section><section name="75ed" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="29f4" id="29f4" class="graf graf--p graf--leading graf--trailing"><em class="markup--em markup--p-em">Author: </em><a href="https://github.com/DmitrySerg" data-href="https://github.com/DmitrySerg" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank"><em class="markup--em markup--p-em">Dmitry Sergeyev</em></a><em class="markup--em markup--p-em">. Translated and edited by </em><a href="https://www.linkedin.com/in/borowis/" data-href="https://www.linkedin.com/in/borowis/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank"><em class="markup--em markup--p-em">Borys Zibrov</em></a><em class="markup--em markup--p-em">, and </em><a href="https://www.linkedin.com/in/yuanyuanpao/" data-href="https://www.linkedin.com/in/yuanyuanpao/" class="markup--anchor markup--p-anchor" rel="nofollow noopener nofollow noopener" target="_blank"><em class="markup--em markup--p-em">Yuanyuan Pao</em></a><em class="markup--em markup--p-em">.</em></p></div></div></section></div><footer class="u-paddingTop10"><div class="container u-maxWidth740"><div class="row"><div class="col u-size12of12"></div></div><div class="row"><div class="col u-size12of12 js-postTags"><div class="u-paddingBottom10"><ul class="tags tags--postTags tags--borderless"><li><a class="link u-baseColor--link" href="https://medium.com/tag/machine-learning?source=post" data-action-source="post">Machine Learning</a></li><li><a class="link u-baseColor--link" href="https://medium.com/tag/data-science?source=post" data-action-source="post">Data Science</a></li><li><a class="link u-baseColor--link" href="https://medium.com/tag/education?source=post" data-action-source="post">Education</a></li><li><a class="link u-baseColor--link" href="https://medium.com/tag/python?source=post" data-action-source="post">Python</a></li><li><a class="link u-baseColor--link" href="https://medium.com/tag/algorithms?source=post" data-action-source="post">Algorithms</a></li></ul></div></div></div><section class="uiScale uiScale-ui--small uiScale-caption--regular u-borderTopLightest u-marginTop10 u-paddingTop20"><div class="ui-h3 u-textColorDarker u-fontSize22">Like what you read? Give Dmitriy Sergeev a round of applause.</div><p class="ui-body u-marginBottom20 u-textColorDark u-fontSize16">From a quick cheer to a standing ovation, clap to show how much you enjoyed this story.</p></section><div class="postActions js-postActionsFooter"><div class="u-flexCenter"><div class="u-flex1"><div class="multirecommend js-actionMultirecommend u-flexCenter u-width60" data-post-id="a270cb05e0b3" data-is-icon-29px="true" data-is-circle="true" data-has-recommend-list="true" data-source="post_actions_footer-----a270cb05e0b3---------------------clap_footer"><div class="u-relative u-foreground"><button class="button button--large button--circle button--withChrome u-baseColor--buttonNormal button--withIcon button--withSvgIcon clapButton js-actionMultirecommendButton clapButton--largePill u-relative u-foreground u-xs-paddingLeft13 u-width60 u-height60 u-accentColor--textNormal u-accentColor--buttonNormal clap-onboardingcollection" data-action="multivote" data-action-value="a270cb05e0b3" data-action-type="long-press" data-action-source="post_actions_footer-----a270cb05e0b3---------------------clap_footer" aria-label="Clap"><span class="button-defaultState"><span class="svgIcon svgIcon--clap svgIcon--33px u-relative u-topNegative2 u-xs-top0"><svg class="svgIcon-use" width="33" height="33" viewBox="0 0 33 33"><path d="M28.86 17.342l-3.64-6.402c-.292-.433-.712-.729-1.163-.8a1.124 1.124 0 0 0-.889.213c-.63.488-.742 1.181-.33 2.061l1.222 2.587 1.4 2.46c2.234 4.085 1.511 8.007-2.145 11.663-.26.26-.526.49-.797.707 1.42-.084 2.881-.683 4.292-2.094 3.822-3.823 3.565-7.876 2.05-10.395zm-6.252 11.075c3.352-3.35 3.998-6.775 1.978-10.469l-3.378-5.945c-.292-.432-.712-.728-1.163-.8a1.122 1.122 0 0 0-.89.213c-.63.49-.742 1.182-.33 2.061l1.72 3.638a.502.502 0 0 1-.806.568l-8.91-8.91a1.335 1.335 0 0 0-1.887 1.886l5.292 5.292a.5.5 0 0 1-.707.707l-5.292-5.292-1.492-1.492c-.503-.503-1.382-.505-1.887 0a1.337 1.337 0 0 0 0 1.886l1.493 1.492 5.292 5.292a.499.499 0 0 1-.353.854.5.5 0 0 1-.354-.147L5.642 13.96a1.338 1.338 0 0 0-1.887 0 1.338 1.338 0 0 0 0 1.887l2.23 2.228 3.322 3.324a.499.499 0 0 1-.353.853.502.502 0 0 1-.354-.146l-3.323-3.324a1.333 1.333 0 0 0-1.886 0 1.325 1.325 0 0 0-.39.943c0 .356.138.691.39.943l6.396 6.397c3.528 3.53 8.86 5.313 12.821 1.353zM12.73 9.26l5.68 5.68-.49-1.037c-.518-1.107-.426-2.13.224-2.89l-3.303-3.304a1.337 1.337 0 0 0-1.886 0 1.326 1.326 0 0 0-.39.944c0 .217.067.42.165.607zm14.787 19.184c-1.599 1.6-3.417 2.392-5.353 2.392-.349 0-.7-.03-1.058-.082a7.922 7.922 0 0 1-3.667.887c-3.049 0-6.115-1.626-8.359-3.87l-6.396-6.397A2.315 2.315 0 0 1 2 19.724a2.327 2.327 0 0 1 1.923-2.296l-.875-.875a2.339 2.339 0 0 1 0-3.3 2.33 2.33 0 0 1 1.24-.647l-.139-.139c-.91-.91-.91-2.39 0-3.3.884-.884 2.421-.882 3.301 0l.138.14a2.335 2.335 0 0 1 3.948-1.24l.093.092c.091-.423.291-.828.62-1.157a2.336 2.336 0 0 1 3.3 0l3.384 3.386a2.167 2.167 0 0 1 1.271-.173c.534.086 1.03.354 1.441.765.11-.549.415-1.034.911-1.418a2.12 2.12 0 0 1 1.661-.41c.727.117 1.385.565 1.853 1.262l3.652 6.423c1.704 2.832 2.025 7.377-2.205 11.607zM13.217.484l-1.917.882 2.37 2.837-.454-3.719zm8.487.877l-1.928-.86-.44 3.697 2.368-2.837zM16.5 3.293L15.478-.005h2.044L16.5 3.293z" fill-rule="evenodd"></path></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--clapFilled svgIcon--33px u-relative u-topNegative2 u-xs-top0"><svg class="svgIcon-use" width="33" height="33" viewBox="0 0 33 33"><g fill-rule="evenodd"><path d="M29.58 17.1l-3.854-6.78c-.365-.543-.876-.899-1.431-.989a1.491 1.491 0 0 0-1.16.281c-.42.327-.65.736-.7 1.207v.001l3.623 6.367c2.46 4.498 1.67 8.802-2.333 12.807-.265.265-.536.505-.81.728 1.973-.222 3.474-1.286 4.45-2.263 4.166-4.165 3.875-8.6 2.215-11.36zm-4.831.82l-3.581-6.3c-.296-.439-.725-.742-1.183-.815a1.105 1.105 0 0 0-.89.213c-.647.502-.755 1.188-.33 2.098l1.825 3.858a.601.601 0 0 1-.197.747.596.596 0 0 1-.77-.067L10.178 8.21c-.508-.506-1.393-.506-1.901 0a1.335 1.335 0 0 0-.393.95c0 .36.139.698.393.95v.001l5.61 5.61a.599.599 0 1 1-.848.847l-5.606-5.606c-.001 0-.002 0-.003-.002L5.848 9.375a1.349 1.349 0 0 0-1.902 0 1.348 1.348 0 0 0 0 1.901l1.582 1.582 5.61 5.61a.6.6 0 0 1-.848.848l-5.61-5.61c-.51-.508-1.393-.508-1.9 0a1.332 1.332 0 0 0-.394.95c0 .36.139.697.393.952l2.363 2.362c.002.001.002.002.002.003l3.52 3.52a.6.6 0 0 1-.848.847l-3.522-3.523h-.001a1.336 1.336 0 0 0-.95-.393 1.345 1.345 0 0 0-.949 2.295l6.779 6.78c3.715 3.713 9.327 5.598 13.49 1.434 3.527-3.528 4.21-7.13 2.086-11.015zM11.817 7.727c.06-.328.213-.64.466-.893.64-.64 1.755-.64 2.396 0l3.232 3.232c-.82.783-1.09 1.833-.764 2.992l-5.33-5.33z"></path><path d="M13.285.48l-1.916.881 2.37 2.837z"></path><path d="M21.719 1.361L19.79.501l-.44 3.697z"></path><path d="M16.502 3.298L15.481 0h2.043z"></path></g></svg></span></span></button><div class="clapUndo u-width60 u-round u-height32 u-absolute u-borderBox u-paddingRight5 u-transition--transform200Spring u-background--brandSageLighter js-clapUndo" style="top: 14px; padding: 2px;"><button class="button button--chromeless u-baseColor--buttonNormal button--withIcon button--withSvgIcon u-floatRight" data-action="multivote-undo" data-action-value="a270cb05e0b3"><span class="svgIcon svgIcon--removeThin svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M20.13 8.11l-5.61 5.61-5.609-5.61-.801.801 5.61 5.61-5.61 5.61.801.8 5.61-5.609 5.61 5.61.8-.801-5.609-5.61 5.61-5.61" fill-rule="evenodd"></path></svg></span></button></div></div><span class="u-textAlignCenter u-relative u-background js-actionMultirecommendCount u-marginLeft10"><button class="button button--chromeless u-baseColor--buttonNormal js-multirecommendCountButton" data-action="show-recommends" data-action-value="a270cb05e0b3">1.4K</button></span></div></div><div class="buttonSet u-flex0"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon" data-action="respond" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--response svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M21.27 20.058c1.89-1.826 2.754-4.17 2.754-6.674C24.024 8.21 19.67 4 14.1 4 8.53 4 4 8.21 4 13.384c0 5.175 4.53 9.385 10.1 9.385 1.007 0 2-.14 2.95-.41.285.25.592.49.918.7 1.306.87 2.716 1.31 4.19 1.31.276-.01.494-.14.6-.36a.625.625 0 0 0-.052-.65c-.61-.84-1.042-1.71-1.282-2.58a5.417 5.417 0 0 1-.154-.75zm-3.85 1.324l-.083-.28-.388.12a9.72 9.72 0 0 1-2.85.424c-4.96 0-8.99-3.706-8.99-8.262 0-4.556 4.03-8.263 8.99-8.263 4.95 0 8.77 3.71 8.77 8.27 0 2.25-.75 4.35-2.5 5.92l-.24.21v.32c0 .07 0 .19.02.37.03.29.1.6.19.92.19.7.49 1.4.89 2.08-.93-.14-1.83-.49-2.67-1.06-.34-.22-.88-.48-1.16-.74z"></path></svg></span></button><button class="button button--chromeless u-baseColor--buttonNormal" data-action="scroll-to-responses">2</button><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon u-xs-hide" title="Share on Twitter" aria-label="Share on Twitter" data-action="share-on-twitter" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--twitter svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M21.967 11.8c.018 5.93-4.607 11.18-11.177 11.18-2.172 0-4.25-.62-6.047-1.76l-.268.422-.038.5.186.013.168.012c.3.02.44.032.6.046 2.06-.026 3.95-.686 5.49-1.86l1.12-.85-1.4-.048c-1.57-.055-2.92-1.08-3.36-2.51l-.48.146-.05.5c.22.03.48.05.75.08.48-.02.87-.07 1.25-.15l2.33-.49-2.32-.49c-1.68-.35-2.91-1.83-2.91-3.55 0-.05 0-.01-.01.03l-.49-.1-.25.44c.63.36 1.35.57 2.07.58l1.7.04L7.4 13c-.978-.662-1.59-1.79-1.618-3.047a4.08 4.08 0 0 1 .524-1.8l-.825.07a12.188 12.188 0 0 0 8.81 4.515l.59.033-.06-.59v-.02c-.05-.43-.06-.63-.06-.87a3.617 3.617 0 0 1 6.27-2.45l.2.21.28-.06c1.01-.22 1.94-.59 2.73-1.09l-.75-.56c-.1.36-.04.89.12 1.36.23.68.58 1.13 1.17.85l-.21-.45-.42-.27c-.52.8-1.17 1.48-1.92 2L22 11l.016.28c.013.2.014.35 0 .52v.04zm.998.038c.018-.22.017-.417 0-.66l-.498.034.284.41a8.183 8.183 0 0 0 2.2-2.267l.97-1.48-1.6.755c.17-.08.3-.02.34.03a.914.914 0 0 1-.13-.292c-.1-.297-.13-.64-.1-.766l.36-1.254-1.1.695c-.69.438-1.51.764-2.41.963l.48.15a4.574 4.574 0 0 0-3.38-1.484 4.616 4.616 0 0 0-4.61 4.613c0 .29.02.51.08.984l.01.02.5-.06.03-.5c-3.17-.18-6.1-1.7-8.08-4.15l-.48-.56-.36.64c-.39.69-.62 1.48-.65 2.28.04 1.61.81 3.04 2.06 3.88l.3-.92c-.55-.02-1.11-.17-1.6-.45l-.59-.34-.14.67c-.02.08-.02.16 0 .24-.01 2.12 1.55 4.01 3.69 4.46l.1-.49-.1-.49c-.33.07-.67.12-1.03.14-.18-.02-.43-.05-.64-.07l-.76-.09.23.73c.57 1.84 2.29 3.14 4.28 3.21l-.28-.89a8.252 8.252 0 0 1-4.85 1.66c-.12-.01-.26-.02-.56-.05l-.17-.01-.18-.01L2.53 21l1.694 1.07a12.233 12.233 0 0 0 6.58 1.917c7.156 0 12.2-5.73 12.18-12.18l-.002.04z"></path></svg></span></button><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon u-xs-hide" title="Share on Facebook" aria-label="Share on Facebook" data-action="share-on-facebook" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--facebook svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M16.39 23.61v-5.808h1.846a.55.55 0 0 0 .546-.48l.36-2.797a.551.551 0 0 0-.547-.62H16.39V12.67c0-.67.12-.813.828-.813h1.474a.55.55 0 0 0 .55-.55V8.803a.55.55 0 0 0-.477-.545c-.436-.06-1.36-.116-2.22-.116-2.5 0-4.13 1.62-4.13 4.248v1.513H10.56a.551.551 0 0 0-.55.55v2.797c0 .304.248.55.55.55h1.855v5.76c-4.172-.96-7.215-4.7-7.215-9.1 0-5.17 4.17-9.36 9.31-9.36 5.14 0 9.31 4.19 9.31 9.36 0 4.48-3.155 8.27-7.43 9.15M14.51 4C8.76 4 4.1 8.684 4.1 14.46c0 5.162 3.75 9.523 8.778 10.32a.55.55 0 0 0 .637-.543v-6.985a.551.551 0 0 0-.55-.55H11.11v-1.697h1.855a.55.55 0 0 0 .55-.55v-2.063c0-2.02 1.136-3.148 3.03-3.148.567 0 1.156.027 1.597.06v1.453h-.924c-1.363 0-1.93.675-1.93 1.912v1.78c0 .3.247.55.55.55h2.132l-.218 1.69H15.84c-.305 0-.55.24-.55.55v7.02c0 .33.293.59.623.54 5.135-.7 9.007-5.11 9.007-10.36C24.92 8.68 20.26 4 14.51 4"></path></svg></span></button><button class="button button--large button--dark button--chromeless u-baseColor--buttonDark button--withIcon button--withSvgIcon u-xs-show" title="Share this story on Twitter or Facebook" aria-label="Share this story on Twitter or Facebook" data-action="show-share-popover" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--share svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M20.385 8H19a.5.5 0 1 0 .011 1h1.39c.43 0 .84.168 1.14.473.31.305.48.71.48 1.142v10.77c0 .43-.17.837-.47 1.142-.3.305-.71.473-1.14.473H8.62c-.43 0-.84-.168-1.144-.473a1.603 1.603 0 0 1-.473-1.142v-10.77c0-.43.17-.837.48-1.142A1.599 1.599 0 0 1 8.62 9H10a.502.502 0 0 0 0-1H8.615c-.67 0-1.338.255-1.85.766-.51.51-.765 1.18-.765 1.85v10.77c0 .668.255 1.337.766 1.848.51.51 1.18.766 1.85.766h11.77c.668 0 1.337-.255 1.848-.766.51-.51.766-1.18.766-1.85v-10.77c0-.668-.255-1.337-.766-1.848A2.61 2.61 0 0 0 20.384 8zm-8.67-2.508L14 3.207v8.362c0 .27.224.5.5.5s.5-.23.5-.5V3.2l2.285 2.285a.49.49 0 0 0 .704-.001.511.511 0 0 0 0-.708l-3.14-3.14a.504.504 0 0 0-.71 0L11 4.776a.501.501 0 0 0 .71.706" fill-rule="evenodd"></path></svg></span></button><button class="button button--large button--dark button--chromeless is-touchIconFadeInPulse is-active u-baseColor--buttonDark button--withIcon button--withSvgIcon button--bookmark js-bookmarkButton" title="Bookmark this story to read later" aria-label="Bookmark this story to read later" data-action="remove-from-bookmarks" data-action-value="a270cb05e0b3" data-action-source="post_actions_footer"><span class="button-defaultState"><span class="svgIcon svgIcon--bookmark svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M19.385 4h-9.77A2.623 2.623 0 0 0 7 6.615V23.01a1.022 1.022 0 0 0 1.595.847l5.905-4.004 5.905 4.004A1.022 1.022 0 0 0 22 23.011V6.62A2.625 2.625 0 0 0 19.385 4zM21 23l-5.91-3.955-.148-.107a.751.751 0 0 0-.884 0l-.147.107L8 23V6.615C8 5.725 8.725 5 9.615 5h9.77C20.275 5 21 5.725 21 6.615V23z" fill-rule="evenodd"></path></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--bookmarkFilled svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M19.385 4h-9.77A2.623 2.623 0 0 0 7 6.615V23.01a1.022 1.022 0 0 0 1.595.847l5.905-4.004 5.905 4.004A1.022 1.022 0 0 0 22 23.011V6.62A2.625 2.625 0 0 0 19.385 4z" fill-rule="evenodd"></path></svg></span></span></button><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon js-moreActionsButton" title="More actions" aria-label="More actions" data-action="more-actions"><span class="svgIcon svgIcon--more svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="-480.5 272.5 21 21"><path d="M-463 284.6c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5zm-7-.9c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5zm-7-.9c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5z"></path></svg></span></button></div></div></div></div><div class="u-maxWidth740 u-paddingTop20 u-marginTop20 u-borderTopLightest container u-paddingBottom20 u-xs-paddingBottom10 js-postAttributionFooterContainer"><div class="row js-postFooterInfo"><div class="col u-size6of12 u-xs-size12of12"><li class="uiScale uiScale-ui--small uiScale-caption--regular u-block u-paddingBottom18 js-cardUser"><div class="u-marginLeft20 u-floatRight"><span class="followState js-followState" data-user-id="5db503d436d2"><button class="button button--small u-noUserSelect button--withChrome u-baseColor--buttonNormal button--withHover button--unblock js-unblockButton" data-action="toggle-block-user" data-action-value="5db503d436d2" data-action-source="footer_card"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary button--small u-noUserSelect button--withChrome u-accentColor--buttonNormal button--follow js-followButton" data-action="toggle-subscribe-user" data-action-value="5db503d436d2" data-action-source="footer_card-5db503d436d2-------------------------follow_footer" data-subscribe-source="footer_card" data-follow-context-entity-id="a270cb05e0b3"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Following</span></button></span></div><div class="u-tableCell"><a class="link u-baseColor--link avatar" href="https://medium.com/@dmitriysergeev?source=footer_card" title="Go to the profile of Dmitriy Sergeev" aria-label="Go to the profile of Dmitriy Sergeev" data-action-source="footer_card" data-user-id="5db503d436d2" dir="auto"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/0_zsrkvCEBEg3gjCz6" class="avatar-image avatar-image--small" alt="Go to the profile of Dmitriy Sergeev"></a></div><div class="u-tableCell u-verticalAlignMiddle u-breakWord u-paddingLeft15"><h3 class="ui-h3 u-fontSize18 u-lineHeightTighter u-marginBottom4"><a class="link link--primary u-accentColor--hoverTextNormal" href="https://medium.com/@dmitriysergeev" property="cc:attributionName" title="Go to the profile of Dmitriy Sergeev" aria-label="Go to the profile of Dmitriy Sergeev" rel="author cc:attributionUrl" data-user-id="5db503d436d2" dir="auto">Dmitriy Sergeev</a></h3><p class="ui-body u-fontSize14 u-lineHeightBaseSans u-textColorDark u-marginBottom4">Data Scientist at Zeptolab</p></div></li></div><div class="col u-size6of12 u-xs-size12of12 u-xs-marginTop30"><li class="uiScale uiScale-ui--small uiScale-caption--regular u-block u-paddingBottom18 js-cardCollection"><div class="u-marginLeft20 u-floatRight"><button class="button button--primary button--filled button--small button--withChrome u-accentColor--buttonNormal button--withIcon button--withSvgIcon button--withIconRight button--withIconAndLabel js-relationshipButton" data-action="show-more-collection-actions" data-collection-id="b76595fb6cfc"><span class="button-label  js-buttonLabel">Following</span><span class="svgIcon svgIcon--arrowDown svgIcon--21px"><svg class="svgIcon-use" width="21" height="21" viewBox="0 0 21 21"><path d="M4 7.331l6.032 6.67.495.547.495-.547 5.973-6.603-.989-.895-5.974 6.603h.99l-6.033-6.67z" fill-rule="evenodd"></path></svg></span></button></div><div class="u-tableCell "><a class="link u-baseColor--link avatar avatar--roundedRectangle" href="https://medium.com/open-machine-learning-course?source=footer_card" title="Go to Open Machine Learning Course" aria-label="Go to Open Machine Learning Course" data-action-source="footer_card"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_b5pfoCQz20rjh79OPSQWQg.jpeg" class="avatar-image u-size60x60" alt="Open Machine Learning Course"></a></div><div class="u-tableCell u-verticalAlignMiddle u-breakWord u-paddingLeft15"><h3 class="ui-h3 u-fontSize18 u-lineHeightTighter u-marginBottom4"><a class="link link--primary u-accentColor--hoverTextNormal" href="https://medium.com/open-machine-learning-course?source=footer_card" rel="collection" data-action-source="footer_card">Open Machine Learning Course</a></h3><p class="ui-body u-fontSize14 u-lineHeightBaseSans u-textColorDark u-marginBottom4">A series of articles on basics of Machine Learning. Each article is followed by an assignment with a deadline. Several Kaggle Inclass competitions are held throughout the course.</p><div class="buttonSet"></div></div></li></div></div></div><div class="js-postFooterPlacements"><div class="streamItem streamItem--placementCardGrid js-streamItem"><div class="u-clearfix u-backgroundGrayLightest"><div class="row u-marginAuto u-maxWidth1000 u-paddingTop30 u-paddingBottom40"><div class="col u-padding8 u-xs-size12of12 u-size4of12"><div class="uiScale uiScale-ui--small uiScale-caption--regular u-height280 u-sizeFullWidth u-backgroundWhite u-borderCardBorder u-boxShadow u-borderBox u-borderRadius4 js-trackedPost" data-post-id="6c9987bb19d5" data-source="placement_card_footer_grid---------0-43" data-tracking-context="placement" data-scroll="native"><div class="u-padding15 u-borderBox u-flexColumn u-sizeFull"><a class="link link--noUnderline u-baseColor--link u-flex1 u-flexColumn" href="https://medium.com/@pymc_devs/theano-tensorflow-and-the-future-of-pymc-6c9987bb19d5?source=placement_card_footer_grid---------0-43" data-action-source="placement_card_footer_grid---------0-43"><div class="uiScale uiScale-ui--regular uiScale-caption--small u-textColorNormal u-marginBottom7">Also tagged Machine Learning</div><div class="ui-h3 ui-clamp2 u-textColorDarkest u-contentSansBold u-fontSize24 u-maxHeight2LineHeightTighter u-lineClamp2 u-textOverflowEllipsis u-letterSpacingTight u-paddingBottom2">Theano, TensorFlow and the Future of PyMC</div><div class="ui-body ui-clamp2 u-lineClamp2 u-textOverflowEllipsis u-maxHeight2LineHeightTighter">PyMC3 is an open-source library for Bayesian statistical modeling and inference in Python, implementing gradient-based Markov chain Monte…</div></a><div class="u-paddingBottom10 u-flex0 u-flexCenter"><div class="u-flex1 u-minWidth0 u-marginRight10"><div class="u-flexCenter"><div class="postMetaInline-avatar u-flex0"><a class="link u-baseColor--link avatar" href="https://medium.com/@pymc_devs" data-action="show-user-card" data-action-value="7c6b7b6803cd" data-action-type="hover" data-user-id="7c6b7b6803cd" dir="auto"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/0_YC2tjhLAs6FyDO3q.jpg" class="avatar-image u-size36x36 u-xs-size32x32" alt="Go to the profile of PyMC Developers"></a></div><div class="postMetaInline postMetaInline-authorLockup ui-captionStrong u-flex1 u-noWrapWithEllipsis"><a class="ds-link ds-link--styleSubtle link link--darken link--darker" href="https://medium.com/@pymc_devs?source=placement_card_footer_grid---------0-43" data-action="show-user-card" data-action-source="placement_card_footer_grid---------0-43" data-action-value="7c6b7b6803cd" data-action-type="hover" data-user-id="7c6b7b6803cd" dir="auto">PyMC Developers</a><div class="ui-caption u-fontSize12 u-baseColor--textNormal u-textColorNormal js-postMetaInlineSupplemental"><span class="readingTime u-textColorNormal" title="4 min read"></span></div></div></div></div><div class="u-flex0 u-flexCenter"><div class="buttonSet"><div class="multirecommend js-actionMultirecommend u-flexCenter" data-post-id="6c9987bb19d5" data-is-label-padded="true" data-source="placement_card_footer_grid-----6c9987bb19d5----0-43----------------clap_preview"><div class="u-relative u-foreground"><button class="button button--primary button--chromeless u-accentColor--buttonNormal button--withIcon button--withSvgIcon clapButton js-actionMultirecommendButton" data-action="multivote" data-action-value="6c9987bb19d5" data-action-type="long-press" data-action-source="placement_card_footer_grid-----6c9987bb19d5----0-43----------------clap_preview" aria-label="Clap"><span class="button-defaultState"><span class="svgIcon svgIcon--clap svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><g fill-rule="evenodd"><path d="M11.739 0l.761 2.966L13.261 0z"></path><path d="M14.815 3.776l1.84-2.551-1.43-.471z"></path><path d="M8.378 1.224l1.84 2.551L9.81.753z"></path><path d="M20.382 21.622c-1.04 1.04-2.115 1.507-3.166 1.608.168-.14.332-.29.492-.45 2.885-2.886 3.456-5.982 1.69-9.211l-1.101-1.937-.955-2.02c-.315-.676-.235-1.185.245-1.556a.836.836 0 0 1 .66-.16c.342.056.66.28.879.605l2.856 5.023c1.179 1.962 1.379 5.119-1.6 8.098m-13.29-.528l-5.02-5.02a1 1 0 0 1 .707-1.701c.255 0 .512.098.707.292l2.607 2.607a.442.442 0 0 0 .624-.624L4.11 14.04l-1.75-1.75a.998.998 0 1 1 1.41-1.413l4.154 4.156a.44.44 0 0 0 .624 0 .44.44 0 0 0 0-.624l-4.152-4.153-1.172-1.171a.998.998 0 0 1 0-1.41 1.018 1.018 0 0 1 1.41 0l1.172 1.17 4.153 4.152a.437.437 0 0 0 .624 0 .442.442 0 0 0 0-.624L6.43 8.222a.988.988 0 0 1-.291-.705.99.99 0 0 1 .29-.706 1 1 0 0 1 1.412 0l6.992 6.993a.443.443 0 0 0 .71-.501l-1.35-2.856c-.315-.676-.235-1.185.246-1.557a.85.85 0 0 1 .66-.16c.342.056.659.28.879.606L18.628 14c1.573 2.876 1.067 5.545-1.544 8.156-1.396 1.397-3.144 1.966-5.063 1.652-1.713-.286-3.463-1.248-4.928-2.714zM10.99 5.976l2.562 2.562c-.497.607-.563 1.414-.155 2.284l.265.562-4.257-4.257a.98.98 0 0 1-.117-.445c0-.267.104-.517.292-.706a1.023 1.023 0 0 1 1.41 0zm8.887 2.06c-.375-.557-.902-.916-1.486-1.011a1.738 1.738 0 0 0-1.342.332c-.376.29-.61.656-.712 1.065a2.1 2.1 0 0 0-1.095-.562 1.776 1.776 0 0 0-.992.128l-2.636-2.636a1.883 1.883 0 0 0-2.658 0 1.862 1.862 0 0 0-.478.847 1.886 1.886 0 0 0-2.671-.012 1.867 1.867 0 0 0-.503.909c-.754-.754-1.992-.754-2.703-.044a1.881 1.881 0 0 0 0 2.658c-.288.12-.605.288-.864.547a1.884 1.884 0 0 0 0 2.659l.624.622a1.879 1.879 0 0 0-.91 3.16l5.019 5.02c1.595 1.594 3.515 2.645 5.408 2.959a7.16 7.16 0 0 0 1.173.098c1.026 0 1.997-.24 2.892-.7.279.04.555.065.828.065 1.53 0 2.969-.628 4.236-1.894 3.338-3.338 3.083-6.928 1.738-9.166l-2.868-5.043z"></path></g></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--clapFilled svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><g fill-rule="evenodd"><path d="M11.738 0l.762 2.966L13.262 0z"></path><path d="M16.634 1.224l-1.432-.47-.408 3.022z"></path><path d="M9.79.754l-1.431.47 1.84 2.552z"></path><path d="M22.472 13.307l-3.023-5.32c-.287-.426-.689-.705-1.123-.776a1.16 1.16 0 0 0-.911.221c-.297.231-.474.515-.535.84.017.022.036.04.053.063l2.843 5.001c1.95 3.564 1.328 6.973-1.843 10.144a8.46 8.46 0 0 1-.549.501c1.205-.156 2.328-.737 3.351-1.76 3.268-3.268 3.041-6.749 1.737-8.914"></path><path d="M12.58 9.887c-.156-.83.096-1.569.692-2.142L10.78 5.252c-.5-.504-1.378-.504-1.879 0-.178.18-.273.4-.329.63l4.008 4.005z"></path><path d="M15.812 9.04c-.218-.323-.539-.55-.88-.606a.814.814 0 0 0-.644.153c-.176.137-.713.553-.24 1.566l1.43 3.025a.539.539 0 1 1-.868.612L7.2 6.378a.986.986 0 1 0-1.395 1.395l4.401 4.403a.538.538 0 1 1-.762.762L5.046 8.54 3.802 7.295a.99.99 0 0 0-1.396 0 .981.981 0 0 0 0 1.394L3.647 9.93l4.402 4.403a.537.537 0 0 1 0 .761.535.535 0 0 1-.762 0L2.89 10.696a.992.992 0 0 0-1.399-.003.983.983 0 0 0 0 1.395l1.855 1.854 2.763 2.765a.538.538 0 0 1-.76.761l-2.765-2.764a.982.982 0 0 0-1.395 0 .989.989 0 0 0 0 1.395l5.32 5.32c3.371 3.372 6.64 4.977 10.49 1.126C19.74 19.8 20.271 17 18.62 13.982L15.812 9.04z"></path></g></svg></span></span></button></div><span class="u-textAlignCenter u-relative u-background js-actionMultirecommendCount u-marginLeft5"><button class="button button--chromeless u-baseColor--buttonNormal js-multirecommendCountButton u-disablePointerEvents u-marginLeft4" data-action="show-recommends" data-action-value="6c9987bb19d5">349</button></span></div></div><div class="u-height20 u-borderRightLighter u-inlineBlock u-relative u-marginRight10 u-marginLeft12"></div><div class="buttonSet"><button class="button button--chromeless is-touchIconFadeInPulse u-baseColor--buttonNormal button--withIcon button--withSvgIcon button--bookmark js-bookmarkButton" title="Bookmark this story to read later" aria-label="Bookmark this story to read later" data-action="add-to-bookmarks" data-action-value="6c9987bb19d5" data-action-source="placement_card_footer_grid-----6c9987bb19d5----0-43----------------bookmark_preview"><span class="button-defaultState"><span class="svgIcon svgIcon--bookmark svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><path d="M19 6c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v14.66h.012c.01.103.045.204.12.285a.5.5 0 0 0 .706.03L12.5 16.85l5.662 4.126a.508.508 0 0 0 .708-.03.5.5 0 0 0 .118-.285H19V6zm-6.838 9.97L7 19.636V6c0-.55.45-1 1-1h9c.55 0 1 .45 1 1v13.637l-5.162-3.668a.49.49 0 0 0-.676 0z" fill-rule="evenodd"></path></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--bookmarkFilled svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><path d="M19 6c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v14.66h.012c.01.103.045.204.12.285a.5.5 0 0 0 .706.03L12.5 16.85l5.662 4.126c.205.183.52.17.708-.03a.5.5 0 0 0 .118-.285H19V6z"></path></svg></span></span></button></div></div></div></div></div></div><div class="col u-padding8 u-xs-size12of12 u-size4of12"><div class="uiScale uiScale-ui--small uiScale-caption--regular u-height280 u-sizeFullWidth u-backgroundWhite u-borderCardBorder u-boxShadow u-borderBox u-borderRadius4 js-trackedPost" data-post-id="5e1d5812e1e7" data-source="placement_card_footer_grid---------1-43" data-tracking-context="placement" data-scroll="native"><a class="link link--noUnderline u-baseColor--link" href="https://medium.com/@mijordan3/artificial-intelligence-the-revolution-hasnt-happened-yet-5e1d5812e1e7?source=placement_card_footer_grid---------1-43" data-action-source="placement_card_footer_grid---------1-43"><div class="u-backgroundCover u-backgroundColorGrayLight u-height100 u-sizeFullWidth u-borderBottomLight u-borderRadiusTop4" style="background-image: url(&quot;https://cdn-images-1.medium.com/fit/c/800/240/1*YryHJzKJy0ZYOWjlS2shMQ.jpeg&quot;); background-position: 50% 50% !important;"></div></a><div class="u-padding15 u-borderBox u-flexColumn u-height180"><a class="link link--noUnderline u-baseColor--link u-flex1" href="https://medium.com/@mijordan3/artificial-intelligence-the-revolution-hasnt-happened-yet-5e1d5812e1e7?source=placement_card_footer_grid---------1-43" data-action-source="placement_card_footer_grid---------1-43"><div class="uiScale uiScale-ui--regular uiScale-caption--small u-textColorNormal u-marginBottom7">Also tagged Machine Learning</div><div class="ui-h3 ui-clamp2 u-textColorDarkest u-contentSansBold u-fontSize24 u-maxHeight2LineHeightTighter u-lineClamp2 u-textOverflowEllipsis u-letterSpacingTight u-paddingBottom2">Artificial Intelligence — The Revolution Hasn’t Happened Yet</div></a><div class="u-paddingBottom10 u-flex0 u-flexCenter"><div class="u-flex1 u-minWidth0 u-marginRight10"><div class="u-flexCenter"><div class="postMetaInline-avatar u-flex0"><a class="link u-baseColor--link avatar" href="https://medium.com/@mijordan3" data-action="show-user-card" data-action-value="2e99d8165809" data-action-type="hover" data-user-id="2e99d8165809" dir="auto"><div class="u-relative u-inlineBlock u-flex0"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_Xy2M2bW83cwTZIG9JJ7Smg.jpeg" class="avatar-image u-size36x36 u-xs-size32x32" alt="Go to the profile of Michael Jordan"><div class="avatar-halo u-absolute u-textColorGreenNormal svgIcon" style="width: calc(100% + 10px); height: calc(100% + 10px); top:-5px; left:-5px"><svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"><path d="M3.44615311,11.6601601 C6.57294867,5.47967718 12.9131553,1.5 19.9642857,1.5 C27.0154162,1.5 33.3556228,5.47967718 36.4824183,11.6601601 L37.3747245,11.2087295 C34.0793076,4.69494641 27.3961457,0.5 19.9642857,0.5 C12.5324257,0.5 5.84926381,4.69494641 2.55384689,11.2087295 L3.44615311,11.6601601 Z"></path><path d="M36.4824183,28.2564276 C33.3556228,34.4369105 27.0154162,38.4165876 19.9642857,38.4165876 C12.9131553,38.4165876 6.57294867,34.4369105 3.44615311,28.2564276 L2.55384689,28.7078582 C5.84926381,35.2216412 12.5324257,39.4165876 19.9642857,39.4165876 C27.3961457,39.4165876 34.0793076,35.2216412 37.3747245,28.7078582 L36.4824183,28.2564276 Z"></path></svg></div></div></a></div><div class="postMetaInline postMetaInline-authorLockup ui-captionStrong u-flex1 u-noWrapWithEllipsis"><a class="ds-link ds-link--styleSubtle link link--darken link--darker" href="https://medium.com/@mijordan3?source=placement_card_footer_grid---------1-43" data-action="show-user-card" data-action-source="placement_card_footer_grid---------1-43" data-action-value="2e99d8165809" data-action-type="hover" data-user-id="2e99d8165809" dir="auto">Michael Jordan</a><div class="ui-caption u-fontSize12 u-baseColor--textNormal u-textColorNormal js-postMetaInlineSupplemental"><span class="readingTime u-textColorNormal" title="16 min read"></span></div></div></div></div><div class="u-flex0 u-flexCenter"><div class="buttonSet"><div class="multirecommend js-actionMultirecommend u-flexCenter" data-post-id="5e1d5812e1e7" data-is-label-padded="true" data-source="placement_card_footer_grid-----5e1d5812e1e7----1-43----------------clap_preview"><div class="u-relative u-foreground"><button class="button button--primary button--chromeless u-accentColor--buttonNormal button--withIcon button--withSvgIcon clapButton js-actionMultirecommendButton" data-action="multivote" data-action-value="5e1d5812e1e7" data-action-type="long-press" data-action-source="placement_card_footer_grid-----5e1d5812e1e7----1-43----------------clap_preview" aria-label="Clap"><span class="button-defaultState"><span class="svgIcon svgIcon--clap svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><g fill-rule="evenodd"><path d="M11.739 0l.761 2.966L13.261 0z"></path><path d="M14.815 3.776l1.84-2.551-1.43-.471z"></path><path d="M8.378 1.224l1.84 2.551L9.81.753z"></path><path d="M20.382 21.622c-1.04 1.04-2.115 1.507-3.166 1.608.168-.14.332-.29.492-.45 2.885-2.886 3.456-5.982 1.69-9.211l-1.101-1.937-.955-2.02c-.315-.676-.235-1.185.245-1.556a.836.836 0 0 1 .66-.16c.342.056.66.28.879.605l2.856 5.023c1.179 1.962 1.379 5.119-1.6 8.098m-13.29-.528l-5.02-5.02a1 1 0 0 1 .707-1.701c.255 0 .512.098.707.292l2.607 2.607a.442.442 0 0 0 .624-.624L4.11 14.04l-1.75-1.75a.998.998 0 1 1 1.41-1.413l4.154 4.156a.44.44 0 0 0 .624 0 .44.44 0 0 0 0-.624l-4.152-4.153-1.172-1.171a.998.998 0 0 1 0-1.41 1.018 1.018 0 0 1 1.41 0l1.172 1.17 4.153 4.152a.437.437 0 0 0 .624 0 .442.442 0 0 0 0-.624L6.43 8.222a.988.988 0 0 1-.291-.705.99.99 0 0 1 .29-.706 1 1 0 0 1 1.412 0l6.992 6.993a.443.443 0 0 0 .71-.501l-1.35-2.856c-.315-.676-.235-1.185.246-1.557a.85.85 0 0 1 .66-.16c.342.056.659.28.879.606L18.628 14c1.573 2.876 1.067 5.545-1.544 8.156-1.396 1.397-3.144 1.966-5.063 1.652-1.713-.286-3.463-1.248-4.928-2.714zM10.99 5.976l2.562 2.562c-.497.607-.563 1.414-.155 2.284l.265.562-4.257-4.257a.98.98 0 0 1-.117-.445c0-.267.104-.517.292-.706a1.023 1.023 0 0 1 1.41 0zm8.887 2.06c-.375-.557-.902-.916-1.486-1.011a1.738 1.738 0 0 0-1.342.332c-.376.29-.61.656-.712 1.065a2.1 2.1 0 0 0-1.095-.562 1.776 1.776 0 0 0-.992.128l-2.636-2.636a1.883 1.883 0 0 0-2.658 0 1.862 1.862 0 0 0-.478.847 1.886 1.886 0 0 0-2.671-.012 1.867 1.867 0 0 0-.503.909c-.754-.754-1.992-.754-2.703-.044a1.881 1.881 0 0 0 0 2.658c-.288.12-.605.288-.864.547a1.884 1.884 0 0 0 0 2.659l.624.622a1.879 1.879 0 0 0-.91 3.16l5.019 5.02c1.595 1.594 3.515 2.645 5.408 2.959a7.16 7.16 0 0 0 1.173.098c1.026 0 1.997-.24 2.892-.7.279.04.555.065.828.065 1.53 0 2.969-.628 4.236-1.894 3.338-3.338 3.083-6.928 1.738-9.166l-2.868-5.043z"></path></g></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--clapFilled svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><g fill-rule="evenodd"><path d="M11.738 0l.762 2.966L13.262 0z"></path><path d="M16.634 1.224l-1.432-.47-.408 3.022z"></path><path d="M9.79.754l-1.431.47 1.84 2.552z"></path><path d="M22.472 13.307l-3.023-5.32c-.287-.426-.689-.705-1.123-.776a1.16 1.16 0 0 0-.911.221c-.297.231-.474.515-.535.84.017.022.036.04.053.063l2.843 5.001c1.95 3.564 1.328 6.973-1.843 10.144a8.46 8.46 0 0 1-.549.501c1.205-.156 2.328-.737 3.351-1.76 3.268-3.268 3.041-6.749 1.737-8.914"></path><path d="M12.58 9.887c-.156-.83.096-1.569.692-2.142L10.78 5.252c-.5-.504-1.378-.504-1.879 0-.178.18-.273.4-.329.63l4.008 4.005z"></path><path d="M15.812 9.04c-.218-.323-.539-.55-.88-.606a.814.814 0 0 0-.644.153c-.176.137-.713.553-.24 1.566l1.43 3.025a.539.539 0 1 1-.868.612L7.2 6.378a.986.986 0 1 0-1.395 1.395l4.401 4.403a.538.538 0 1 1-.762.762L5.046 8.54 3.802 7.295a.99.99 0 0 0-1.396 0 .981.981 0 0 0 0 1.394L3.647 9.93l4.402 4.403a.537.537 0 0 1 0 .761.535.535 0 0 1-.762 0L2.89 10.696a.992.992 0 0 0-1.399-.003.983.983 0 0 0 0 1.395l1.855 1.854 2.763 2.765a.538.538 0 0 1-.76.761l-2.765-2.764a.982.982 0 0 0-1.395 0 .989.989 0 0 0 0 1.395l5.32 5.32c3.371 3.372 6.64 4.977 10.49 1.126C19.74 19.8 20.271 17 18.62 13.982L15.812 9.04z"></path></g></svg></span></span></button></div><span class="u-textAlignCenter u-relative u-background js-actionMultirecommendCount u-marginLeft5"><button class="button button--chromeless u-baseColor--buttonNormal js-multirecommendCountButton u-disablePointerEvents u-marginLeft4" data-action="show-recommends" data-action-value="5e1d5812e1e7">31K</button></span></div></div><div class="u-height20 u-borderRightLighter u-inlineBlock u-relative u-marginRight10 u-marginLeft12"></div><div class="buttonSet"><button class="button button--chromeless is-touchIconFadeInPulse u-baseColor--buttonNormal button--withIcon button--withSvgIcon button--bookmark js-bookmarkButton" title="Bookmark this story to read later" aria-label="Bookmark this story to read later" data-action="add-to-bookmarks" data-action-value="5e1d5812e1e7" data-action-source="placement_card_footer_grid-----5e1d5812e1e7----1-43----------------bookmark_preview"><span class="button-defaultState"><span class="svgIcon svgIcon--bookmark svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><path d="M19 6c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v14.66h.012c.01.103.045.204.12.285a.5.5 0 0 0 .706.03L12.5 16.85l5.662 4.126a.508.508 0 0 0 .708-.03.5.5 0 0 0 .118-.285H19V6zm-6.838 9.97L7 19.636V6c0-.55.45-1 1-1h9c.55 0 1 .45 1 1v13.637l-5.162-3.668a.49.49 0 0 0-.676 0z" fill-rule="evenodd"></path></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--bookmarkFilled svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><path d="M19 6c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v14.66h.012c.01.103.045.204.12.285a.5.5 0 0 0 .706.03L12.5 16.85l5.662 4.126c.205.183.52.17.708-.03a.5.5 0 0 0 .118-.285H19V6z"></path></svg></span></span></button></div></div></div></div></div></div><div class="col u-padding8 u-xs-size12of12 u-size4of12"><div class="uiScale uiScale-ui--small uiScale-caption--regular u-height280 u-sizeFullWidth u-backgroundWhite u-borderCardBorder u-boxShadow u-borderBox u-borderRadius4 js-trackedPost" data-post-id="39e598c4fcae" data-source="placement_card_footer_grid---------2-43" data-tracking-context="placement" data-scroll="native"><a class="link link--noUnderline u-baseColor--link" href="https://medium.freecodecamp.org/how-to-use-a-concurrent-task-queue-in-your-redux-sagas-39e598c4fcae?source=placement_card_footer_grid---------2-43" data-action-source="placement_card_footer_grid---------2-43"><div class="u-backgroundCover u-backgroundColorGrayLight u-height100 u-sizeFullWidth u-borderBottomLight u-borderRadiusTop4" style="background-image: url(&quot;https://cdn-images-1.medium.com/fit/c/800/240/1*8HhqBBy6h6Ag7wO_mqCMug.jpeg&quot;); background-position: 50% 50% !important;"></div></a><div class="u-padding15 u-borderBox u-flexColumn u-height180"><a class="link link--noUnderline u-baseColor--link u-flex1" href="https://medium.freecodecamp.org/how-to-use-a-concurrent-task-queue-in-your-redux-sagas-39e598c4fcae?source=placement_card_footer_grid---------2-43" data-action-source="placement_card_footer_grid---------2-43"><div class="uiScale uiScale-ui--regular uiScale-caption--small u-textColorNormal u-marginBottom7">Also tagged Algorithms</div><div class="ui-h3 ui-clamp2 u-textColorDarkest u-contentSansBold u-fontSize24 u-maxHeight2LineHeightTighter u-lineClamp2 u-textOverflowEllipsis u-letterSpacingTight u-paddingBottom2">How to use a concurrent task queue in your Redux-Sagas</div></a><div class="u-paddingBottom10 u-flex0 u-flexCenter"><div class="u-flex1 u-minWidth0 u-marginRight10"><div class="u-flexCenter"><div class="postMetaInline-avatar u-flex0"><a class="link u-baseColor--link avatar" href="https://medium.freecodecamp.org/@puemos" data-action="show-user-card" data-action-value="19eca5eea081" data-action-type="hover" data-user-id="19eca5eea081" data-collection-slug="free-code-camp" dir="auto"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/1_tG0BIHMPqrzMzq2wbuxWXw.jpeg" class="avatar-image u-size36x36 u-xs-size32x32" alt="Go to the profile of Shy Alter"></a></div><div class="postMetaInline postMetaInline-authorLockup ui-captionStrong u-flex1 u-noWrapWithEllipsis"><a class="ds-link ds-link--styleSubtle link link--darken link--darker" href="https://medium.freecodecamp.org/@puemos?source=placement_card_footer_grid---------2-43" data-action="show-user-card" data-action-source="placement_card_footer_grid---------2-43" data-action-value="19eca5eea081" data-action-type="hover" data-user-id="19eca5eea081" data-collection-slug="free-code-camp" dir="auto">Shy Alter</a><div class="ui-caption u-fontSize12 u-baseColor--textNormal u-textColorNormal js-postMetaInlineSupplemental"><span class="readingTime u-textColorNormal" title="4 min read"></span></div></div></div></div><div class="u-flex0 u-flexCenter"><div class="buttonSet"><div class="multirecommend js-actionMultirecommend u-flexCenter" data-post-id="39e598c4fcae" data-is-label-padded="true" data-source="placement_card_footer_grid-----39e598c4fcae----2-43----------------clap_preview"><div class="u-relative u-foreground"><button class="button button--primary button--chromeless u-accentColor--buttonNormal button--withIcon button--withSvgIcon clapButton js-actionMultirecommendButton" data-action="multivote" data-action-value="39e598c4fcae" data-action-type="long-press" data-action-source="placement_card_footer_grid-----39e598c4fcae----2-43----------------clap_preview" aria-label="Clap"><span class="button-defaultState"><span class="svgIcon svgIcon--clap svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><g fill-rule="evenodd"><path d="M11.739 0l.761 2.966L13.261 0z"></path><path d="M14.815 3.776l1.84-2.551-1.43-.471z"></path><path d="M8.378 1.224l1.84 2.551L9.81.753z"></path><path d="M20.382 21.622c-1.04 1.04-2.115 1.507-3.166 1.608.168-.14.332-.29.492-.45 2.885-2.886 3.456-5.982 1.69-9.211l-1.101-1.937-.955-2.02c-.315-.676-.235-1.185.245-1.556a.836.836 0 0 1 .66-.16c.342.056.66.28.879.605l2.856 5.023c1.179 1.962 1.379 5.119-1.6 8.098m-13.29-.528l-5.02-5.02a1 1 0 0 1 .707-1.701c.255 0 .512.098.707.292l2.607 2.607a.442.442 0 0 0 .624-.624L4.11 14.04l-1.75-1.75a.998.998 0 1 1 1.41-1.413l4.154 4.156a.44.44 0 0 0 .624 0 .44.44 0 0 0 0-.624l-4.152-4.153-1.172-1.171a.998.998 0 0 1 0-1.41 1.018 1.018 0 0 1 1.41 0l1.172 1.17 4.153 4.152a.437.437 0 0 0 .624 0 .442.442 0 0 0 0-.624L6.43 8.222a.988.988 0 0 1-.291-.705.99.99 0 0 1 .29-.706 1 1 0 0 1 1.412 0l6.992 6.993a.443.443 0 0 0 .71-.501l-1.35-2.856c-.315-.676-.235-1.185.246-1.557a.85.85 0 0 1 .66-.16c.342.056.659.28.879.606L18.628 14c1.573 2.876 1.067 5.545-1.544 8.156-1.396 1.397-3.144 1.966-5.063 1.652-1.713-.286-3.463-1.248-4.928-2.714zM10.99 5.976l2.562 2.562c-.497.607-.563 1.414-.155 2.284l.265.562-4.257-4.257a.98.98 0 0 1-.117-.445c0-.267.104-.517.292-.706a1.023 1.023 0 0 1 1.41 0zm8.887 2.06c-.375-.557-.902-.916-1.486-1.011a1.738 1.738 0 0 0-1.342.332c-.376.29-.61.656-.712 1.065a2.1 2.1 0 0 0-1.095-.562 1.776 1.776 0 0 0-.992.128l-2.636-2.636a1.883 1.883 0 0 0-2.658 0 1.862 1.862 0 0 0-.478.847 1.886 1.886 0 0 0-2.671-.012 1.867 1.867 0 0 0-.503.909c-.754-.754-1.992-.754-2.703-.044a1.881 1.881 0 0 0 0 2.658c-.288.12-.605.288-.864.547a1.884 1.884 0 0 0 0 2.659l.624.622a1.879 1.879 0 0 0-.91 3.16l5.019 5.02c1.595 1.594 3.515 2.645 5.408 2.959a7.16 7.16 0 0 0 1.173.098c1.026 0 1.997-.24 2.892-.7.279.04.555.065.828.065 1.53 0 2.969-.628 4.236-1.894 3.338-3.338 3.083-6.928 1.738-9.166l-2.868-5.043z"></path></g></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--clapFilled svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><g fill-rule="evenodd"><path d="M11.738 0l.762 2.966L13.262 0z"></path><path d="M16.634 1.224l-1.432-.47-.408 3.022z"></path><path d="M9.79.754l-1.431.47 1.84 2.552z"></path><path d="M22.472 13.307l-3.023-5.32c-.287-.426-.689-.705-1.123-.776a1.16 1.16 0 0 0-.911.221c-.297.231-.474.515-.535.84.017.022.036.04.053.063l2.843 5.001c1.95 3.564 1.328 6.973-1.843 10.144a8.46 8.46 0 0 1-.549.501c1.205-.156 2.328-.737 3.351-1.76 3.268-3.268 3.041-6.749 1.737-8.914"></path><path d="M12.58 9.887c-.156-.83.096-1.569.692-2.142L10.78 5.252c-.5-.504-1.378-.504-1.879 0-.178.18-.273.4-.329.63l4.008 4.005z"></path><path d="M15.812 9.04c-.218-.323-.539-.55-.88-.606a.814.814 0 0 0-.644.153c-.176.137-.713.553-.24 1.566l1.43 3.025a.539.539 0 1 1-.868.612L7.2 6.378a.986.986 0 1 0-1.395 1.395l4.401 4.403a.538.538 0 1 1-.762.762L5.046 8.54 3.802 7.295a.99.99 0 0 0-1.396 0 .981.981 0 0 0 0 1.394L3.647 9.93l4.402 4.403a.537.537 0 0 1 0 .761.535.535 0 0 1-.762 0L2.89 10.696a.992.992 0 0 0-1.399-.003.983.983 0 0 0 0 1.395l1.855 1.854 2.763 2.765a.538.538 0 0 1-.76.761l-2.765-2.764a.982.982 0 0 0-1.395 0 .989.989 0 0 0 0 1.395l5.32 5.32c3.371 3.372 6.64 4.977 10.49 1.126C19.74 19.8 20.271 17 18.62 13.982L15.812 9.04z"></path></g></svg></span></span></button></div><span class="u-textAlignCenter u-relative u-background js-actionMultirecommendCount u-marginLeft5"><button class="button button--chromeless u-baseColor--buttonNormal js-multirecommendCountButton u-disablePointerEvents u-marginLeft4" data-action="show-recommends" data-action-value="39e598c4fcae">151</button></span></div></div><div class="u-height20 u-borderRightLighter u-inlineBlock u-relative u-marginRight10 u-marginLeft12"></div><div class="buttonSet"><button class="button button--chromeless is-touchIconFadeInPulse u-baseColor--buttonNormal button--withIcon button--withSvgIcon button--bookmark js-bookmarkButton" title="Bookmark this story to read later" aria-label="Bookmark this story to read later" data-action="add-to-bookmarks" data-action-value="39e598c4fcae" data-action-source="placement_card_footer_grid-----39e598c4fcae----2-43----------------bookmark_preview"><span class="button-defaultState"><span class="svgIcon svgIcon--bookmark svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><path d="M19 6c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v14.66h.012c.01.103.045.204.12.285a.5.5 0 0 0 .706.03L12.5 16.85l5.662 4.126a.508.508 0 0 0 .708-.03.5.5 0 0 0 .118-.285H19V6zm-6.838 9.97L7 19.636V6c0-.55.45-1 1-1h9c.55 0 1 .45 1 1v13.637l-5.162-3.668a.49.49 0 0 0-.676 0z" fill-rule="evenodd"></path></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--bookmarkFilled svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><path d="M19 6c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v14.66h.012c.01.103.045.204.12.285a.5.5 0 0 0 .706.03L12.5 16.85l5.662 4.126c.205.183.52.17.708-.03a.5.5 0 0 0 .118-.285H19V6z"></path></svg></span></span></button></div></div></div></div></div></div></div></div></div></div><div class="u-padding0 u-clearfix u-backgroundGrayLightest u-print-hide supplementalPostContent js-responsesWrapper" data-action-scope="_actionscope_5"><div class="container u-maxWidth740"><div class="responsesStreamWrapper u-maxWidth640 js-responsesStreamWrapper"><div class="container responsesStream-title u-paddingTop15"><div class="row"><header class="heading"><div class="u-clearfix"><div class="heading-content u-floatLeft"><span class="heading-title heading-title--semibold">Responses</span></div></div></header></div></div><div class="responsesStream-editor cardChromeless u-marginBottom20 u-paddingLeft20 u-paddingRight20 js-responsesStreamEditor"><div class="inlineNewPostControl js-inlineNewPostControl" data-action-scope="_actionscope_6"><div class="inlineEditor is-collapsed is-postEditMode js-inlineEditor" data-action="focus-editor"><div class="u-paddingTop20 js-block js-inlineEditorContent"><div class="inlineEditor-header"><div class="inlineEditor-avatar u-paddingRight20"><div class="avatar u-inline"><img src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/0_P-t7h_lDOjJiWVxI(1)" class="avatar-image u-size36x36 u-xs-size32x32" alt="陈辰"></div></div><div class="inlineEditor-headerContent"><div class="inlineEditor-placeholder js-inlineEditorPrompt">Write a response…</div><div class="inlineEditor-author u-accentColor--textNormal">陈辰</div></div></div></div></div></div></div><div class="responsesStream js-responsesStream"></div><div class="container js-showOtherResponses"><div class="row"><button class="button button--primary button--withChrome u-accentColor--buttonNormal responsesStream-showOtherResponses cardChromeless u-sizeFullWidth u-marginVertical20 u-heightAuto" data-action="show-other-responses">Show all responses</button></div></div><div class="responsesStream js-responsesStreamOther"></div></div></div></div><div class="supplementalPostContent js-heroPromo"></div></footer></article></main><aside class="u-marginAuto u-maxWidth1000 js-postLeftSidebar"><div class="u-foreground u-top0 u-sm-hide u-marginLeftNegative12 js-postShareWidget u-transition--fadeIn300 u-fixed" data-scroll="fixed" style="transform: translateY(150px);"><ul><li class="u-textAlignCenter u-marginVertical10"><div class="multirecommend js-actionMultirecommend u-flexColumn u-marginBottom10 u-width60" data-post-id="a270cb05e0b3" data-is-icon-29px="true" data-is-vertical="true" data-is-circle="true" data-has-recommend-list="true" data-source="post_share_widget-----a270cb05e0b3---------------------clap_sidebar"><div class="u-relative u-foreground"><button class="button button--large button--circle button--withChrome u-baseColor--buttonNormal button--withIcon button--withSvgIcon clapButton js-actionMultirecommendButton clapButton--largePill u-relative u-foreground u-xs-paddingLeft13 u-width60 u-height60 u-accentColor--textNormal u-accentColor--buttonNormal" data-action="multivote" data-action-value="a270cb05e0b3" data-action-type="long-press" data-action-source="post_share_widget-----a270cb05e0b3---------------------clap_sidebar" aria-label="Clap"><span class="button-defaultState"><span class="svgIcon svgIcon--clap svgIcon--33px u-relative u-topNegative2 u-xs-top0"><svg class="svgIcon-use" width="33" height="33" viewBox="0 0 33 33"><path d="M28.86 17.342l-3.64-6.402c-.292-.433-.712-.729-1.163-.8a1.124 1.124 0 0 0-.889.213c-.63.488-.742 1.181-.33 2.061l1.222 2.587 1.4 2.46c2.234 4.085 1.511 8.007-2.145 11.663-.26.26-.526.49-.797.707 1.42-.084 2.881-.683 4.292-2.094 3.822-3.823 3.565-7.876 2.05-10.395zm-6.252 11.075c3.352-3.35 3.998-6.775 1.978-10.469l-3.378-5.945c-.292-.432-.712-.728-1.163-.8a1.122 1.122 0 0 0-.89.213c-.63.49-.742 1.182-.33 2.061l1.72 3.638a.502.502 0 0 1-.806.568l-8.91-8.91a1.335 1.335 0 0 0-1.887 1.886l5.292 5.292a.5.5 0 0 1-.707.707l-5.292-5.292-1.492-1.492c-.503-.503-1.382-.505-1.887 0a1.337 1.337 0 0 0 0 1.886l1.493 1.492 5.292 5.292a.499.499 0 0 1-.353.854.5.5 0 0 1-.354-.147L5.642 13.96a1.338 1.338 0 0 0-1.887 0 1.338 1.338 0 0 0 0 1.887l2.23 2.228 3.322 3.324a.499.499 0 0 1-.353.853.502.502 0 0 1-.354-.146l-3.323-3.324a1.333 1.333 0 0 0-1.886 0 1.325 1.325 0 0 0-.39.943c0 .356.138.691.39.943l6.396 6.397c3.528 3.53 8.86 5.313 12.821 1.353zM12.73 9.26l5.68 5.68-.49-1.037c-.518-1.107-.426-2.13.224-2.89l-3.303-3.304a1.337 1.337 0 0 0-1.886 0 1.326 1.326 0 0 0-.39.944c0 .217.067.42.165.607zm14.787 19.184c-1.599 1.6-3.417 2.392-5.353 2.392-.349 0-.7-.03-1.058-.082a7.922 7.922 0 0 1-3.667.887c-3.049 0-6.115-1.626-8.359-3.87l-6.396-6.397A2.315 2.315 0 0 1 2 19.724a2.327 2.327 0 0 1 1.923-2.296l-.875-.875a2.339 2.339 0 0 1 0-3.3 2.33 2.33 0 0 1 1.24-.647l-.139-.139c-.91-.91-.91-2.39 0-3.3.884-.884 2.421-.882 3.301 0l.138.14a2.335 2.335 0 0 1 3.948-1.24l.093.092c.091-.423.291-.828.62-1.157a2.336 2.336 0 0 1 3.3 0l3.384 3.386a2.167 2.167 0 0 1 1.271-.173c.534.086 1.03.354 1.441.765.11-.549.415-1.034.911-1.418a2.12 2.12 0 0 1 1.661-.41c.727.117 1.385.565 1.853 1.262l3.652 6.423c1.704 2.832 2.025 7.377-2.205 11.607zM13.217.484l-1.917.882 2.37 2.837-.454-3.719zm8.487.877l-1.928-.86-.44 3.697 2.368-2.837zM16.5 3.293L15.478-.005h2.044L16.5 3.293z" fill-rule="evenodd"></path></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--clapFilled svgIcon--33px u-relative u-topNegative2 u-xs-top0"><svg class="svgIcon-use" width="33" height="33" viewBox="0 0 33 33"><g fill-rule="evenodd"><path d="M29.58 17.1l-3.854-6.78c-.365-.543-.876-.899-1.431-.989a1.491 1.491 0 0 0-1.16.281c-.42.327-.65.736-.7 1.207v.001l3.623 6.367c2.46 4.498 1.67 8.802-2.333 12.807-.265.265-.536.505-.81.728 1.973-.222 3.474-1.286 4.45-2.263 4.166-4.165 3.875-8.6 2.215-11.36zm-4.831.82l-3.581-6.3c-.296-.439-.725-.742-1.183-.815a1.105 1.105 0 0 0-.89.213c-.647.502-.755 1.188-.33 2.098l1.825 3.858a.601.601 0 0 1-.197.747.596.596 0 0 1-.77-.067L10.178 8.21c-.508-.506-1.393-.506-1.901 0a1.335 1.335 0 0 0-.393.95c0 .36.139.698.393.95v.001l5.61 5.61a.599.599 0 1 1-.848.847l-5.606-5.606c-.001 0-.002 0-.003-.002L5.848 9.375a1.349 1.349 0 0 0-1.902 0 1.348 1.348 0 0 0 0 1.901l1.582 1.582 5.61 5.61a.6.6 0 0 1-.848.848l-5.61-5.61c-.51-.508-1.393-.508-1.9 0a1.332 1.332 0 0 0-.394.95c0 .36.139.697.393.952l2.363 2.362c.002.001.002.002.002.003l3.52 3.52a.6.6 0 0 1-.848.847l-3.522-3.523h-.001a1.336 1.336 0 0 0-.95-.393 1.345 1.345 0 0 0-.949 2.295l6.779 6.78c3.715 3.713 9.327 5.598 13.49 1.434 3.527-3.528 4.21-7.13 2.086-11.015zM11.817 7.727c.06-.328.213-.64.466-.893.64-.64 1.755-.64 2.396 0l3.232 3.232c-.82.783-1.09 1.833-.764 2.992l-5.33-5.33z"></path><path d="M13.285.48l-1.916.881 2.37 2.837z"></path><path d="M21.719 1.361L19.79.501l-.44 3.697z"></path><path d="M16.502 3.298L15.481 0h2.043z"></path></g></svg></span></span></button><div class="clapUndo u-width60 u-round u-height32 u-absolute u-borderBox u-paddingRight5 u-transition--transform200Spring u-background--brandSageLighter js-clapUndo" style="top: 14px; padding: 2px;"><button class="button button--chromeless u-baseColor--buttonNormal button--withIcon button--withSvgIcon u-floatRight" data-action="multivote-undo" data-action-value="a270cb05e0b3"><span class="svgIcon svgIcon--removeThin svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M20.13 8.11l-5.61 5.61-5.609-5.61-.801.801 5.61 5.61-5.61 5.61.801.8 5.61-5.609 5.61 5.61.8-.801-5.609-5.61 5.61-5.61" fill-rule="evenodd"></path></svg></span></button></div></div><span class="u-textAlignCenter u-relative u-background js-actionMultirecommendCount u-flexOrderNegative1 u-height20 u-marginBottom7"><button class="button button--chromeless u-baseColor--buttonNormal js-multirecommendCountButton u-block u-marginAuto" data-action="show-recommends" data-action-value="a270cb05e0b3">1.4K</button></span></div></li><li class="u-textAlignCenter u-marginVertical10"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon" title="Share on Twitter" aria-label="Share on Twitter" data-action="share-on-twitter" data-action-source="post_share_widget"><span class="svgIcon svgIcon--twitter svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M21.967 11.8c.018 5.93-4.607 11.18-11.177 11.18-2.172 0-4.25-.62-6.047-1.76l-.268.422-.038.5.186.013.168.012c.3.02.44.032.6.046 2.06-.026 3.95-.686 5.49-1.86l1.12-.85-1.4-.048c-1.57-.055-2.92-1.08-3.36-2.51l-.48.146-.05.5c.22.03.48.05.75.08.48-.02.87-.07 1.25-.15l2.33-.49-2.32-.49c-1.68-.35-2.91-1.83-2.91-3.55 0-.05 0-.01-.01.03l-.49-.1-.25.44c.63.36 1.35.57 2.07.58l1.7.04L7.4 13c-.978-.662-1.59-1.79-1.618-3.047a4.08 4.08 0 0 1 .524-1.8l-.825.07a12.188 12.188 0 0 0 8.81 4.515l.59.033-.06-.59v-.02c-.05-.43-.06-.63-.06-.87a3.617 3.617 0 0 1 6.27-2.45l.2.21.28-.06c1.01-.22 1.94-.59 2.73-1.09l-.75-.56c-.1.36-.04.89.12 1.36.23.68.58 1.13 1.17.85l-.21-.45-.42-.27c-.52.8-1.17 1.48-1.92 2L22 11l.016.28c.013.2.014.35 0 .52v.04zm.998.038c.018-.22.017-.417 0-.66l-.498.034.284.41a8.183 8.183 0 0 0 2.2-2.267l.97-1.48-1.6.755c.17-.08.3-.02.34.03a.914.914 0 0 1-.13-.292c-.1-.297-.13-.64-.1-.766l.36-1.254-1.1.695c-.69.438-1.51.764-2.41.963l.48.15a4.574 4.574 0 0 0-3.38-1.484 4.616 4.616 0 0 0-4.61 4.613c0 .29.02.51.08.984l.01.02.5-.06.03-.5c-3.17-.18-6.1-1.7-8.08-4.15l-.48-.56-.36.64c-.39.69-.62 1.48-.65 2.28.04 1.61.81 3.04 2.06 3.88l.3-.92c-.55-.02-1.11-.17-1.6-.45l-.59-.34-.14.67c-.02.08-.02.16 0 .24-.01 2.12 1.55 4.01 3.69 4.46l.1-.49-.1-.49c-.33.07-.67.12-1.03.14-.18-.02-.43-.05-.64-.07l-.76-.09.23.73c.57 1.84 2.29 3.14 4.28 3.21l-.28-.89a8.252 8.252 0 0 1-4.85 1.66c-.12-.01-.26-.02-.56-.05l-.17-.01-.18-.01L2.53 21l1.694 1.07a12.233 12.233 0 0 0 6.58 1.917c7.156 0 12.2-5.73 12.18-12.18l-.002.04z"></path></svg></span></button></li><li class="u-textAlignCenter u-marginVertical10"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon" title="Share on Facebook" aria-label="Share on Facebook" data-action="share-on-facebook" data-action-source="post_share_widget"><span class="svgIcon svgIcon--facebook svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M16.39 23.61v-5.808h1.846a.55.55 0 0 0 .546-.48l.36-2.797a.551.551 0 0 0-.547-.62H16.39V12.67c0-.67.12-.813.828-.813h1.474a.55.55 0 0 0 .55-.55V8.803a.55.55 0 0 0-.477-.545c-.436-.06-1.36-.116-2.22-.116-2.5 0-4.13 1.62-4.13 4.248v1.513H10.56a.551.551 0 0 0-.55.55v2.797c0 .304.248.55.55.55h1.855v5.76c-4.172-.96-7.215-4.7-7.215-9.1 0-5.17 4.17-9.36 9.31-9.36 5.14 0 9.31 4.19 9.31 9.36 0 4.48-3.155 8.27-7.43 9.15M14.51 4C8.76 4 4.1 8.684 4.1 14.46c0 5.162 3.75 9.523 8.778 10.32a.55.55 0 0 0 .637-.543v-6.985a.551.551 0 0 0-.55-.55H11.11v-1.697h1.855a.55.55 0 0 0 .55-.55v-2.063c0-2.02 1.136-3.148 3.03-3.148.567 0 1.156.027 1.597.06v1.453h-.924c-1.363 0-1.93.675-1.93 1.912v1.78c0 .3.247.55.55.55h2.132l-.218 1.69H15.84c-.305 0-.55.24-.55.55v7.02c0 .33.293.59.623.54 5.135-.7 9.007-5.11 9.007-10.36C24.92 8.68 20.26 4 14.51 4"></path></svg></span></button></li><li class="u-textAlignCenter u-marginVertical10"><button class="button button--large button--dark button--chromeless is-touchIconFadeInPulse is-active u-baseColor--buttonDark button--withIcon button--withSvgIcon button--bookmark js-bookmarkButton" title="Bookmark this story to read later" aria-label="Bookmark this story to read later" data-action="remove-from-bookmarks" data-action-value="a270cb05e0b3" data-action-source="post_share_widget-----a270cb05e0b3---------------------bookmark_sidebar"><span class="button-defaultState"><span class="svgIcon svgIcon--bookmark svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M19.385 4h-9.77A2.623 2.623 0 0 0 7 6.615V23.01a1.022 1.022 0 0 0 1.595.847l5.905-4.004 5.905 4.004A1.022 1.022 0 0 0 22 23.011V6.62A2.625 2.625 0 0 0 19.385 4zM21 23l-5.91-3.955-.148-.107a.751.751 0 0 0-.884 0l-.147.107L8 23V6.615C8 5.725 8.725 5 9.615 5h9.77C20.275 5 21 5.725 21 6.615V23z" fill-rule="evenodd"></path></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--bookmarkFilled svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M19.385 4h-9.77A2.623 2.623 0 0 0 7 6.615V23.01a1.022 1.022 0 0 0 1.595.847l5.905-4.004 5.905 4.004A1.022 1.022 0 0 0 22 23.011V6.62A2.625 2.625 0 0 0 19.385 4z" fill-rule="evenodd"></path></svg></span></span></button></li></ul></div></aside><div class="postActionsBar uiScale uiScale-ui--regular uiScale-caption--regular js-postActionsBar is-visible"><div class="postActionsBar-container container"><div class="postActionsBar-content row u-boxShadowNormal js-postActionsBarContent"><div class="postActions"><div class="u-height44 u-maxWidth1250 u-marginAuto u-relative"><div class="u-absolute u-right0 u-marginRight20 u-sizeFullHeight u-flexCenter"><div class="u-floatLeft"><div class="u-floatRight buttonSet"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon" data-action="respond" data-action-source="post_actions_bar"><span class="svgIcon svgIcon--response svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M21.27 20.058c1.89-1.826 2.754-4.17 2.754-6.674C24.024 8.21 19.67 4 14.1 4 8.53 4 4 8.21 4 13.384c0 5.175 4.53 9.385 10.1 9.385 1.007 0 2-.14 2.95-.41.285.25.592.49.918.7 1.306.87 2.716 1.31 4.19 1.31.276-.01.494-.14.6-.36a.625.625 0 0 0-.052-.65c-.61-.84-1.042-1.71-1.282-2.58a5.417 5.417 0 0 1-.154-.75zm-3.85 1.324l-.083-.28-.388.12a9.72 9.72 0 0 1-2.85.424c-4.96 0-8.99-3.706-8.99-8.262 0-4.556 4.03-8.263 8.99-8.263 4.95 0 8.77 3.71 8.77 8.27 0 2.25-.75 4.35-2.5 5.92l-.24.21v.32c0 .07 0 .19.02.37.03.29.1.6.19.92.19.7.49 1.4.89 2.08-.93-.14-1.83-.49-2.67-1.06-.34-.22-.88-.48-1.16-.74z"></path></svg></span></button><button class="button button--chromeless u-baseColor--buttonNormal" data-action="scroll-to-responses">2</button><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon u-xs-hide" title="Share on Twitter" aria-label="Share on Twitter" data-action="share-on-twitter" data-action-source="post_actions_bar"><span class="svgIcon svgIcon--twitter svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M21.967 11.8c.018 5.93-4.607 11.18-11.177 11.18-2.172 0-4.25-.62-6.047-1.76l-.268.422-.038.5.186.013.168.012c.3.02.44.032.6.046 2.06-.026 3.95-.686 5.49-1.86l1.12-.85-1.4-.048c-1.57-.055-2.92-1.08-3.36-2.51l-.48.146-.05.5c.22.03.48.05.75.08.48-.02.87-.07 1.25-.15l2.33-.49-2.32-.49c-1.68-.35-2.91-1.83-2.91-3.55 0-.05 0-.01-.01.03l-.49-.1-.25.44c.63.36 1.35.57 2.07.58l1.7.04L7.4 13c-.978-.662-1.59-1.79-1.618-3.047a4.08 4.08 0 0 1 .524-1.8l-.825.07a12.188 12.188 0 0 0 8.81 4.515l.59.033-.06-.59v-.02c-.05-.43-.06-.63-.06-.87a3.617 3.617 0 0 1 6.27-2.45l.2.21.28-.06c1.01-.22 1.94-.59 2.73-1.09l-.75-.56c-.1.36-.04.89.12 1.36.23.68.58 1.13 1.17.85l-.21-.45-.42-.27c-.52.8-1.17 1.48-1.92 2L22 11l.016.28c.013.2.014.35 0 .52v.04zm.998.038c.018-.22.017-.417 0-.66l-.498.034.284.41a8.183 8.183 0 0 0 2.2-2.267l.97-1.48-1.6.755c.17-.08.3-.02.34.03a.914.914 0 0 1-.13-.292c-.1-.297-.13-.64-.1-.766l.36-1.254-1.1.695c-.69.438-1.51.764-2.41.963l.48.15a4.574 4.574 0 0 0-3.38-1.484 4.616 4.616 0 0 0-4.61 4.613c0 .29.02.51.08.984l.01.02.5-.06.03-.5c-3.17-.18-6.1-1.7-8.08-4.15l-.48-.56-.36.64c-.39.69-.62 1.48-.65 2.28.04 1.61.81 3.04 2.06 3.88l.3-.92c-.55-.02-1.11-.17-1.6-.45l-.59-.34-.14.67c-.02.08-.02.16 0 .24-.01 2.12 1.55 4.01 3.69 4.46l.1-.49-.1-.49c-.33.07-.67.12-1.03.14-.18-.02-.43-.05-.64-.07l-.76-.09.23.73c.57 1.84 2.29 3.14 4.28 3.21l-.28-.89a8.252 8.252 0 0 1-4.85 1.66c-.12-.01-.26-.02-.56-.05l-.17-.01-.18-.01L2.53 21l1.694 1.07a12.233 12.233 0 0 0 6.58 1.917c7.156 0 12.2-5.73 12.18-12.18l-.002.04z"></path></svg></span></button><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon u-xs-hide" title="Share on Facebook" aria-label="Share on Facebook" data-action="share-on-facebook" data-action-source="post_actions_bar"><span class="svgIcon svgIcon--facebook svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M16.39 23.61v-5.808h1.846a.55.55 0 0 0 .546-.48l.36-2.797a.551.551 0 0 0-.547-.62H16.39V12.67c0-.67.12-.813.828-.813h1.474a.55.55 0 0 0 .55-.55V8.803a.55.55 0 0 0-.477-.545c-.436-.06-1.36-.116-2.22-.116-2.5 0-4.13 1.62-4.13 4.248v1.513H10.56a.551.551 0 0 0-.55.55v2.797c0 .304.248.55.55.55h1.855v5.76c-4.172-.96-7.215-4.7-7.215-9.1 0-5.17 4.17-9.36 9.31-9.36 5.14 0 9.31 4.19 9.31 9.36 0 4.48-3.155 8.27-7.43 9.15M14.51 4C8.76 4 4.1 8.684 4.1 14.46c0 5.162 3.75 9.523 8.778 10.32a.55.55 0 0 0 .637-.543v-6.985a.551.551 0 0 0-.55-.55H11.11v-1.697h1.855a.55.55 0 0 0 .55-.55v-2.063c0-2.02 1.136-3.148 3.03-3.148.567 0 1.156.027 1.597.06v1.453h-.924c-1.363 0-1.93.675-1.93 1.912v1.78c0 .3.247.55.55.55h2.132l-.218 1.69H15.84c-.305 0-.55.24-.55.55v7.02c0 .33.293.59.623.54 5.135-.7 9.007-5.11 9.007-10.36C24.92 8.68 20.26 4 14.51 4"></path></svg></span></button><button class="button button--large button--dark button--chromeless u-baseColor--buttonDark button--withIcon button--withSvgIcon u-xs-show" title="Share this story on Twitter or Facebook" aria-label="Share this story on Twitter or Facebook" data-action="show-share-popover" data-action-source="post_actions_bar"><span class="svgIcon svgIcon--share svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M20.385 8H19a.5.5 0 1 0 .011 1h1.39c.43 0 .84.168 1.14.473.31.305.48.71.48 1.142v10.77c0 .43-.17.837-.47 1.142-.3.305-.71.473-1.14.473H8.62c-.43 0-.84-.168-1.144-.473a1.603 1.603 0 0 1-.473-1.142v-10.77c0-.43.17-.837.48-1.142A1.599 1.599 0 0 1 8.62 9H10a.502.502 0 0 0 0-1H8.615c-.67 0-1.338.255-1.85.766-.51.51-.765 1.18-.765 1.85v10.77c0 .668.255 1.337.766 1.848.51.51 1.18.766 1.85.766h11.77c.668 0 1.337-.255 1.848-.766.51-.51.766-1.18.766-1.85v-10.77c0-.668-.255-1.337-.766-1.848A2.61 2.61 0 0 0 20.384 8zm-8.67-2.508L14 3.207v8.362c0 .27.224.5.5.5s.5-.23.5-.5V3.2l2.285 2.285a.49.49 0 0 0 .704-.001.511.511 0 0 0 0-.708l-3.14-3.14a.504.504 0 0 0-.71 0L11 4.776a.501.501 0 0 0 .71.706" fill-rule="evenodd"></path></svg></span></button><button class="button button--large button--dark button--chromeless is-touchIconFadeInPulse is-active u-baseColor--buttonDark button--withIcon button--withSvgIcon button--bookmark js-bookmarkButton" title="Bookmark this story to read later" aria-label="Bookmark this story to read later" data-action="remove-from-bookmarks" data-action-value="a270cb05e0b3" data-action-source="post_actions_bar"><span class="button-defaultState"><span class="svgIcon svgIcon--bookmark svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M19.385 4h-9.77A2.623 2.623 0 0 0 7 6.615V23.01a1.022 1.022 0 0 0 1.595.847l5.905-4.004 5.905 4.004A1.022 1.022 0 0 0 22 23.011V6.62A2.625 2.625 0 0 0 19.385 4zM21 23l-5.91-3.955-.148-.107a.751.751 0 0 0-.884 0l-.147.107L8 23V6.615C8 5.725 8.725 5 9.615 5h9.77C20.275 5 21 5.725 21 6.615V23z" fill-rule="evenodd"></path></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--bookmarkFilled svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M19.385 4h-9.77A2.623 2.623 0 0 0 7 6.615V23.01a1.022 1.022 0 0 0 1.595.847l5.905-4.004 5.905 4.004A1.022 1.022 0 0 0 22 23.011V6.62A2.625 2.625 0 0 0 19.385 4z" fill-rule="evenodd"></path></svg></span></span></button></div></div><div class="u-xs-hide u-width255 u-height44 u-floatLeft js-readNextMetabarRight"><div class="streamItem streamItem--placementCardMetabar js-streamItem"><div class="readNextPromo readNextPromo--chromeless"><div class="buttonSet-separator u-floatLeft"></div><div class="js-trackedPost" data-post-id="c751538131ac" data-source="read_next_metabar----------41" data-tracking-context="placement" data-scroll="fixed"><a class="link link--noUnderline u-baseColor--link u-block" href="https://medium.com/open-machine-learning-course/open-machine-learning-course-topic-10-gradient-boosting-c751538131ac?source=read_next_metabar----------41"><div class="uiScale uiScale-ui--small uiScale-caption--small readNextPromo-postInfo"><div class="ui-caption u-marginTop5 readNextPromo-callToAction u-accentColor--textNormal u-uiTextBold">Next story</div><h4 class="ui-h4 readNextPromo-postTitle u-block u-noWrapWithEllipsis u-contentSansBold">Open Machine Learning Course. Topic 10. Gradient Boosting</h4></div></a></div></div></div></div></div><div class="container u-maxWidth740 u-sizeFullHeight u-flexCenter"><div class="buttonSet"><div class="multirecommend js-actionMultirecommend u-flexCenter" data-post-id="a270cb05e0b3" data-is-icon-29px="true" data-has-recommend-list="true" data-source="post_actions_bar-----a270cb05e0b3---------------------clap_footer"><div class="u-relative u-foreground"><button class="button button--primary button--large button--chromeless u-accentColor--buttonNormal button--withIcon button--withSvgIcon clapButton js-actionMultirecommendButton" data-action="multivote" data-action-value="a270cb05e0b3" data-action-type="long-press" data-action-source="post_actions_bar-----a270cb05e0b3---------------------clap_footer" aria-label="Clap"><span class="button-defaultState"><span class="svgIcon svgIcon--clap svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><g fill-rule="evenodd"><path d="M13.739 1l.761 2.966L15.261 1z"></path><path d="M16.815 4.776l1.84-2.551-1.43-.471z"></path><path d="M10.378 2.224l1.84 2.551-.408-3.022z"></path><path d="M22.382 22.622c-1.04 1.04-2.115 1.507-3.166 1.608.168-.14.332-.29.492-.45 2.885-2.886 3.456-5.982 1.69-9.211l-1.101-1.937-.955-2.02c-.315-.676-.235-1.185.245-1.556a.836.836 0 0 1 .66-.16c.342.056.66.28.879.605l2.856 5.023c1.179 1.962 1.379 5.119-1.6 8.098m-13.29-.528l-5.02-5.02a1 1 0 0 1 .707-1.701c.255 0 .512.098.707.292l2.607 2.607a.442.442 0 0 0 .624-.624L6.11 15.04l-1.75-1.75a.998.998 0 1 1 1.41-1.413l4.154 4.156a.44.44 0 0 0 .624 0 .44.44 0 0 0 0-.624l-4.152-4.153-1.172-1.171a.998.998 0 0 1 0-1.41 1.018 1.018 0 0 1 1.41 0l1.172 1.17 4.153 4.152a.437.437 0 0 0 .624 0 .442.442 0 0 0 0-.624L8.43 9.222a.988.988 0 0 1-.291-.705.99.99 0 0 1 .29-.706 1 1 0 0 1 1.412 0l6.992 6.993a.443.443 0 0 0 .71-.501l-1.35-2.856c-.315-.676-.235-1.185.246-1.557a.85.85 0 0 1 .66-.16c.342.056.659.28.879.606L20.628 15c1.573 2.876 1.067 5.545-1.544 8.156-1.396 1.397-3.144 1.966-5.063 1.652-1.713-.286-3.463-1.248-4.928-2.714zM12.99 6.976l2.562 2.562c-.497.607-.563 1.414-.155 2.284l.265.562-4.257-4.257a.98.98 0 0 1-.117-.445c0-.267.104-.517.292-.706a1.023 1.023 0 0 1 1.41 0zm8.887 2.06c-.375-.557-.902-.916-1.486-1.011a1.738 1.738 0 0 0-1.342.332c-.376.29-.61.656-.712 1.065a2.1 2.1 0 0 0-1.095-.562 1.776 1.776 0 0 0-.992.128l-2.636-2.636a1.883 1.883 0 0 0-2.658 0 1.862 1.862 0 0 0-.478.847 1.886 1.886 0 0 0-2.671-.012 1.867 1.867 0 0 0-.503.909c-.754-.754-1.992-.754-2.703-.044a1.881 1.881 0 0 0 0 2.658c-.288.12-.605.288-.864.547a1.884 1.884 0 0 0 0 2.659l.624.622a1.879 1.879 0 0 0-.91 3.16l5.019 5.02c1.595 1.594 3.515 2.645 5.408 2.959a7.16 7.16 0 0 0 1.173.098c1.026 0 1.997-.24 2.892-.7.279.04.555.065.828.065 1.53 0 2.969-.628 4.236-1.894 3.338-3.338 3.083-6.928 1.738-9.166l-2.868-5.043z"></path></g></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--clapFilled svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><g fill-rule="evenodd"><path d="M13.738 1l.762 2.966L15.262 1z"></path><path d="M18.634 2.224l-1.432-.47-.408 3.022z"></path><path d="M11.79 1.754l-1.431.47 1.84 2.552z"></path><path d="M24.472 14.307l-3.023-5.32c-.287-.426-.689-.705-1.123-.776a1.16 1.16 0 0 0-.911.221c-.297.231-.474.515-.535.84.017.022.036.04.053.063l2.843 5.001c1.95 3.564 1.328 6.973-1.843 10.144a8.46 8.46 0 0 1-.549.501c1.205-.156 2.328-.737 3.351-1.76 3.268-3.268 3.041-6.749 1.737-8.914"></path><path d="M14.58 10.887c-.156-.83.096-1.569.692-2.142L12.78 6.252c-.5-.504-1.378-.504-1.879 0-.178.18-.273.4-.329.63l4.008 4.005z"></path><path d="M17.812 10.04c-.218-.323-.539-.55-.88-.606a.814.814 0 0 0-.644.153c-.176.137-.713.553-.24 1.566l1.43 3.025a.539.539 0 1 1-.868.612L9.2 7.378a.986.986 0 1 0-1.395 1.395l4.401 4.403a.538.538 0 1 1-.762.762L7.046 9.54 5.802 8.295a.99.99 0 0 0-1.396 0 .981.981 0 0 0 0 1.394l1.241 1.241 4.402 4.403a.537.537 0 0 1 0 .761.535.535 0 0 1-.762 0L4.89 11.696a.992.992 0 0 0-1.399-.003.983.983 0 0 0 0 1.395l1.855 1.854 2.763 2.765a.538.538 0 0 1-.76.761l-2.765-2.764a.982.982 0 0 0-1.395 0 .989.989 0 0 0 0 1.395l5.32 5.32c3.371 3.372 6.64 4.977 10.49 1.126C21.74 20.8 22.271 18 20.62 14.982l-2.809-4.942z"></path></g></svg></span></span></button></div><span class="u-textAlignCenter u-relative u-background js-actionMultirecommendCount u-marginLeft5"><button class="button button--chromeless u-baseColor--buttonNormal js-multirecommendCountButton" data-action="show-recommends" data-action-value="a270cb05e0b3">1.4K</button></span></div></div></div></div></div></div></div></div><style class="js-collectionStyle">
.u-accentColor--borderLight {border-color: #02B875 !important;}
.u-accentColor--borderNormal {border-color: #02B875 !important;}
.u-accentColor--borderDark {border-color: #1C9963 !important;}
.u-accentColor--iconLight .svgIcon,.u-accentColor--iconLight.svgIcon {fill: #02B875 !important;}
.u-accentColor--iconNormal .svgIcon,.u-accentColor--iconNormal.svgIcon {fill: #02B875 !important;}
.u-accentColor--iconDark .svgIcon,.u-accentColor--iconDark.svgIcon {fill: #1C9963 !important;}
.u-accentColor--textNormal {color: #1C9963 !important;}
.u-accentColor--hoverTextNormal:hover {color: #1C9963 !important;}
.u-accentColor--textNormal.u-accentColor--textDarken:hover {color: #1C9963 !important;}
.u-accentColor--textDark {color: #1C9963 !important;}
.u-accentColor--backgroundLight {background-color: #02B875 !important;}
.u-accentColor--backgroundNormal {background-color: #02B875 !important;}
.u-accentColor--backgroundDark {background-color: #1C9963 !important;}
.u-accentColor--buttonDark {border-color: #1C9963 !important; color: #1C9963 !important;}
.u-accentColor--buttonDark:hover {border-color: #1C9963 !important;}
.u-accentColor--buttonDark .icon:before,.u-accentColor--buttonDark .svgIcon{color: #1C9963 !important; fill: #1C9963 !important;}
.u-accentColor--buttonNormal:not(.clapButton--largePill) {border-color: #02B875 !important; color: #1C9963 !important;}
.u-accentColor--buttonNormal:hover {border-color: #1C9963 !important;}
.u-accentColor--buttonNormal .icon:before,.u-accentColor--buttonNormal .svgIcon{color: #02B875 !important; fill: #02B875 !important;}
.u-accentColor--buttonNormal.button--filled .icon:before,.u-accentColor--buttonNormal.button--filled .svgIcon{color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-accentColor--buttonDark.button--filled,.u-accentColor--buttonDark.button--withChrome.is-active,.u-accentColor--fillWhenActive.is-active {background-color: #1C9963 !important; border-color: #1C9963 !important; color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-accentColor--buttonNormal.button--filled:not(.clapButton--largePill),.u-accentColor--buttonNormal.button--withChrome.is-active:not(.clapButton--largePill) {background-color: #02B875 !important; border-color: #02B875 !important; color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.postArticle.is-withAccentColors .markup--user,.postArticle.is-withAccentColors .markup--query {color: #1C9963 !important;}
.u-accentColor--highlightFaint {background-color: rgba(233, 253, 240, 1) !important;}
.u-accentColor--highlightStrong.is-active .svgIcon {fill: rgba(125, 255, 179, 1) !important;}
.postArticle.is-withAccentColors .markup--quote.is-other {background-color: rgba(233, 253, 240, 1) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .markup--quote.is-other {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(233, 253, 240, 1), rgba(233, 253, 240, 1));}
.postArticle.is-withAccentColors .markup--quote.is-me {background-color: rgba(173, 255, 207, 1) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .markup--quote.is-me {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(173, 255, 207, 1), rgba(173, 255, 207, 1));}
.postArticle.is-withAccentColors .markup--quote.is-targeted {background-color: rgba(125, 255, 179, 1) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .markup--quote.is-targeted {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(125, 255, 179, 1), rgba(125, 255, 179, 1));}
.postArticle.is-withAccentColors .markup--quote.is-selected {background-color: rgba(125, 255, 179, 1) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .markup--quote.is-selected {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(125, 255, 179, 1), rgba(125, 255, 179, 1));}
.postArticle.is-withAccentColors .markup--highlight {background-color: rgba(125, 255, 179, 1) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .markup--highlight {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(125, 255, 179, 1), rgba(125, 255, 179, 1));}.u-baseColor--iconNormal.avatar-halo {fill: rgba(0, 0, 0, 0.4980392156862745) !important;}</style><style class="js-collectionStyleConstant">.u-imageBgColor {background-color: rgba(0, 0, 0, 0.24705882352941178);}
.u-imageSpectrum .u-baseColor--borderLight {border-color: rgba(255, 255, 255, 0.6980392156862745) !important;}
.u-imageSpectrum .u-baseColor--borderNormal {border-color: rgba(255, 255, 255, 0.8980392156862745) !important;}
.u-imageSpectrum .u-baseColor--borderDark {border-color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--iconLight .svgIcon,.u-imageSpectrum .u-baseColor--iconLight.svgIcon {fill: rgba(255, 255, 255, 0.8) !important;}
.u-imageSpectrum .u-baseColor--iconNormal .svgIcon,.u-imageSpectrum .u-baseColor--iconNormal.svgIcon {fill: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--iconDark .svgIcon,.u-imageSpectrum .u-baseColor--iconDark.svgIcon {fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--textNormal {color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--textNormal.u-baseColor--textDarken:hover {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--textDark {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--textDarker {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--backgroundLight {background-color: rgba(255, 255, 255, 0.8980392156862745) !important;}
.u-imageSpectrum .u-baseColor--backgroundNormal {background-color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--backgroundDark {background-color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--buttonLight {border-color: rgba(255, 255, 255, 0.6980392156862745) !important; color: rgba(255, 255, 255, 0.8) !important;}
.u-imageSpectrum .u-baseColor--buttonLight:hover {border-color: rgba(255, 255, 255, 0.6980392156862745) !important;}
.u-imageSpectrum .u-baseColor--buttonLight .icon:before,.u-imageSpectrum .u-baseColor--buttonLight .svgIcon {color: rgba(255, 255, 255, 0.8) !important; fill: rgba(255, 255, 255, 0.8) !important;}
.u-imageSpectrum .u-baseColor--buttonDark {border-color: rgba(255, 255, 255, 0.9490196078431372) !important; color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--buttonDark:hover {border-color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--buttonDark .icon:before,.u-imageSpectrum .u-baseColor--buttonDark .svgIcon {color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--buttonNormal {border-color: rgba(255, 255, 255, 0.8980392156862745) !important; color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--buttonNormal:hover {border-color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--buttonNormal .icon:before,.u-imageSpectrum .u-baseColor--buttonNormal .svgIcon {color: rgba(255, 255, 255, 0.9490196078431372) !important; fill: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--buttonDark.button--filled,.u-imageSpectrum .u-baseColor--buttonDark.button--withChrome.is-active {background-color: rgba(255, 255, 255, 1) !important; border-color: rgba(255, 255, 255, 1) !important; color: rgba(0, 0, 0, 0.24705882352941178) !important; fill: rgba(0, 0, 0, 0.24705882352941178) !important;}
.u-imageSpectrum .u-baseColor--buttonNormal.button--filled,.u-imageSpectrum .u-baseColor--buttonNormal.button--withChrome.is-active {background-color: rgba(255, 255, 255, 0.9490196078431372) !important; border-color: rgba(255, 255, 255, 0.9490196078431372) !important; color: rgba(0, 0, 0, 0.24705882352941178) !important; fill: rgba(0, 0, 0, 0.24705882352941178) !important;}
.u-imageSpectrum .u-baseColor--link {color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--link.link--darkenOnHover:hover {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--link.link--darken:hover,.u-imageSpectrum .u-baseColor--link.link--darken:focus,.u-imageSpectrum .u-baseColor--link.link--darken:active {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--link.link--dark {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--link.link--dark.link--darken:hover,.u-imageSpectrum .u-baseColor--link.link--dark.link--darken:focus,.u-imageSpectrum .u-baseColor--link.link--dark.link--darken:active {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--link.link--darker {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--placeholderNormal ::-webkit-input-placeholder {color: rgba(255, 255, 255, 0.8);}
.u-imageSpectrum .u-baseColor--placeholderNormal ::-moz-placeholder {color: rgba(255, 255, 255, 0.8);}
.u-imageSpectrum .u-baseColor--placeholderNormal :-ms-input-placeholder {color: rgba(255, 255, 255, 0.8);}
.u-imageSpectrum .svgIcon--logoNew path:nth-child(1) {stroke: none !important; fill: rgba(255, 255, 255, 0.4) !important;}
.u-imageSpectrum .svgIcon--logoNew path:nth-child(2) {stroke: none !important; fill: rgba(255, 255, 255, 0.4980392156862745) !important;}
.u-imageSpectrum .svgIcon--logoNew path:nth-child(3) {stroke: none !important; fill: rgba(255, 255, 255, 0.6980392156862745) !important;}
.u-imageSpectrum .svgIcon--logoNew path:nth-child(4) {stroke: none !important; fill: rgba(255, 255, 255, 0.8980392156862745) !important;}
.u-imageSpectrum .svgIcon--logoWordmark {stroke: none !important; fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .svgIcon--logoMonogram {stroke: none !important; fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum  .ui-h1,.u-imageSpectrum  .ui-h2,.u-imageSpectrum  .ui-h3,.u-imageSpectrum  .ui-h4,.u-imageSpectrum  .ui-brand1,.u-imageSpectrum  .ui-brand2,.u-imageSpectrum  .ui-captionStrong {color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum  .ui-body,.u-imageSpectrum  .ui-caps {color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum  .ui-summary,.u-imageSpectrum  .ui-caption {color: rgba(255, 255, 255, 0.8) !important; fill: rgba(255, 255, 255, 0.8) !important;}
.u-imageSpectrum .u-accentColor--borderLight {border-color: rgba(255, 255, 255, 0.6980392156862745) !important;}
.u-imageSpectrum .u-accentColor--borderNormal {border-color: rgba(255, 255, 255, 0.8980392156862745) !important;}
.u-imageSpectrum .u-accentColor--borderDark {border-color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--iconLight .svgIcon,.u-imageSpectrum .u-accentColor--iconLight.svgIcon {fill: rgba(255, 255, 255, 0.8) !important;}
.u-imageSpectrum .u-accentColor--iconNormal .svgIcon,.u-imageSpectrum .u-accentColor--iconNormal.svgIcon {fill: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--iconDark .svgIcon,.u-imageSpectrum .u-accentColor--iconDark.svgIcon {fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--textNormal {color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--hoverTextNormal:hover {color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--textNormal.u-accentColor--textDarken:hover {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--textDark {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--backgroundLight {background-color: rgba(255, 255, 255, 0.8980392156862745) !important;}
.u-imageSpectrum .u-accentColor--backgroundNormal {background-color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--backgroundDark {background-color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--buttonDark {border-color: rgba(255, 255, 255, 0.9490196078431372) !important; color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--buttonDark:hover {border-color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--buttonDark .icon:before,.u-imageSpectrum .u-accentColor--buttonDark .svgIcon{color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--buttonNormal:not(.clapButton--largePill) {border-color: rgba(255, 255, 255, 0.8980392156862745) !important; color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--buttonNormal:hover {border-color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--buttonNormal .icon:before,.u-imageSpectrum .u-accentColor--buttonNormal .svgIcon{color: rgba(255, 255, 255, 0.9490196078431372) !important; fill: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--buttonNormal.button--filled .icon:before,.u-imageSpectrum .u-accentColor--buttonNormal.button--filled .svgIcon{color: rgba(0, 0, 0, 0.24705882352941178) !important; fill: rgba(0, 0, 0, 0.24705882352941178) !important;}
.u-imageSpectrum .u-accentColor--buttonDark.button--filled,.u-imageSpectrum .u-accentColor--buttonDark.button--withChrome.is-active,.u-imageSpectrum .u-accentColor--fillWhenActive.is-active {background-color: rgba(255, 255, 255, 1) !important; border-color: rgba(255, 255, 255, 1) !important; color: rgba(0, 0, 0, 0.24705882352941178) !important; fill: rgba(0, 0, 0, 0.24705882352941178) !important;}
.u-imageSpectrum .u-accentColor--buttonNormal.button--filled:not(.clapButton--largePill),.u-imageSpectrum .u-accentColor--buttonNormal.button--withChrome.is-active:not(.clapButton--largePill) {background-color: rgba(255, 255, 255, 0.9490196078431372) !important; border-color: rgba(255, 255, 255, 0.9490196078431372) !important; color: rgba(0, 0, 0, 0.24705882352941178) !important; fill: rgba(0, 0, 0, 0.24705882352941178) !important;}
.u-imageSpectrum .postArticle.is-withAccentColors .markup--user,.u-imageSpectrum .postArticle.is-withAccentColors .markup--query {color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--highlightFaint {background-color: rgba(255, 255, 255, 0.2) !important;}
.u-imageSpectrum .u-accentColor--highlightStrong.is-active .svgIcon {fill: rgba(255, 255, 255, 0.6) !important;}
.postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-other {background-color: rgba(255, 255, 255, 0.2) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-other {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.2));}
.postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-me {background-color: rgba(255, 255, 255, 0.4) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-me {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.4), rgba(255, 255, 255, 0.4));}
.postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-targeted {background-color: rgba(255, 255, 255, 0.6) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-targeted {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6));}
.postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-selected {background-color: rgba(255, 255, 255, 0.6) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-selected {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6));}
.postArticle.is-withAccentColors .u-imageSpectrum .markup--highlight {background-color: rgba(255, 255, 255, 0.6) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .u-imageSpectrum .markup--highlight {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6));}.u-resetSpectrum .u-tintBgColor {background-color: rgba(255, 255, 255, 1) !important;}.u-resetSpectrum .u-tintBgColor .u-fadeLeft:before {background-image: linear-gradient(to right, rgba(255, 255, 255, 1) 0%, rgba(255, 255, 255, 0) 100%) !important;}.u-resetSpectrum .u-tintBgColor .u-fadeRight:after {background-image: linear-gradient(to right, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 1) 100%) !important;}
.u-resetSpectrum .u-baseColor--borderLight {border-color: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-baseColor--borderNormal {border-color: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-baseColor--borderDark {border-color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--iconLight .svgIcon,.u-resetSpectrum .u-baseColor--iconLight.svgIcon {fill: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-baseColor--iconNormal .svgIcon,.u-resetSpectrum .u-baseColor--iconNormal.svgIcon {fill: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-baseColor--iconDark .svgIcon,.u-resetSpectrum .u-baseColor--iconDark.svgIcon {fill: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--textNormal {color: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-baseColor--textNormal.u-baseColor--textDarken:hover {color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--textDark {color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--textDarker {color: rgba(0, 0, 0, 0.8) !important;}
.u-resetSpectrum .u-baseColor--backgroundLight {background-color: rgba(0, 0, 0, 0.09803921568627451) !important;}
.u-resetSpectrum .u-baseColor--backgroundNormal {background-color: rgba(0, 0, 0, 0.2) !important;}
.u-resetSpectrum .u-baseColor--backgroundDark {background-color: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-baseColor--buttonLight {border-color: rgba(0, 0, 0, 0.2980392156862745) !important; color: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-baseColor--buttonLight:hover {border-color: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-baseColor--buttonLight .icon:before,.u-resetSpectrum .u-baseColor--buttonLight .svgIcon {color: rgba(0, 0, 0, 0.2980392156862745) !important; fill: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-baseColor--buttonDark {border-color: rgba(0, 0, 0, 0.6) !important; color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--buttonDark:hover {border-color: rgba(0, 0, 0, 0.8) !important;}
.u-resetSpectrum .u-baseColor--buttonDark .icon:before,.u-resetSpectrum .u-baseColor--buttonDark .svgIcon {color: rgba(0, 0, 0, 0.6) !important; fill: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--buttonNormal {border-color: rgba(0, 0, 0, 0.4980392156862745) !important; color: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-baseColor--buttonNormal:hover {border-color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--buttonNormal .icon:before,.u-resetSpectrum .u-baseColor--buttonNormal .svgIcon {color: rgba(0, 0, 0, 0.4980392156862745) !important; fill: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-baseColor--buttonDark.button--filled,.u-resetSpectrum .u-baseColor--buttonDark.button--withChrome.is-active {background-color: rgba(0, 0, 0, 0.2980392156862745) !important; border-color: rgba(0, 0, 0, 0.2980392156862745) !important; color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-resetSpectrum .u-baseColor--buttonNormal.button--filled,.u-resetSpectrum .u-baseColor--buttonNormal.button--withChrome.is-active {background-color: rgba(0, 0, 0, 0.2) !important; border-color: rgba(0, 0, 0, 0.2) !important; color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-resetSpectrum .u-baseColor--link {color: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-baseColor--link.link--darkenOnHover:hover {color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--link.link--darken:hover,.u-resetSpectrum .u-baseColor--link.link--darken:focus,.u-resetSpectrum .u-baseColor--link.link--darken:active {color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--link.link--dark {color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--link.link--dark.link--darken:hover,.u-resetSpectrum .u-baseColor--link.link--dark.link--darken:focus,.u-resetSpectrum .u-baseColor--link.link--dark.link--darken:active {color: rgba(0, 0, 0, 0.8) !important;}
.u-resetSpectrum .u-baseColor--link.link--darker {color: rgba(0, 0, 0, 0.8) !important;}
.u-resetSpectrum .u-baseColor--placeholderNormal ::-webkit-input-placeholder {color: rgba(0, 0, 0, 0.2980392156862745);}
.u-resetSpectrum .u-baseColor--placeholderNormal ::-moz-placeholder {color: rgba(0, 0, 0, 0.2980392156862745);}
.u-resetSpectrum .u-baseColor--placeholderNormal :-ms-input-placeholder {color: rgba(0, 0, 0, 0.2980392156862745);}
.u-resetSpectrum .svgIcon--logoNew path:nth-child(1) {stroke: none !important; fill: rgba(0, 0, 0, 0.2) !important;}
.u-resetSpectrum .svgIcon--logoNew path:nth-child(2) {stroke: none !important; fill: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .svgIcon--logoNew path:nth-child(3) {stroke: none !important; fill: rgba(0, 0, 0, 0.4) !important;}
.u-resetSpectrum .svgIcon--logoNew path:nth-child(4) {stroke: none !important; fill: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .svgIcon--logoWordmark {stroke: none !important; fill: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .svgIcon--logoMonogram {stroke: none !important; fill: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum  .ui-h1,.u-resetSpectrum  .ui-h2,.u-resetSpectrum  .ui-h3,.u-resetSpectrum  .ui-h4,.u-resetSpectrum  .ui-brand1,.u-resetSpectrum  .ui-brand2,.u-resetSpectrum  .ui-captionStrong {color: rgba(0, 0, 0, 0.8) !important; fill: rgba(0, 0, 0, 0.8) !important;}
.u-resetSpectrum  .ui-body,.u-resetSpectrum  .ui-caps {color: rgba(0, 0, 0, 0.6) !important; fill: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum  .ui-summary,.u-resetSpectrum  .ui-caption {color: rgba(0, 0, 0, 0.2980392156862745) !important; fill: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-accentColor--borderLight {border-color: rgba(2, 184, 117, 1) !important;}
.u-resetSpectrum .u-accentColor--borderNormal {border-color: rgba(2, 184, 117, 1) !important;}
.u-resetSpectrum .u-accentColor--borderDark {border-color: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--iconLight .svgIcon,.u-resetSpectrum .u-accentColor--iconLight.svgIcon {fill: rgba(2, 184, 117, 1) !important;}
.u-resetSpectrum .u-accentColor--iconNormal .svgIcon,.u-resetSpectrum .u-accentColor--iconNormal.svgIcon {fill: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--iconDark .svgIcon,.u-resetSpectrum .u-accentColor--iconDark.svgIcon {fill: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--textNormal {color: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--hoverTextNormal:hover {color: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--textNormal.u-accentColor--textDarken:hover {color: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--textDark {color: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--backgroundLight {background-color: rgba(2, 184, 117, 1) !important;}
.u-resetSpectrum .u-accentColor--backgroundNormal {background-color: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--backgroundDark {background-color: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonDark {border-color: rgba(0, 171, 107, 1) !important; color: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonDark:hover {border-color: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonDark .icon:before,.u-resetSpectrum .u-accentColor--buttonDark .svgIcon{color: rgba(28, 153, 99, 1) !important; fill: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonNormal:not(.clapButton--largePill) {border-color: rgba(2, 184, 117, 1) !important; color: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonNormal:hover {border-color: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonNormal .icon:before,.u-resetSpectrum .u-accentColor--buttonNormal .svgIcon{color: rgba(0, 171, 107, 1) !important; fill: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonNormal.button--filled .icon:before,.u-resetSpectrum .u-accentColor--buttonNormal.button--filled .svgIcon{color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonDark.button--filled,.u-resetSpectrum .u-accentColor--buttonDark.button--withChrome.is-active,.u-resetSpectrum .u-accentColor--fillWhenActive.is-active {background-color: rgba(28, 153, 99, 1) !important; border-color: rgba(28, 153, 99, 1) !important; color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonNormal.button--filled:not(.clapButton--largePill),.u-resetSpectrum .u-accentColor--buttonNormal.button--withChrome.is-active:not(.clapButton--largePill) {background-color: rgba(0, 171, 107, 1) !important; border-color: rgba(0, 171, 107, 1) !important; color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-resetSpectrum .postArticle.is-withAccentColors .markup--user,.u-resetSpectrum .postArticle.is-withAccentColors .markup--query {color: rgba(0, 171, 107, 1) !important;}</style><div class="highlightMenu" data-action-scope="_actionscope_3" style="left: 731px; top: 141px;"><div class="highlightMenu-inner"><div class="buttonSet"><button class="button button--chromeless u-baseColor--buttonNormal button--withIcon button--withSvgIcon button--highlightMenu u-accentColor--highlightStrong js-highlightMenuQuoteButton" data-action="quote" data-action-source="quote_menu--------------------------highlight_text" data-skip-onboarding="true"><span class="svgIcon svgIcon--highlighter svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><path d="M13.7 15.964l5.204-9.387-4.726-2.62-5.204 9.387 4.726 2.62zm-.493.885l-1.313 2.37-1.252.54-.702 1.263-3.796-.865 1.228-2.213-.202-1.35 1.314-2.37 4.722 2.616z" fill-rule="evenodd"></path></svg></span></button><button class="button button--chromeless u-baseColor--buttonNormal button--withIcon button--withSvgIcon button--highlightMenu" data-action="quote-respond" data-action-source="quote_menu--------------------------respond_text" data-skip-onboarding="true"><span class="svgIcon svgIcon--responseFilled svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><path d="M19.074 21.117c-1.244 0-2.432-.37-3.532-1.096a7.792 7.792 0 0 1-.703-.52c-.77.21-1.57.32-2.38.32-4.67 0-8.46-3.5-8.46-7.8C4 7.7 7.79 4.2 12.46 4.2c4.662 0 8.457 3.5 8.457 7.803 0 2.058-.85 3.984-2.403 5.448.023.17.06.35.118.55.192.69.537 1.38 1.026 2.04.15.21.172.48.058.7a.686.686 0 0 1-.613.38h-.03z" fill-rule="evenodd"></path></svg></span></button><button class="button button--chromeless u-baseColor--buttonNormal button--withIcon button--withSvgIcon button--highlightMenu" data-action="twitter" data-action-source="quote_menu" data-skip-onboarding="true"><span class="svgIcon svgIcon--twitterFilled svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><path d="M21.725 5.338c-.744.47-1.605.804-2.513 1.006a3.978 3.978 0 0 0-2.942-1.293c-2.22 0-4.02 1.81-4.02 4.02 0 .32.034.63.07.94-3.31-.18-6.27-1.78-8.255-4.23a4.544 4.544 0 0 0-.574 2.01c.04 1.43.74 2.66 1.8 3.38-.63-.01-1.25-.19-1.79-.5v.08c0 1.93 1.38 3.56 3.23 3.95-.34.07-.7.12-1.07.14-.25-.02-.5-.04-.72-.07.49 1.58 1.97 2.74 3.74 2.8a8.49 8.49 0 0 1-5.02 1.72c-.3-.03-.62-.04-.93-.07A11.447 11.447 0 0 0 8.88 21c7.386 0 11.43-6.13 11.414-11.414.015-.21.01-.38 0-.578a7.604 7.604 0 0 0 2.01-2.08 7.27 7.27 0 0 1-2.297.645 3.856 3.856 0 0 0 1.72-2.23"></path></svg></span></button><div class="buttonSet-separator"></div><button class="button button--chromeless u-baseColor--buttonNormal button--withIcon button--withSvgIcon button--highlightMenu" data-action="highlight" data-action-source="quote_menu--------------------------privatenote_text" data-skip-onboarding="true"><span class="svgIcon svgIcon--privatenoteFilled svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><g fill-rule="evenodd"><path d="M17.662 4.552H7.346A4.36 4.36 0 0 0 3 8.898v5.685c0 2.168 1.614 3.962 3.697 4.28v2.77c0 .303.35.476.59.29l3.904-2.994h6.48c2.39 0 4.35-1.96 4.35-4.35V8.9c0-2.39-1.95-4.346-4.34-4.346zM16 14.31a.99.99 0 0 1-1.003.99h-4.994C9.45 15.3 9 14.85 9 14.31v-3.02a.99.99 0 0 1 1-.99v-.782a2.5 2.5 0 0 1 2.5-2.51c1.38 0 2.5 1.13 2.5 2.51v.782c.552.002 1 .452 1 .99v3.02z"></path><path d="M14 9.81c0-.832-.674-1.68-1.5-1.68-.833 0-1.5.84-1.5 1.68v.49h3v-.49z"></path></g></svg></span></button></div></div><div class="highlightMenu-arrowClip"><span class="highlightMenu-arrow"></span></div></div></div></div></div><div class="loadingBar"></div><script>// <![CDATA[
window["obvInit"] = function (opt_embedded) {window["obvInit"]["embedded"] = opt_embedded; window["obvInit"]["ready"] = true;}
// ]]></script><script>// <![CDATA[
var GLOBALS = {"audioUrl":"https://d1fcbxp97j4nb2.cloudfront.net","baseUrl":"https://medium.com","buildLabel":"33768-9b43f89","currentUser":{"userId":"a988255767e5","username":"0109chenchen","name":"陈辰","email":"0109chenchen@gmail.com","imageId":"0*P-t7h_lDOjJiWVxI.","twitterScreenName":"0109chenchen","createdAt":1463006784997,"isVerified":true,"subscriberEmail":"","onboardingStatus":1,"googleAccountId":"104969029311726520174","googleEmail":"0109chenchen@gmail.com","hasPastMemberships":false,"isEnrolledInHightower":false,"isEligibleForHightower":true,"hightowerLastLockedAt":0},"currentUserHasUnverifiedEmail":false,"isAuthenticated":true,"isCurrentUserVerified":true,"language":"zh-cn","mediumTwitterScreenName":"medium","miroUrl":"https://cdn-images-1.medium.com","moduleUrls":{"base":"https://cdn-static-1.medium.com/_/fp/gen-js/main-base.bundle.8adUEAltnSo_9je5Uu_UfQ.js","common-async":"https://cdn-static-1.medium.com/_/fp/gen-js/main-common-async.bundle.8XzrsTBv650SH5jN4fxn-w.js","hightower":"https://cdn-static-1.medium.com/_/fp/gen-js/main-hightower.bundle.mGIs_7TGlpyW6I49DIf2eQ.js","home-screens":"https://cdn-static-1.medium.com/_/fp/gen-js/main-home-screens.bundle.eE5K1hr2vcT7pv9sJtqJUw.js","misc-screens":"https://cdn-static-1.medium.com/_/fp/gen-js/main-misc-screens.bundle.SYOh_phDGF7bEzLN40m0NQ.js","notes":"https://cdn-static-1.medium.com/_/fp/gen-js/main-notes.bundle.0wfedgTNnhCPCkt5jNAAMA.js","payments":"https://cdn-static-1.medium.com/_/fp/gen-js/main-payments.bundle.TIOR5g3WqgmDbN5i4nuTPQ.js","posters":"https://cdn-static-1.medium.com/_/fp/gen-js/main-posters.bundle.0rX7DYaAn0NL2uJ0ymiXkQ.js","power-readers":"https://cdn-static-1.medium.com/_/fp/gen-js/main-power-readers.bundle.jphKZ0rslOE3AQ5oohSpdg.js","pubs":"https://cdn-static-1.medium.com/_/fp/gen-js/main-pubs.bundle.4EHu8x518JAA9YAXlyGILA.js","stats":"https://cdn-static-1.medium.com/_/fp/gen-js/main-stats.bundle.BeUE5gTl17lA5D59owt5TA.js"},"previewConfig":{"weightThreshold":1,"weightImageParagraph":0.51,"weightIframeParagraph":0.8,"weightTextParagraph":0.08,"weightEmptyParagraph":0,"weightP":0.003,"weightH":0.005,"weightBq":0.003,"minPTextLength":60,"truncateBoundaryChars":20,"detectTitle":true,"detectTitleLevThreshold":0.15},"productName":"Medium","supportsEdit":true,"termsUrl":"//medium.com/policy/9db0094a1e0f","textshotHost":"textshot.medium.com","transactionId":"1526797071849:d3c4225a496d","useragent":{"browser":"chrome","family":"chrome","os":"mac","version":66,"supportsDesktopEdit":true,"supportsInteract":true,"supportsView":true,"isMobile":false,"isTablet":false,"isNative":false,"supportsFileAPI":true,"isTier1":true,"clientVersion":"","unknownParagraphsBad":false,"clientChannel":"","supportsRealScrollEvents":true,"supportsVhUnits":true,"ruinsViewportSections":false,"supportsHtml5Video":true,"supportsMagicUnderlines":true,"isWebView":false,"isFacebookWebView":false,"supportsProgressiveMedia":true,"supportsPromotedPosts":true,"isBot":false,"isNativeIphone":false,"supportsCssVariables":true,"supportsVideoSections":true,"emojiSupportLevel":5,"isSearchBot":false,"isSyndicationBot":false,"supportsScrollableMetabar":true},"variants":{"allow_access":true,"allow_signup":true,"allow_test_auth":"disallow","signin_services":"twitter,facebook,google,email,google-fastidv","signup_services":"twitter,facebook,google,email,google-fastidv","android_rating_prompt_recommend_threshold":5,"google_sign_in_android":true,"reengagement_notification_duration":3,"browsable_stream_config_bucket":"curated-topics","enable_dedicated_series_tab_api_ios":true,"enable_post_import":true,"enable_export_members":true,"available_monthly_plan":"60e220181034","available_annual_plan":"2c754bcc2995","enable_sms":true,"disable_ios_resume_reading_toast":true,"is_not_medium_subscriber":true,"disable_followed_tag_fan_out":true,"glyph_font_set":"m2","enable_branding":true,"enable_branding_fonts":true,"enable_sequence_carousel":true,"enable_multirecommends":true,"enable_post_monger_v2":true,"enable_post_monger_v3":true,"enable_hightower_editor_copy_v2":true,"enable_user_post_metering":true,"max_premium_content_per_user_under_metering":3,"tag_intercom_user_on_metering_count":3,"enable_topic_writer_onboarding":true,"enable_strong_graph_chp_reorder":true,"enable_unsplash_images":true,"enable_top_stories_for_you":true,"enable_ios_member_post_labeling":true,"enable_lite_profile":true,"enable_li_search_collection":true,"enable_homepage_remodel":true,"enable_signin_wall_custom_domain":true,"enable_standalone_profile_edit_page":true,"enable_standalone_user_follow_pages":true,"enable_post_footer_copy":true,"app_download_email_template":"control","enable_topic_lifecycle_email":true,"enable_marketing_emails":true,"enable_curation_post_locking":true,"ios_hide_avatars_on_home":true,"raise_editors_picks_digest":"control","android_disable_author_avatars":true,"enable_persistent_user_id_for_dnt":true,"enable_truncated_rss_for_tags_and_topics":true,"enable_ios_related_reads_api_change":true,"enable_ios_related_reads_ui_large":true,"enable_ios_responses_collapsed":true,"enable_latin_font_subset":true,"enable_creator_landing_updates":true},"xsrfToken":"ILm3dIW5nR7c","iosAppId":"828256236","supportEmail":"yourfriends@medium.com","fp":{"/icons/monogram-mask.svg":"https://cdn-static-1.medium.com/_/fp/icons/monogram-mask.KPLCSFEZviQN0jQ7veN2RQ.svg","/icons/favicon-dev-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-dev-editor.YKKRxBO8EMvIqhyCwIiJeQ.ico","/icons/favicon-hatch-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-hatch-editor.BuEyHIqlyh2s_XEk4Rl32Q.ico","/icons/favicon-medium-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-medium-editor.PiakrZWB7Yb80quUVQWM6g.ico"},"authBaseUrl":"https://medium.com","imageUploadSizeMb":25,"isAuthDomainRequest":true,"algoliaApiEndpoint":"https://MQ57UUUQZ2-dsn.algolia.net","algoliaAppId":"MQ57UUUQZ2","algoliaSearchOnlyApiKey":"394474ced050e3911ae2249ecc774921","iosAppStoreUrl":"https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8","iosAppLinkBaseUrl":"medium:","algoliaIndexPrefix":"medium_","androidPlayStoreUrl":"https://play.google.com/store/apps/details?id=com.medium.reader","googleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","androidPackage":"com.medium.reader","androidPlayStoreMarketScheme":"market://details?id=com.medium.reader","googleAuthUri":"https://accounts.google.com/o/oauth2/auth","androidScheme":"medium","layoutData":{"useDynamicScripts":false,"googleAnalyticsTrackingCode":"UA-24232453-2","jsShivUrl":"https://cdn-static-1.medium.com/_/fp/js/shiv.RI2ePTZ5gFmMgLzG5bEVAA.js","useDynamicCss":false,"faviconUrl":"https://cdn-static-1.medium.com/_/fp/icons/favicon-rebrand-medium.3Y6xpZ-0FSdWDnPM3hSBIA.ico","faviconImageId":"1*8I-HPL0bfoIzGied-dzOvA.png","fontSets":[{"id":8,"url":"https://glyph.medium.com/css/e/sr/latin/e/si/latin/e/sb/latin/e/sbi/latin/e/ssr/latin/e/ssb/latin/e/ai/latin/e/mkt/latin/m2.css"},{"id":11,"url":"https://glyph.medium.com/css/e/mkt/latin/m2.css"},{"id":12,"url":"https://glyph.medium.com/css/e/sr/latin/e/si/latin/e/sb/latin/e/sbi/latin/e/ssr/latin/e/ssb/latin/e/ai/latin/e/mkt/latin/m2.css"},{"id":9,"url":"https://glyph.medium.com/css/mkt.css"},{"id":10,"url":"https://glyph.medium.com/css/e/mkt/latin/elv8.css"},{"id":13,"url":"https://glyph.medium.com/css/e/sr/latin/e/si/latin/e/sb/latin/e/sbi/latin/e/ssr/latin/e/ssb/latin/e/mkt/latin/e/elv8r/latin/elv8.css"}],"editorFaviconUrl":"https://cdn-static-1.medium.com/_/fp/icons/favicon-rebrand-medium-editor.3Y6xpZ-0FSdWDnPM3hSBIA.ico","glyphUrl":"https://glyph.medium.com"},"authBaseUrlRev":"moc.muidem//:sptth","isDnt":false,"stripePublishableKey":"pk_live_7FReX44VnNIInZwrIIx6ghjl","archiveUploadSizeMb":100,"paymentData":{"currencies":{"1":{"label":"US Dollar","external":"usd"}},"countries":{"1":{"label":"United States of America","external":"US"}},"accountTypes":{"1":{"label":"Individual","external":"individual"},"2":{"label":"Company","external":"company"}}},"previewConfig2":{"weightThreshold":1,"weightImageParagraph":0.05,"raiseImage":true,"enforceHeaderHierarchy":true,"isImageInsetRight":true},"isAmp":false,"iosScheme":"medium","isSwBoot":false,"lightstep":{"accessToken":"ce5be895bef60919541332990ac9fef2","carrier":"{\"ot-tracer-spanid\":\"357706fc534aa2b7\",\"ot-tracer-traceid\":\"3d773be7731277df\",\"ot-tracer-sampled\":\"true\"}","host":"collector-medium.lightstep.com"},"facebook":{"key":"542599432471018","namespace":"medium-com","scope":{"default":["public_profile","email","user_friends"],"connect":["public_profile","email","user_friends"],"login":["public_profile","email","user_friends"],"share":["public_profile","email","user_friends","publish_actions"]}},"mailingListArchiveUploadSizeMb":2,"editorsPicksTopicId":"3985d2a191c5","popularOnMediumTopicId":"9d34e48ecf94","memberContentTopicId":"13d7efd82fb2","audioContentTopicId":"3792abbd134","brandedSequenceId":"7d337ddf1941","isDoNotAuth":false,"goldfinchUrl":"https://goldfinch.medium.com","buggle":{"url":"https://buggle.medium.com","videoUrl":"https://cdn-videos-1.medium.com","audioUrl":"https://cdn-audio-1.medium.com"},"referrerType":1,"isMeteredOut":false,"meterConfig":{"maxUnlockCount":3,"windowLength":"MONTHLY"},"partnerProgramEmail":"partnerprogram@medium.com","userResearchPrompts":[{"promptId":"li_post_page","type":0,"url":"www.calendly.com"},{"promptId":"li_home_page","type":1,"url":"mediumuserfeedback.typeform.com/to/GcFjEO"},{"promptId":"li_profile_page","type":2,"url":"www.calendly.com"}],"recaptchaKey":"6LdAokEUAAAAAC7seICd4vtC8chDb3jIXDQulyUJ","paypalClientMode":"production","signinWallCustomDomainCollectionIds":["3a8144eabfe3","336d898217ee","61061eb0c96b","138adf9c44c","819cc2aaeee0"],"countryCode":"CA","bypassMeter":false}
// ]]></script><script charset="UTF-8" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/main-base.bundle.8adUEAltnSo_9je5Uu_UfQ.js" async=""></script><script>// <![CDATA[
window["obvInit"]({"value":{"id":"a270cb05e0b3","versionId":"82e021ee9415","creatorId":"5db503d436d2","creator":{"userId":"5db503d436d2","name":"Dmitriy Sergeev","username":"dmitriysergeev","createdAt":1517233539805,"lastPostCreatedAt":1523306569759,"imageId":"0*zsrkvCEBEg3gjCz6.","backgroundImageId":"","bio":"Data Scientist at Zeptolab","twitterScreenName":"","socialStats":{"userId":"5db503d436d2","usersFollowedCount":37,"usersFollowedByCount":104,"type":"SocialStats"},"social":{"userId":"a988255767e5","targetUserId":"5db503d436d2","type":"Social"},"facebookAccountId":"1570457356366419","allowNotes":1,"isNsfw":false,"type":"User"},"homeCollection":{"id":"b76595fb6cfc","name":"Open Machine Learning Course","slug":"open-machine-learning-course","tags":["MACHINE LEARNING","DATA SCIENCE","DATA ANALYSIS","EDUCATION","KAGGLE"],"creatorId":"5572ec600139","description":"A series of articles on basics of Machine Learning. Each article is followed by an assignment with a deadline. Several Kaggle Inclass competitions are held throughout the course.","shortDescription":"A series of articles on basics of Machine Learning.","image":{"imageId":"1*b5pfoCQz20rjh79OPSQWQg.jpeg","filter":"","backgroundSize":"","originalWidth":271,"originalHeight":271,"strategy":"resample","height":0,"width":0},"metadata":{"followerCount":1490,"activeAt":1523869737051},"virtuals":{"permissions":{"canPublish":false,"canPublishAll":false,"canRepublish":false,"canRemove":false,"canManageAll":false,"canSubmit":false,"canEditPosts":false,"canAddWriters":false,"canViewStats":false,"canSendNewsletter":false,"canViewLockedPosts":false,"canViewCloaked":false,"canEditOwnPosts":false,"canBeAssignedAuthor":false,"canEnrollInHightower":false,"canLockPostsForMediumMembers":false},"isSubscribed":true,"isNewsletterSubscribed":true,"memberOfMembershipPlanId":"","isEnrolledInHightower":false,"isEligibleForHightower":false},"logo":{"imageId":"1*MxsqShnPs3RXMScwl5HhsQ.jpeg","filter":"","backgroundSize":"","originalWidth":1479,"originalHeight":822,"strategy":"resample","height":0,"width":0},"twitterUsername":"odsai_en","facebookPageName":"DataChallenges","publicEmail":"yury.kashnitsky@gmail.com","sections":[{"type":2,"collectionHeaderMetadata":{"title":"Open Machine Learning Course","description":"by OpenDataScience","backgroundImage":{"id":"1*ZnqNzhbOlqb19tLgWDn8ww.png","originalWidth":2400,"originalHeight":1200},"logoImage":{},"alignment":2,"layout":6}},{"type":1,"postListMetadata":{"source":1,"layout":6,"number":10,"postIds":[]}}],"favicon":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"colorPalette":{"defaultBackgroundSpectrum":{"colorPoints":[{"color":"#FF02B875","point":0},{"color":"#FF00AB6B","point":0.1},{"color":"#FF1C9963","point":0.2},{"color":"#FF092E20","point":1}],"backgroundColor":"#FFFFFFFF"},"highlightSpectrum":{"colorPoints":[{"color":"#FFFFFFFF","point":0},{"color":"#FFE9FDF0","point":0.1},{"color":"#FFE2FAEE","point":0.2},{"color":"#FFADFFCF","point":0.6},{"color":"#FF7DFFB3","point":1}],"backgroundColor":"#FFFFFFFF"}},"navItems":[],"colorBehavior":1,"instantArticlesState":0,"acceleratedMobilePagesState":0,"ampLogo":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"header":{"title":"Open Machine Learning Course","description":"by OpenDataScience","backgroundImage":{"id":"1*ZnqNzhbOlqb19tLgWDn8ww.png","originalWidth":2400,"originalHeight":1200},"logoImage":{},"alignment":2,"layout":6},"type":"Collection"},"homeCollectionId":"b76595fb6cfc","title":"Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python","detectedLanguage":"en","latestVersion":"82e021ee9415","latestPublishedVersion":"82e021ee9415","hasUnpublishedEdits":false,"latestRev":1525,"createdAt":1523306569759,"updatedAt":1526545114048,"acceptedAt":0,"firstPublishedAt":1523353276814,"latestPublishedAt":1525726086411,"vote":false,"experimentalCss":"","displayAuthor":"","content":{"subtitle":"Hi there!","bodyModel":{"paragraphs":[{"name":"63be","type":3,"text":"Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python","markups":[{"type":1,"start":47,"end":77}]},{"name":"9358","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*hJ_P0bVRLNNjcc5st5lu-A.jpeg","originalWidth":500,"originalHeight":375,"isFeatured":true}},{"name":"1f92","type":1,"text":"Hi there!","markups":[]},{"name":"98e7","type":1,"text":"We continue our open machine learning course with a new article on time series.","markups":[]},{"name":"976d","type":1,"text":"Let’s take a look at how to work with time series in Python, what methods and models we can use for prediction; what’s double and triple exponential smoothing; what to do if stationarity is not you favorite game; how to build SARIMA and stay alive; how to make predictions using xgboost. All of this will be applied to (harsh) real world example.","markups":[]},{"name":"db01","type":3,"text":"Article outline","markups":[]},{"name":"579d","type":10,"text":"Introduction\n — Basic definitions\n — Quality metrics","markups":[]},{"name":"77f6","type":10,"text":"Move, smoothe, evaluate\n — Rolling window estimations\n — Exponential smoothing, Holt-Winters model\n — Time-series cross validation, parameters selection","markups":[]},{"name":"e135","type":10,"text":"Econometric approach\n — Stationarity, unit root\n — Getting rid of non-stationarity\n — SARIMA intuition and model building","markups":[]},{"name":"9ed3","type":10,"text":"Linear (and not quite) models on time series\n — Feature extraction\n — Linear models, feature importance\n — Regularization, feature selection\n — XGBoost","markups":[]},{"name":"c252","type":10,"text":"Assignment #9","markups":[]},{"name":"d9ed","type":1,"text":"The following content is better viewed and reproduced as a Jupyter-notebook","markups":[{"type":3,"start":59,"end":75,"href":"http://nbviewer.jupyter.org/github/Yorko/mlcourse_open/blob/master/jupyter_english/topic09_time_series/topic9_part1_time_series_python.ipynb","title":"","rel":"","anchorType":0},{"type":2,"start":0,"end":75}]},{"name":"1e29","type":1,"text":"In my day to day job I encounter time series-connected tasks almost every day. The most frequent question is — what will happen with our metrics in the next day/week/month/etc. — how many players will install the app, how much time will they spend online, how many actions users will do, and so forth. We can approach prediction task using different methods, depending on the required quality of the prediction, length of the forecasted period, and, of course, time we have to choose features and tune parameters to achieve desired results.","markups":[]},{"name":"87af","type":3,"text":"Introduction","markups":[]},{"name":"b03c","type":6,"text":"Small definition of time series:\nTime series — is a series of data points indexed (or listed or graphed) in time order.","markups":[{"type":3,"start":6,"end":16,"href":"https://en.wikipedia.org/wiki/Time_series","title":"","rel":"","anchorType":0},{"type":2,"start":33,"end":119}]},{"name":"067c","type":1,"text":"Therefore data is organized around relatively deterministic timestamps, and therefore, compared to random samples, may contain additional information that we will try to extract.","markups":[]},{"name":"b715","type":1,"text":"Let’s import some libraries. First and foremost we will need statsmodels library that has tons of statistical modeling functions, including time series. For R afficionados (that had to move to python) statsmodels will definitely look familiar as it supports model definitions like ‘Wage ~ Age + Education’.","markups":[{"type":3,"start":61,"end":72,"href":"http://statsmodels.sourceforge.net/stable/","title":"","rel":"","anchorType":0}]},{"name":"9d58","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"832e80066c25fd621be3da1355f2a812","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"d9d4","type":1,"text":"As an example let’s use some real mobile game data on hourly ads watched by players and daily in-game currency spent:","markups":[]},{"name":"2804","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"7b06888ad3d459e2be927eba1ca1f633","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"d69a","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*Xglh0CGdddyPT2PdXbfSUA.png","originalWidth":892,"originalHeight":424}},{"name":"f065","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*l43t8fEGWuxx8KmDC0eHNw.png","originalWidth":897,"originalHeight":424}},{"name":"bb73","type":3,"text":"Forecast quality metrics","markups":[]},{"name":"7c31","type":1,"text":"Before actually forecasting, let’s understand how to measure the quality of predictions and have a look at the most common and widely used metrics","markups":[]},{"name":"a121","type":9,"text":"R squared, coefficient of determination (in econometrics it can be interpreted as a percentage of variance explained by the model), (-inf, 1] sklearn.metrics.r2_score","markups":[{"type":10,"start":142,"end":166},{"type":3,"start":0,"end":9,"href":"http://scikit-learn.org/stable/modules/model_evaluation.html#r2-score-the-coefficient-of-determination","title":"","rel":"","anchorType":0},{"type":1,"start":0,"end":9},{"type":2,"start":133,"end":137}]},{"name":"2985","type":9,"text":"Mean Absolute Error, it is an interpretable metric because it has the same unit of measurement as the initial series, [0, +inf)\nsklearn.metrics.mean_absolute_error","markups":[{"type":10,"start":128,"end":163},{"type":3,"start":0,"end":19,"href":"http://scikit-learn.org/stable/modules/model_evaluation.html#mean-absolute-error","title":"","rel":"","anchorType":0},{"type":1,"start":0,"end":19},{"type":2,"start":123,"end":126}]},{"name":"6a7c","type":9,"text":"Median Absolute Error, again an interpretable metric, particularly interesting because it is robust to outliers, [0, +inf)\nsklearn.metrics.median_absolute_error","markups":[{"type":10,"start":123,"end":160},{"type":3,"start":0,"end":21,"href":"http://scikit-learn.org/stable/modules/model_evaluation.html#median-absolute-error","title":"","rel":"","anchorType":0},{"type":1,"start":0,"end":21},{"type":2,"start":118,"end":121}]},{"name":"df70","type":9,"text":"Mean Squared Error, most commonly used, gives higher penalty to big mistakes and vise versa, [0, +inf)\nsklearn.metrics.mean_squared_error","markups":[{"type":10,"start":103,"end":137},{"type":3,"start":0,"end":18,"href":"http://scikit-learn.org/stable/modules/model_evaluation.html#mean-squared-error","title":"","rel":"","anchorType":0},{"type":1,"start":0,"end":18},{"type":2,"start":98,"end":103}]},{"name":"1e1c","type":9,"text":"Mean Squared Logarithmic Error, practically the same as MSE but we initially take logarithm of the series, as a result we give attention to small mistakes as well, usually is used when data has exponential trends, [0, +inf)\nsklearn.metrics.mean_squared_log_error","markups":[{"type":10,"start":224,"end":262},{"type":3,"start":0,"end":30,"href":"http://scikit-learn.org/stable/modules/model_evaluation.html#mean-squared-logarithmic-error","title":"","rel":"","anchorType":0},{"type":1,"start":0,"end":30},{"type":2,"start":219,"end":222}]},{"name":"47cc","type":9,"text":"Mean Absolute Percentage Error, same as MAE but percentage, — very convenient when you want to explain the quality of the model to your management, [0, +inf), not implemented in sklearn","markups":[{"type":1,"start":0,"end":30},{"type":2,"start":153,"end":156}]},{"name":"08c5","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"b3aedf7b05c4aeb50d7e663e3a842485","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"5810","type":1,"text":"Excellent, now we know how to measure the quality of the forecasts, what metrics can we use and how to translate the results to the boss. Little thing is left — building the model.","markups":[]},{"name":"23c2","type":3,"text":"Move, smoothe, evaluate","markups":[]},{"name":"3399","type":1,"text":"Let’s start with a naive hypothesis — “tomorrow will be the same as today”, but instead of a model like ŷ(t)=y(t−1) (which is actually a great baseline for any time series prediction problems and sometimes it’s impossible to beat it with any model) we’ll assume that the future value of the variable depends on the average n of its previous values and therefore we’ll use moving average.","markups":[{"type":1,"start":324,"end":325},{"type":1,"start":373,"end":387},{"type":2,"start":324,"end":325}]},{"name":"1a06","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*xKNEAvd2OU0T71Y7rZu0ZA.png","originalWidth":1464,"originalHeight":324}},{"name":"5f43","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"1d1131e654b4953aee48a7b12481ddc5","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"4f65","type":8,"text":"Out: 116805.0","markups":[]},{"name":"f881","type":1,"text":"Unfortunately we can’t make this prediction long-term — to get one for the next step we need the previous value to be actually observed. But moving average has another use case — smoothing of the original time series to indicate trends. Pandas has an implementation available DataFrame.rolling(window).mean(). The wider the window - the smoother will be the trend. In the case of the very noisy data, which can be very often encountered in finance, this procedure can help to detect common patterns.","markups":[{"type":10,"start":276,"end":308},{"type":3,"start":276,"end":308,"href":"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.rolling.html","title":"","rel":"","anchorType":0}]},{"name":"9e81","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"cd63ae72e4f4300fdfd4b96048d53ceb","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"5704","type":1,"text":"Smoothing by last 4 hours\nplotMovingAverage(ads, 4)","markups":[{"type":10,"start":26,"end":51}]},{"name":"3eb6","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*g-79VWtvLlJA5rcISd5pPw.png","originalWidth":892,"originalHeight":327}},{"name":"87b0","type":1,"text":"Smoothing by last 12 hours\nplotMovingAverage(ads, 12)","markups":[{"type":10,"start":27,"end":53}]},{"name":"2bde","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*T71bcR_9UBe8MbevTgYTEQ.png","originalWidth":892,"originalHeight":327}},{"name":"33f6","type":1,"text":"Smoothing by 24 hours — we get daily trend\nplotMovingAverage(ads, 24)","markups":[{"type":10,"start":43,"end":69}]},{"name":"0128","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*Xfxf0YM_VDgUhpw_USfJGw.png","originalWidth":892,"originalHeight":327}},{"name":"dff8","type":1,"text":"As you can see, applying daily smoothing on hour data allowed us to clearly see the dynamics of ads watched. During the weekends the values are higher (weekends — time to play) and weekdays are generally lower.","markups":[]},{"name":"0888","type":1,"text":"We can also plot confidence intervals for our smoothed values\nplotMovingAverage(ads, 4, plot_intervals=True)","markups":[{"type":10,"start":62,"end":108}]},{"name":"cb5e","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*FzVb4xiHV6J1aTTAM7OdQw.png","originalWidth":892,"originalHeight":327}},{"name":"c836","type":1,"text":"And now let’s create a simple anomaly detection system with the help of the moving average. Unfortunately, in this particular series everything is more or less normal, so we’ll intentionally make one of the values abnormal in the dataframe ads_anomaly","markups":[{"type":10,"start":240,"end":251}]},{"name":"5450","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"47999b06d6e61d685c9795918504de7c","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"ac73","type":1,"text":"Let’s see, if this simple method can catch the anomaly\nplotMovingAverage(ads_anomaly, 4, plot_intervals=True, plot_anomalies=True)","markups":[{"type":10,"start":55,"end":130}]},{"name":"ef06","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*RXW9AGTcitJgMS7L-YJ3ZQ.png","originalWidth":892,"originalHeight":327}},{"name":"df5c","type":1,"text":"Neat! What about the second series (with weekly smoothing)?\nplotMovingAverage(currency, 7, plot_intervals=True, plot_anomalies=True)","markups":[{"type":10,"start":60,"end":132}]},{"name":"c42b","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*ml1RV_36gA8hx_lFhRIqHA.png","originalWidth":897,"originalHeight":327}},{"name":"2dc3","type":1,"text":"Oh no! Here is the downside of our simple approach — it did not catch monthly seasonality in our data and marked almost all 30-day peaks as an anomaly. If you don’t want to have that many false alarms — it’s best to consider more complex models.","markups":[]},{"name":"30ca","type":1,"text":"Weighted average is a simple modification of the moving average, inside of which observations have different weights summing up to one, usually more recent observations have greater weight.","markups":[{"type":1,"start":0,"end":16}]},{"name":"f3eb","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*8IBEmsFCywApUE_joR0aqA.png","originalWidth":1324,"originalHeight":276}},{"name":"cd98","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"4d8f936443461fb4ea74731cddba711f","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"8bbc","type":8,"text":"Out: 98423.0","markups":[]},{"name":"d369","type":3,"text":"Exponential smoothing","markups":[]},{"name":"5631","type":1,"text":"And now let’s take a look at what happens if instead of weighting the last nn values of the time series we start weighting all available observations while exponentially decreasing weights as we move further back in historical data. There’s a formula of the simple exponential smoothing that will help us in that:","markups":[{"type":3,"start":265,"end":286,"href":"https://en.wikipedia.org/wiki/Exponential_smoothing","title":"","rel":"","anchorType":0},{"type":1,"start":265,"end":286}]},{"name":"598b","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*JJZyOq_GySQnx8N1ZZ-UfQ.png","originalWidth":1198,"originalHeight":254}},{"name":"e858","type":1,"text":"Here the model value is a weighted average between the current true value and the previous model values. The α weight is called a smoothing factor. It defines how quickly we will “forget” the last available true observation. The less α is the more influence previous model values have, and the smoother the series is.","markups":[]},{"name":"d160","type":1,"text":"Exponentiality is hiding in the recursivity of the function — we multiply each time (1−α) by the previous model value which, in its turn, also containes (1−α) and so forth until the very beginning.","markups":[]},{"name":"4986","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"0bf8f9e6ba75e585f317f5e2fe572473","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"c44c","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*iP_blo7a9pCJ9EB4ZcOYcw.png","originalWidth":892,"originalHeight":424}},{"name":"6aee","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*L_w3qDoexk4ba3LKMXcqwQ.png","originalWidth":897,"originalHeight":424}},{"name":"1c6f","type":3,"text":"Double exponential smoothing","markups":[]},{"name":"91f1","type":1,"text":"Until now all we could get from our methods in the best case was just a single future point prediction (and also some nice smoothing), that’s cool but not enough, so let’s extend exponential smoothing so that we can predict two future points (of course, we also get some smoothing).","markups":[]},{"name":"ab59","type":1,"text":"Series decomposition should help us — we obtain two components: intercept (also, level) ℓ and trend (also, slope) b. We’ve learnt to predict intercept (or expected series value) using previous methods, and now we will apply the same exponential smoothing to the trend, believing naively or perhaps not that the future direction of the time series changes depends on the previous weighted changes.","markups":[]},{"name":"0c7e","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*ws6cwxbpczBgTGYEZep79Q.png","originalWidth":1426,"originalHeight":596}},{"name":"85f0","type":1,"text":"As a result we get a set of functions. The first one describes intercept, as before it depends on the current value of the series, and the second term is now split into previous values of the level and of the trend. The second function describes trend — it depends on the level changes at the current step and on the previous value of the trend. In this case β coefficient is a weight in the exponential smoothing. The final prediction is the sum of the model values of the intercept and trend.","markups":[]},{"name":"be10","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"283ca910d732eb0a16254b23af4046e5","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"8c06","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*c9XHSuc9d83bmopHJVnPLA.png","originalWidth":1171,"originalHeight":479}},{"name":"319a","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*LrBONoISc3sb1HvwJNoN9A.png","originalWidth":1182,"originalHeight":479}},{"name":"149c","type":1,"text":"Now we have to tune two parameters — α and β. The former is responsible for the series smoothing around trend, and the latter for the smoothing of the trend itself. The bigger the values, the more weight the latest observations will have and the less smoothed the model series will be. Combinations of the parameters may produce really weird results, especially if set manually. We’ll look into choosing parameters automatically in a bit, immediately after triple exponential smoothing.","markups":[]},{"name":"b2ac","type":3,"text":"Triple exponential smoothing a.k.a. Holt-Winters","markups":[]},{"name":"229f","type":1,"text":"Hooray! We’ve successfully reached our next variant of exponential smoothing, this time triple.","markups":[]},{"name":"1ab7","type":1,"text":"The idea of this method is that we add another, third component — seasonality. This means we should’t use the method if our time series do not have seasonality, which is not the case in our example. Seasonal component in the model will explain repeated variations around intercept and trend, and it will be described by the length of the season, in other words by the period after which variations repeat. For each observation in the season there’s a separate component, for example, if the length of the season is 7 (weekly seasonality), we will have 7 seasonal components, one for each day of the week.","markups":[]},{"name":"097a","type":1,"text":"Now we get a new system:","markups":[]},{"name":"b864","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*tQUjJKDKmqjGPeQ9YqV_dQ.png","originalWidth":1722,"originalHeight":820}},{"name":"e7dd","type":1,"text":"Intercept now depends on the current value of the series minus corresponding seasonal component, trend stays unchanged, and the seasonal component depends on the current value of the series minus intercept and on the previous value of the component. Please take into account that the component is smoothed through all the available seasons, for example, if we have a Monday component then it will only be averaged with other Mondays. You can read more on how averaging works and how initial approximation of the trend and seasonal components is done here. Now that we have seasonal component we can predict not one and not even two but arbitrary mm future steps which is very encouraging.","markups":[{"type":3,"start":550,"end":554,"href":"http://www.itl.nist.gov/div898/handbook/pmc/section4/pmc435.htm","title":"","rel":"","anchorType":0}]},{"name":"1cb0","type":1,"text":"Below is the code for a triple exponential smoothing model, also known by the last names of its creators — Charles Holt and his student Peter Winters. Additionally Brutlag method was included into the model to build confidence intervals:","markups":[]},{"name":"844c","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*6Cu5nv-COdclmdfXnAU02Q.png","originalWidth":1642,"originalHeight":666}},{"name":"fca0","type":1,"text":"where T is the length of the season, d is the predicted deviation, and the other parameters were taken from the triple exponential smoothing. You can read more about the method and its applicability to anomalies detection in time series here.","markups":[{"type":3,"start":237,"end":241,"href":"http://fedcsis.org/proceedings/2012/pliks/118.pdf","title":"","rel":"","anchorType":0}]},{"name":"a2f2","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"13d018f43b2a8fce21157f0174ff5010","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"dc0b","type":3,"text":"Time series cross validation","markups":[]},{"name":"db41","type":1,"text":"Before we start building model let’s talk first about how to estimate model parameters automatically.","markups":[]},{"name":"9af4","type":1,"text":"There’s nothing unusual here, as always we have to choose a loss function suitable for the task, that will tell us how close the model approximates data. Then using cross-validation we will evaluate our chosen loss function for given model parameters, calculate gradient, adjust model parameters and so forth, bravely descending to the global minimum of error.","markups":[]},{"name":"71dc","type":1,"text":"The question is how to do cross-validation on time series, because, you know, time series do have time structure and one just can’t randomly mix values in a fold without preserving this structure, otherwise all time dependencies between observations will be lost. That’s why we will have to use a bit more tricky approach to optimization of the model parameters, I don’t know if there’s an official name to it but on CrossValidated, where one can find all the answers but the Answer to the Ultimate Question of Life, the Universe, and Everything, “cross-validation on a rolling basis” was proposed as a name.","markups":[{"type":3,"start":417,"end":431,"href":"https://stats.stackexchange.com/questions/14099/using-k-fold-cross-validation-for-time-series-model-selection","title":"","rel":"","anchorType":0}]},{"name":"858b","type":1,"text":"The idea is rather simple — we train our model on a small segment of the time series, from the beginning until some t, make predictions for the next t+n steps and calculate an error. Then we expand our training sample until t+n value and make predictions from t+n until t+2∗n, and we continue moving our test segment of the time series until we hit the last available observation. As a result we have as many folds as many n will fit between the initial training sample and the last observation.","markups":[{"type":1,"start":116,"end":117},{"type":1,"start":149,"end":153},{"type":1,"start":224,"end":227},{"type":1,"start":260,"end":263},{"type":1,"start":270,"end":275},{"type":1,"start":423,"end":424},{"type":2,"start":116,"end":117},{"type":2,"start":149,"end":153},{"type":2,"start":224,"end":227},{"type":2,"start":260,"end":263},{"type":2,"start":270,"end":275},{"type":2,"start":423,"end":424}]},{"name":"43cf","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*6ujHlGolRTGvspeUDRe1EA.png","originalWidth":631,"originalHeight":296}},{"name":"68b4","type":1,"text":"Now, knowing how to set cross-validation, we will find optimal parameters for the Holt-Winters model, recall that we have daily seasonality in ads, hence the slen=24 parameter","markups":[{"type":10,"start":158,"end":165}]},{"name":"e7f2","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"f2d86e3b66198039efec1f7405ff0815","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"e095","type":1,"text":"In the Holt-Winters model, as well as in the other models of exponential smoothing, there’s a constraint on how big smoothing parameters could be, each of them is in the range from 0 to 1, therefore to minimize loss function we have to choose an algorithm that supports constraints on model parameters, in our case — Truncated Newton conjugate gradient.","markups":[]},{"name":"8fb3","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"73be269f00a8c1a1c5d061fb341d29fb","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"e6d8","type":8,"text":"0.11652680227350454 0.002677697431105852 0.05820973606789237\nCPU times: user 1.96 s, sys: 17.3 ms, total: 1.98 s\nWall time: 2 s","markups":[]},{"name":"58d9","type":1,"text":"Chart rendering code","markups":[]},{"name":"c438","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"3aeee8993d1fefafbcb9cab658285b11","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"69b1","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*5GDW3uGcxkgoUfAxWMN7eQ.png","originalWidth":1171,"originalHeight":588}},{"name":"6f47","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*DSXPcnHnvnZRH8YijMOfMg.png","originalWidth":1171,"originalHeight":588}},{"name":"7355","type":1,"text":"Judging by the chart, our model was able to successfully approximate the initial time series, catching daily seasonality, overall downwards trend and even some anomalies. If you take a look at the modeled deviation, you can clearly see that the model reacts quite sharply to the changes in the structure of the series but then quickly returns deviation to the normal values, “forgetting” the past. This feature of the model allows us to quickly build anomaly detection systems even for quite noisy series without spending too much time and money on preparing data and training the model.","markups":[]},{"name":"ab91","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"39596efc13e7b45164e0ab70c5137afa","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"a395","type":4,"text":"Deviation increases when we have anomalies","markups":[],"layout":1,"metadata":{"id":"1*i8KR9tLBxRQ5nUFtHjUvgA.png","originalWidth":1444,"originalHeight":316}},{"name":"d826","type":1,"text":"We’ll apply the same algorithm for the second series which, as we know, has trend and 30-day seasonality","markups":[]},{"name":"7d76","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"0c7394864a56f97e5b719faef02bf32f","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"9f2d","type":8,"text":"0.012841445048055122 0.04883371471892228 0.00943678056045777\nCPU times: user 3.03 s, sys: 24.8 ms, total: 3.05 s\nWall time: 3.11 s","markups":[]},{"name":"53b9","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*Km4pL2wIDQGRE3-12rLFCg.png","originalWidth":1176,"originalHeight":588}},{"name":"e35c","type":1,"text":"Looks quite adequate, model has caught both upwards trend and seasonal spikes and overall fits our values nicely","markups":[]},{"name":"b283","type":4,"text":"Caught some anomalies as well","markups":[],"layout":1,"metadata":{"id":"1*b1D6G3IR4XUcP8oUvu6B0A.png","originalWidth":1176,"originalHeight":588}},{"name":"ec15","type":4,"text":"Deviations increases as forecast period moves further","markups":[],"layout":1,"metadata":{"id":"1*G_Do4GDD2nAHjiXFyW-qaA.png","originalWidth":1171,"originalHeight":316}},{"name":"834e","type":3,"text":"Econometric approach","markups":[]},{"name":"fad3","type":3,"text":"Stationarity","markups":[]},{"name":"3b2a","type":1,"text":"Before we start modeling we should mention such an important property of time series as stationarity.","markups":[{"type":3,"start":88,"end":100,"href":"https://en.wikipedia.org/wiki/Stationary_process","title":"","rel":"","anchorType":0},{"type":1,"start":88,"end":100}]},{"name":"a5d6","type":1,"text":"If the process is stationary that means it doesn’t change its statistical properties over time, namely mean and variance do not change over time (constancy of variance is also called homoscedasticity), also covariance function does not depend on the time (should only depend on the distance between observations). You can see this visually on the pictures from the post of Sean Abu:","markups":[{"type":3,"start":183,"end":199,"href":"https://en.wikipedia.org/wiki/Homoscedasticity","title":"","rel":"","anchorType":0},{"type":3,"start":373,"end":381,"href":"http://www.seanabu.com/2016/03/22/time-series-seasonal-ARIMA-model-in-python/","title":"","rel":"","anchorType":0}]},{"name":"10e3","type":9,"text":"The red graph below is not stationary because the mean increases over time.","markups":[]},{"name":"d1ad","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*qrYiVksz8g3drl5Z.png","originalWidth":586,"originalHeight":257}},{"name":"f8a0","type":9,"text":"We were unlucky with the variance, see the varying spread of values over time","markups":[]},{"name":"2214","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*fEqQDq_TaEqa511n.png","originalWidth":577,"originalHeight":251}},{"name":"f93b","type":9,"text":"Finally, the covariance of the i th term and the (i + m) th term should not be a function of time. In the following graph, you will notice the spread becomes closer as the time increases. Hence, the covariance is not constant with time for the right chart.","markups":[]},{"name":"6833","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*qJs3g2f77flIXr6mFsbPmw.png","originalWidth":566,"originalHeight":249}},{"name":"1aa3","type":1,"text":"So why stationarity is so important? Because it’s easy to make predictions on the stationary series as we assume that the future statistical properties will not be different from the currently observed. Most of the time series models in one way or the other model and predict those properties (mean or variance, for example), that’s why predictions would be wrong if the original series were not stationary. Unfortunately most of the time series we see outside of textbooks are non-stationary but we can (and should) change this.","markups":[]},{"name":"116c","type":1,"text":"So, to fight non-stationarity we have to know our enemy so to say. Let’s see how to detect it. To do that we will now take a look at the white noise and random walks and we will learn how to get from one to another for free, without registration and SMS.","markups":[]},{"name":"0a82","type":1,"text":"White noise chart:","markups":[]},{"name":"a94b","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"78f2deb127f15fa807f3542f30978a28","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"d2cc","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*C95wWTnA2hE2H9sBmFzQDw.png","originalWidth":869,"originalHeight":302}},{"name":"fb5c","type":1,"text":"So the process generated by standard normal distribution is stationary and oscillates around 0 with with deviation of 1. Now based on this process we will generate a new one where each next value will depend on the previous one: x(t)=ρ*x(t−1)+e(t)","markups":[]},{"name":"0e41","type":1,"text":"Chart rendering code","markups":[]},{"name":"ef69","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"f89cd6073bacdd0d50afdf4997465303","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"c3f5","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*7jeb47aq-0WmNndzO_jxHQ.png","originalWidth":590,"originalHeight":226}},{"name":"6143","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*XLwz-8vtx51T9RvfhZ2e_A.png","originalWidth":590,"originalHeight":226}},{"name":"ad82","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*gMyyzlnnJHN1Nd1dZ8SL5g.png","originalWidth":599,"originalHeight":226}},{"name":"61e3","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*ZhIS_d1-htkJtZM3QrYAGw.png","originalWidth":596,"originalHeight":226}},{"name":"8a1c","type":1,"text":"On the first chart you can see the same stationary white noise you’ve seen before. On the second one the value of ρρ increased to 0.6, as a result wider cycles appeared on the chart but overall it is still stationary. The third chart deviates even more from the 0 mean but still oscillates around it. Finally, the value of ρ equal to 1 gives us a random walk process — non-stationary time series.","markups":[]},{"name":"49ba","type":1,"text":"This happens because after reaching the critical value the series x(t)=ρ*x(t−1)+e(t) does not return to its mean value. If we subtract x(t−1) from the left and the right side we will get x(t)−x(t−1)=(ρ−1)*x(t−1)+e(t), where the expression on the left is called the first difference. If ρ=1 then the first difference gives us stationary white noise e(t). This fact is the main idea of the Dickey-Fuller test for the stationarity of time series (presence of a unit root). If we can get stationary series from non-stationary using the first difference we call those series integrated of order 1. Null hypothesis of the test — time series is non-stationary, was rejected on the first three charts and was accepted on the last one. We’ve got to say that the first difference is not always enough to get stationary series as the process might be integrated of order d, d \x3e 1 (and have multiple unit roots), in such cases the augmented Dickey-Fuller test is used that checks multiple lags at once.","markups":[{"type":3,"start":388,"end":406,"href":"https://en.wikipedia.org/wiki/Dickey%E2%80%93Fuller_test","title":"","rel":"","anchorType":0}]},{"name":"d33f","type":1,"text":"We can fight non-stationarity using different approaches — various order differences, trend and seasonality removal, smoothing, also using transformations like Box-Cox or logarithmic.","markups":[]},{"name":"ba37","type":3,"text":"Getting rid of non-stationarity and building SARIMA","markups":[]},{"name":"7dd0","type":1,"text":"Now let’s build an ARIMA model by walking through all the circles of hell stages of making series stationary.","markups":[]},{"name":"4a13","type":1,"text":"Chart rendering code","markups":[]},{"name":"b631","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"8874120edb17ad6a42f18fe27ee13344","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"2bfc","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*GSf3AiF0mNc9AScQsI1UTQ.png","originalWidth":856,"originalHeight":496}},{"name":"db77","type":1,"text":"Surprisingly, initial series are stationary, Dickey-Fuller test rejected null hypothesis that a unit root is present. Actually, it can be seen on the plot itself — we don’t have a visible trend, so mean is constant, variance is pretty much stable throughout the series. The only thing left is seasonality which we have to deal with before modelling. To do so let’s take “seasonal difference” which means a simple subtraction of series from itself with a lag that equals the seasonal period.","markups":[]},{"name":"fa51","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"e5786e114a0e7c21b697de1ff14d5ce0","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"77ca","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*qD4gwPbKj3hFAah3F84r2g.png","originalWidth":856,"originalHeight":496}},{"name":"ca94","type":1,"text":"That’s better, visible seasonality is gone, however autocorrelation function still has too many significant lags. To remove them we’ll take first differences — subtraction of series from itself with lag 1","markups":[]},{"name":"938c","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"052e26c3634342ea56b15f8502d3b03a","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"5a9e","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*t_5QyZgc8nuuVdRBKbV4iQ.png","originalWidth":856,"originalHeight":496}},{"name":"f3a9","type":1,"text":"Perfect! Our series now look like something undescribable, oscillating around zero, Dickey-Fuller indicates that it’s stationary and the number of significant peaks in ACF has dropped. We can finally start modelling!","markups":[]},{"name":"c4d2","type":3,"text":"ARIMA-family Crash-Course","markups":[]},{"name":"82e3","type":1,"text":"A few words about the model. Letter by letter we’ll build the full name — SARIMA(p,d,q)(P,D,Q,s), Seasonal Autoregression Moving Average model:","markups":[{"type":1,"start":74,"end":96},{"type":2,"start":81,"end":86},{"type":2,"start":88,"end":95}]},{"name":"518b","type":9,"text":"AR(p) — autoregression model, i.e., regression of the time series onto itself. Basic assumption — current series values depend on its previous values with some lag (or several lags). The maximum lag in the model is referred to as p. To determine the initial p you need to have a look at PACF plot — find the biggest significant lag, after which most other lags are becoming not significant.","markups":[{"type":1,"start":0,"end":6},{"type":1,"start":230,"end":231},{"type":1,"start":258,"end":259},{"type":1,"start":345,"end":349},{"type":2,"start":3,"end":4},{"type":2,"start":230,"end":231},{"type":2,"start":258,"end":259}]},{"name":"3880","type":9,"text":"MA(q) — moving average model. Without going into detail it models the error of the time series, again the assumption is — current error depends on the previous with some lag, which is referred to as q. Initial value can be found on ACF plot with the same logic.","markups":[{"type":1,"start":0,"end":5},{"type":1,"start":199,"end":200},{"type":2,"start":3,"end":4},{"type":2,"start":199,"end":200}]},{"name":"ff3f","type":1,"text":"Let’s have a small break and combine the first 4 letters:","markups":[]},{"name":"a718","type":1,"text":"AR(p) + MA(q) = ARMA(p,q)","markups":[{"type":1,"start":0,"end":25},{"type":2,"start":3,"end":4},{"type":2,"start":11,"end":12},{"type":2,"start":21,"end":24}]},{"name":"893f","type":1,"text":"What we have here is the Autoregressive–moving-average model! If the series is stationary, it can be approximated with those 4 letters. Shall we continue?","markups":[]},{"name":"004f","type":9,"text":"I(d)— order of integration. It is simply the number of nonseasonal differences needed for making the series stationary. In our case it’s just 1, because we used first differences.","markups":[{"type":1,"start":0,"end":4},{"type":2,"start":2,"end":3}]},{"name":"95a7","type":1,"text":"Adding this letter to four previous gives us ARIMA model which knows how to handle non-stationary data with the help of nonseasonal differences. Awesome, last letter left!","markups":[{"type":1,"start":45,"end":50}]},{"name":"fb29","type":9,"text":"S(s) — this letter is responsible for seasonality and equals the season period length of the series","markups":[{"type":1,"start":0,"end":4},{"type":2,"start":2,"end":3}]},{"name":"4863","type":1,"text":"After attaching the last letter we find out that instead of one additional parameter we get three in a row — (P,D,Q)","markups":[{"type":1,"start":109,"end":116},{"type":2,"start":109,"end":116}]},{"name":"1149","type":9,"text":"P — order of autoregression for seasonal component of the model, again can be derived from PACF, but this time you need to look at the number of significant lags, which are the multiples of the season period length, for example, if the period equals 24 and looking at PACF we see 24-th and 48-th lags are significant, that means initial P should be 2.","markups":[{"type":1,"start":0,"end":1},{"type":1,"start":337,"end":338},{"type":2,"start":0,"end":1},{"type":2,"start":337,"end":338}]},{"name":"3993","type":9,"text":"Q — same logic, but for the moving average model of the seasonal component, use ACF plot","markups":[{"type":1,"start":0,"end":2},{"type":2,"start":0,"end":2}]},{"name":"5abf","type":9,"text":"D — order of seasonal integration. Can be equal to 1 or 0, depending on whether seasonal differences were applied or not","markups":[{"type":1,"start":0,"end":1},{"type":2,"start":0,"end":1}]},{"name":"b29b","type":1,"text":"Now, knowing how to set initial parameters, let’s have a look at the final plot once again and set the parameters:\ntsplot(ads_diff[24+1:], lags=60)","markups":[{"type":10,"start":115,"end":147}]},{"name":"2d31","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*t_5QyZgc8nuuVdRBKbV4iQ.png","originalWidth":856,"originalHeight":496}},{"name":"4388","type":9,"text":"p is most probably 4, since it’s the last significant lag on PACF after which most others are becoming not significant.","markups":[{"type":1,"start":0,"end":1},{"type":2,"start":0,"end":1}]},{"name":"da1e","type":9,"text":"d just equals 1, because we had first differences","markups":[{"type":1,"start":0,"end":1},{"type":2,"start":0,"end":1}]},{"name":"b9cd","type":9,"text":"q should be somewhere around 4 as well as seen on ACF","markups":[{"type":1,"start":0,"end":1},{"type":2,"start":0,"end":1}]},{"name":"5561","type":9,"text":"P might be 2, since 24-th and 48-th lags are somewhat significant on PACF","markups":[{"type":1,"start":0,"end":1},{"type":2,"start":0,"end":1}]},{"name":"ae68","type":9,"text":"D again equals 1 — we performed seasonal differentiation","markups":[{"type":1,"start":0,"end":1},{"type":2,"start":0,"end":1}]},{"name":"c41a","type":9,"text":"Q is probably 1, 24-th lag on ACF is significant, while 48-th is not","markups":[{"type":1,"start":0,"end":1},{"type":2,"start":0,"end":1}]},{"name":"5284","type":1,"text":"Now we want to test various models and see which one is better","markups":[]},{"name":"3e3b","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"c3b9bad201fbbc5cc19f18791f460397","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"605e","type":8,"text":"Out: 54","markups":[]},{"name":"3227","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"6c57bb142b13b6c970a6511e42942e6e","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"8f95","type":8,"text":"CPU times: user 41.3 s, sys: 2.76 s, total: 44.1 s\nWall time: 37.4 s","markups":[]},{"name":"0e79","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"752b7f413125dd17fe0f226784d1bb8f","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"ac05","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*ETjGK2zslGmrH3HHvvDUhQ.png","originalWidth":1954,"originalHeight":1146}},{"name":"b6a8","type":1,"text":"Let’s inspect the residuals of the model\ntsplot(best_model.resid[24+1:], lags=60)","markups":[{"type":10,"start":41,"end":81}]},{"name":"16e4","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*q_bSXlMdmiwMA73fXOOK5A.png","originalWidth":856,"originalHeight":496}},{"name":"ddc4","type":1,"text":"Well, it’s clear that the residuals are stationary, there are no apparent autocorrelations, let’s make predictions using our model","markups":[]},{"name":"978f","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"d39a229ac4d44a7c405ebc6292ab3e0f","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"a14a","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*ccFZwDXwb2ZW1c8FuxRHLw.png","originalWidth":892,"originalHeight":424}},{"name":"9be9","type":1,"text":"In the end we got quite adequate predictions, our model on average was wrong by 4.01%, which is very very good, but overall costs of preparing data, making series stationary and brute-force parameters selecting might not be worth this accuracy.","markups":[]},{"name":"58af","type":3,"text":"Linear (and not quite) models on time series","markups":[]},{"name":"fd6f","type":1,"text":"Small lyrical digression again. Often in my job I have to build models with the only principle guiding me known as fast, good, cheap. That means some of the models will never be “production ready” as they demand too much time for the data preparation (for example, SARIMA), or require frequent re-training on new data (again, SARIMA), or are difficult to tune (good example — SARIMA), so it’s very often much easier to select a couple of features from the existing time series and build a simple linear regression or, say, a random forest. Good and cheap.","markups":[{"type":3,"start":115,"end":132,"href":"http://fastgood.cheap/","title":"","rel":"","anchorType":0},{"type":2,"start":115,"end":132}]},{"name":"b6f5","type":1,"text":"Maybe this approach is not backed up by theory, breaks different assumptions (like, Gauss-Markov theorem, especially about the errors being uncorrelated), but it’s very useful in practice and quite frequently used in machine learning competitions.","markups":[]},{"name":"09a8","type":3,"text":"Feature exctraction","markups":[]},{"name":"16e8","type":1,"text":"Alright, model needs features and all we have is a 1-dimentional time series to work with. What features can we exctract?","markups":[]},{"name":"d14d","type":1,"text":"Lags of time series, of course","markups":[{"type":1,"start":0,"end":30}]},{"name":"3156","type":1,"text":"Window statistics:","markups":[{"type":1,"start":0,"end":18}]},{"name":"677a","type":9,"text":"Max/min value of series in a window","markups":[]},{"name":"03b7","type":9,"text":"Average/median value in a window","markups":[]},{"name":"1296","type":9,"text":"Window variance","markups":[]},{"name":"6478","type":9,"text":"etc.","markups":[]},{"name":"eaa6","type":1,"text":"Date and time features:","markups":[{"type":1,"start":0,"end":23}]},{"name":"4fd6","type":9,"text":"Minute of an hour, hour of a day, day of the week, you get it","markups":[]},{"name":"2521","type":9,"text":"Is this day a holiday? Maybe something special happened? Make it a boolean feature","markups":[]},{"name":"ff7a","type":1,"text":"Target encoding","markups":[{"type":1,"start":0,"end":15}]},{"name":"13fc","type":1,"text":"Forecasts from other models (though we can lose the speed of prediction this way)","markups":[{"type":1,"start":0,"end":27}]},{"name":"cb00","type":1,"text":"Let’s run through some of the methods and see what we can extract from our ads series","markups":[]},{"name":"83a5","type":3,"text":"Lags of time series","markups":[]},{"name":"6726","type":1,"text":"Shifting the series n steps back we get a feature column where the current value of time series is aligned with its value at the time t−n. If we make a 1 lag shift and train a model on that feature, the model will be able to forecast 1 step ahead having observed current state of the series. Increasing the lag, say, up to 6 will allow the model to make predictions 6 steps ahead, however it will use data, observed 6 steps back. If something fundamentally changes the series during that unobserved period, the model will not catch the changes and will return forecasts with big error. So, during the initial lag selection one has to find a balance between the optimal prediction quality and the length of forecasting horizon.","markups":[{"type":1,"start":20,"end":21},{"type":1,"start":134,"end":137},{"type":2,"start":20,"end":21},{"type":2,"start":134,"end":137}]},{"name":"75d6","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"7117097383239f7e517dd0806a913d32","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"20a1","type":1,"text":"Wonderful, we got ourselves a dataset here, why don’t we train a model?","markups":[]},{"name":"53c2","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"a51ed6ea651623f995c69afff722f5c1","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"5ef3","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*0hLmlcFVnKljGCe-jmZDPg.png","originalWidth":1072,"originalHeight":496}},{"name":"78d8","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*9K0FULC9peB6_zRgRnQUyA.png","originalWidth":878,"originalHeight":432}},{"name":"181c","type":1,"text":"Well, simple lags and linear regression gave us predictions that are not that far from SARIMA in quality. There are lot’s of unnecessary features, but we’ll do feature selection a bit later. Now let’s continue engineering!","markups":[]},{"name":"fff1","type":1,"text":"We’ll add into our dataset hour, day of the week and boolean for the weekend. To do so we need to transform current dataframe index into datetime format and exctract hour and weekday out of it.","markups":[{"type":10,"start":137,"end":145},{"type":10,"start":166,"end":170},{"type":10,"start":175,"end":182}]},{"name":"6c33","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"45a96df277f1621a3ac2ad077aa3aacc","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"9144","type":1,"text":"We can visualize the resulting features","markups":[]},{"name":"21fb","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"aa7d0fd9bcb3119f43c118ad9116e16f","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"e1d4","type":4,"text":"Blue spiky line — hour feature, green ladder — weekday, red bump — weekends!","markups":[],"layout":1,"metadata":{"id":"1*-ZG-BbBqy_Xl1AjxW8jyYg.png","originalWidth":925,"originalHeight":350}},{"name":"e18f","type":1,"text":"Since now we have different scales of variables — thousands for lag features and tens for categorical, it’s reasonable to transform them into same scale to continue exploring feature importances and later — regularization.","markups":[]},{"name":"af85","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"d54787795c7b7cbbd90514b1a5d5bea7","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"1e70","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*0vAkMWquV4dTgewDg94JYQ.png","originalWidth":1072,"originalHeight":496}},{"name":"974a","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*NENact_8y6O1352EYzoG0A.png","originalWidth":886,"originalHeight":454}},{"name":"3d2a","type":1,"text":"Test error goes down a little bit and judging by the coefficients plot we can say that weekday and is_weekend are rather useful features","markups":[{"type":10,"start":87,"end":94},{"type":10,"start":99,"end":109}]},{"name":"a874","type":3,"text":"Target encoding","markups":[]},{"name":"aad2","type":1,"text":"I’d like to add another variant of encoding categorical variables — by mean value. If it’s undesirable to explode dataset by using tons of dummy variables that can lead to the loss of information about the distance, and if they can’t be used as real values because of the conflicts like “0 hours \x3c 23 hours”, then it’s possible to encode a variable with a little bit more interpretable values. Natural idea is to encode with the mean value of the target variable. In our example every day of the week and every hour of the day can be encoded by the corresponding average number of ads watched during that day or hour. It’s very important to make sure that the mean value is calculated over train set only (or over current cross-validation fold only), so that the model is not aware of the future.","markups":[]},{"name":"344b","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"a86724f8a6c0c4b6d6279d65eb02c8ac","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"d122","type":1,"text":"Let’s have a look at hour averages","markups":[]},{"name":"04a1","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"09c0d915cbdc3bacd13e32f6dbd1d513","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"2247","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*vnc2RhvCPIuPOVqTKKIjog.png","originalWidth":445,"originalHeight":316}},{"name":"293b","type":1,"text":"Finally, put all the transformations together in a single function","markups":[]},{"name":"395b","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"dba682908c70394da0d0c6905b95e1f8","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"d7cc","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*ujaq7SFvHBxPDeF8XFQOmA.png","originalWidth":1072,"originalHeight":496}},{"name":"dc9d","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*S0Pr4flzWrwhveJE9AWoeA.png","originalWidth":886,"originalHeight":483}},{"name":"1095","type":1,"text":"Here comes overfitting! Hour_average variable was so great on train dataset that the model decided to concentrate all its forces on it - as a result the quality of prediction dropped. This problem can be approached in a variety of ways, for example, we can calculate target encoding not for the whole train set, but for some window instead, that way encodings from the last observed window will probably describe current series state better. Or we can just drop it manually, since we're sure here it makes things only worse.","markups":[{"type":10,"start":24,"end":36},{"type":1,"start":11,"end":22}]},{"name":"8c29","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"f0b69c0f36adf4198a825e6f386b1312","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"5794","type":3,"text":"Regularization and feature selection","markups":[]},{"name":"f119","type":1,"text":"As we already know, not all features are equally healthy, some may lead to overfitting and should be removed. Besides manual inspecting we can apply regularization. Two most popular regression models with regularization are Ridge and Lasso regressions. They both add some more constrains to our loss function.","markups":[]},{"name":"6138","type":1,"text":"In case of Ridge regression — those constrains are the sum of squares of coefficients, multiplied by the regularization coefficient. I.e. the bigger coefficient feature has — the bigger our loss will be, hence we will try to optimize the model while keeping coefficients fairly low.","markups":[{"type":1,"start":11,"end":27},{"type":2,"start":11,"end":27}]},{"name":"658b","type":1,"text":"As a result of such regularization which has a proud name L2 we’ll have higher bias and lower variance, so the model will generalize better (at least that’s what we hope will happen).","markups":[{"type":1,"start":58,"end":60},{"type":2,"start":58,"end":60}]},{"name":"d9ab","type":1,"text":"Second model — Lasso regression, here we add to the loss function not squares but absolute values of the coefficients, as a result during the optimization process coefficients of unimportant features may become zeroes, so Lasso regression allows for automated feature selection. This regularization type is called L1.","markups":[{"type":1,"start":14,"end":31},{"type":1,"start":314,"end":316},{"type":2,"start":14,"end":31},{"type":2,"start":314,"end":316}]},{"name":"6f8c","type":1,"text":"First, make sure we have things to drop and data truly has highly correlated features","markups":[]},{"name":"4ab4","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"9ab2657b0a203150da1a57830b555aa6","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"60e7","type":4,"text":"Prettier than some modern art","markups":[],"layout":1,"metadata":{"id":"1*KTxkDrHFdl7E6xs3Hq5_YA.png","originalWidth":597,"originalHeight":509}},{"name":"2ccb","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"8bc464e4cd272e2949292c1fd87e1098","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"9b71","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*mh_iu9oxsBSDwHwsCjZdRw.png","originalWidth":1072,"originalHeight":496}},{"name":"0e19","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*F4boA6Z10qzeJq4cpmp4jw.png","originalWidth":886,"originalHeight":454}},{"name":"86dd","type":1,"text":"We can clearly see how coefficients are getting closer and closer to zero (thought never actually reach it) as their importance in the model drops","markups":[]},{"name":"5305","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"e7441b2302318f65b8421866c5fc7504","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"b076","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*u8lR_FDvPV6rH0JqJR87sw.png","originalWidth":1072,"originalHeight":496}},{"name":"2601","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*Q9hvolN8hDV0xTZwlIBR2g.png","originalWidth":886,"originalHeight":454}},{"name":"4927","type":1,"text":"Lasso regression turned out to be more conservative and removed 23-rd lag from most important features (and also dropped 5 features completely) which only made the quality of prediction better.","markups":[]},{"name":"780f","type":3,"text":"Boosting","markups":[]},{"name":"f514","type":1,"text":"Why not try XGBoost now?","markups":[]},{"name":"dce3","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*4XXSSYy4nYDDgNex.jpg","originalWidth":400,"originalHeight":300}},{"name":"858a","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"2c1862cf66343cc5b15da9f32bbc4a98","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F13561549%3Fs%3D400%26v%3D4&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"ae1c","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*dpguJye_sOtOFK746JVovg.png","originalWidth":1072,"originalHeight":496}},{"name":"3ab5","type":1,"text":"Here is the winner! The smallest error on the test set among all the models we’ve tried so far.","markups":[]},{"name":"5239","type":1,"text":"Yet this victory is decieving and it might not be the brightest idea to fit xgboost as soon as you get your hands over time series data. Generally tree-based models poorly handle trens in data, compared to linear models, so you have to detrend your series first or use some tricks to make the magic happen. Ideally — make the series stationary and then use XGBoost, for example, you can forecast trend separately with a linear model and then add predictions from xgboost to get final forecast.","markups":[]},{"name":"608a","type":3,"text":"Conclusion","markups":[]},{"name":"eb91","type":1,"text":"We got acquainted with different time series analysis and prediction methods and approaches. Unfortunately, or maybe luckily, there’s no silver bullet to solve this kind of problems. Methods developed in the 60s of the last century (and some even in the beginning of the XIX century) are still popular along with the LSTM and RNN (not covered in this article). Partially this is related to the fact that the prediction task as any other data related task is creative in so many aspects and definitely requires research. In spite of the large number of formal quality metrics and approaches to parameters estimation, it’s often required to seek and try something different for each time series. Last but not least the balance between quality and cost is important. As a good example SARIMA model mentioned here not once or twice can produce spectacular results after due tuning but might require many hours of tambourine dancing time series manipulation, as in the same time simple linear regression model can be build in 10 minutes giving more or less comparable results.","markups":[]},{"name":"8fb8","type":3,"text":"Assignment #9","markups":[]},{"name":"1a62","type":1,"text":"A demo version is to appear soon (~ in the end of June 2018). Full version will be available in the new session of the course (starting on October, 1).","markups":[]},{"name":"e7fd","type":3,"text":"Useful resources","markups":[]},{"name":"7a2a","type":9,"text":"Online textbook of the advanced statistical forecasting course of the Duke University — covers in details various smoothing techniques, linear and ARIMA models","markups":[{"type":3,"start":0,"end":15,"href":"https://people.duke.edu/~rnau/411home.htm","title":"","rel":"","anchorType":0}]},{"name":"1495","type":9,"text":"Comparison of ARIMA and Random Forest time series models for prediction of avian influenza H5N1 outbreaks — one of a few where random forest applicability to the tasks of time series forecasting is actively defended","markups":[{"type":3,"start":0,"end":105,"href":"https://bmcbioinformatics.biomedcentral.com/articles/10.1186/1471-2105-15-276","title":"","rel":"","anchorType":0}]},{"name":"c301","type":9,"text":"Time Series Analysis (TSA) in Python — Linear Models to GARCH ARIMA models family and their applicability to the task of modeling financial indicators (Brian Christopher)","markups":[{"type":3,"start":0,"end":61,"href":"http://www.blackarbs.com/blog/time-series-analysis-in-python-linear-models-to-garch/11/1/2016","title":"","rel":"","anchorType":0}]},{"name":"29f4","type":1,"text":"Author: Dmitry Sergeyev. Translated and edited by Borys Zibrov, and Yuanyuan Pao.","markups":[{"type":3,"start":8,"end":23,"href":"https://github.com/DmitrySerg","title":"","rel":"","anchorType":0},{"type":3,"start":50,"end":62,"href":"https://www.linkedin.com/in/borowis/","title":"","rel":"","anchorType":0},{"type":3,"start":68,"end":80,"href":"https://www.linkedin.com/in/yuanyuanpao/","title":"","rel":"nofollow noopener","anchorType":0},{"type":2,"start":0,"end":81}]}],"sections":[{"name":"580b","startIndex":0},{"name":"75ed","startIndex":261}]},"postDisplay":{"coverless":true}},"virtuals":{"statusForCollection":"APPROVED","allowNotes":true,"previewImage":{"imageId":"1*hJ_P0bVRLNNjcc5st5lu-A.jpeg","filter":"","backgroundSize":"","originalWidth":500,"originalHeight":375,"strategy":"resample","height":0,"width":0},"wordCount":5114,"imageCount":56,"readingTime":22.848113207547172,"subtitle":"Hi there!","userPostRelation":{"userId":"a988255767e5","postId":"a270cb05e0b3","readAt":1525187207202,"readLaterAddedAt":1523782174072,"votedAt":0,"collaboratorAddedAt":0,"notesAddedAt":0,"subscribedAt":0,"lastReadSectionName":"580b","lastReadVersionId":"82e021ee9415","lastReadAt":1525876727120,"lastReadParagraphName":"77ca","lastReadPercentage":0.6,"viewedAt":1525876610304,"presentedCountInResponseManagement":0,"clapCount":0,"seriesUpdateNotifsOptedInAt":0,"queuedAt":1523782174072,"seriesFirstViewedAt":0,"presentedCountInStream":18,"seriesLastViewedAt":0,"audioProgressSec":0},"publishedInCount":1,"usersBySocialRecommends":[],"recommends":74,"socialRecommends":[],"isBookmarked":true,"tags":[{"slug":"machine-learning","name":"Machine Learning","postCount":35514,"virtuals":{"isFollowing":false},"metadata":{"followerCount":23739,"postCount":35514,"coverImage":{"id":"1*bhFifratH9DjKqMBTeQG5A.gif","originalWidth":1500,"originalHeight":900,"isFeatured":true}},"type":"Tag"},{"slug":"data-science","name":"Data Science","postCount":23313,"virtuals":{"isFollowing":false},"metadata":{"followerCount":14308,"postCount":23313,"coverImage":{"id":"1*bhFifratH9DjKqMBTeQG5A.gif","originalWidth":1500,"originalHeight":900,"isFeatured":true}},"type":"Tag"},{"slug":"education","name":"Education","postCount":175474,"virtuals":{"isFollowing":false},"metadata":{"followerCount":635899,"postCount":175474,"coverImage":{"id":"1*dVmAyTviHMkGJq46uvrLcg.jpeg"}},"type":"Tag"},{"slug":"python","name":"Python","postCount":13744,"virtuals":{"isFollowing":false},"metadata":{"followerCount":9175,"postCount":13744,"coverImage":{"id":"1*IjshGINnTET1wffZoC2LyA.jpeg","originalWidth":1600,"originalHeight":915}},"type":"Tag"},{"slug":"algorithms","name":"Algorithms","postCount":5414,"virtuals":{"isFollowing":false},"metadata":{"followerCount":2400,"postCount":5414,"coverImage":{"id":"1*P8ZAJLvJ7IahjN28FmQDhg.png","originalWidth":3333,"originalHeight":2066}},"type":"Tag"}],"socialRecommendsCount":0,"responsesCreatedCount":2,"links":{"entries":[{"url":"https://www.linkedin.com/in/yuanyuanpao/","alts":[],"httpStatus":999},{"url":"https://en.wikipedia.org/wiki/Homoscedasticity","alts":[],"httpStatus":200},{"url":"https://en.wikipedia.org/wiki/Stationary_process","alts":[],"httpStatus":200},{"url":"https://en.wikipedia.org/wiki/Dickey%E2%80%93Fuller_test","alts":[],"httpStatus":200},{"url":"https://en.wikipedia.org/wiki/Exponential_smoothing","alts":[],"httpStatus":200},{"url":"https://en.wikipedia.org/wiki/Time_series","alts":[],"httpStatus":200},{"url":"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.rolling.html","alts":[],"httpStatus":200},{"url":"https://www.linkedin.com/in/borowis/","alts":[],"httpStatus":999},{"url":"https://stats.stackexchange.com/questions/14099/using-k-fold-cross-validation-for-time-series-model-selection","alts":[],"httpStatus":200},{"url":"http://scikit-learn.org/stable/modules/model_evaluation.html#mean-absolute-error","alts":[],"httpStatus":200},{"url":"http://scikit-learn.org/stable/modules/model_evaluation.html#r2-score-the-coefficient-of-determination","alts":[],"httpStatus":200},{"url":"http://scikit-learn.org/stable/modules/model_evaluation.html#median-absolute-error","alts":[],"httpStatus":200},{"url":"http://scikit-learn.org/stable/modules/model_evaluation.html#mean-squared-error","alts":[],"httpStatus":200},{"url":"http://www.seanabu.com/2016/03/22/time-series-seasonal-ARIMA-model-in-python/","alts":[],"httpStatus":200},{"url":"http://fastgood.cheap/","alts":[],"httpStatus":200},{"url":"http://www.blackarbs.com/blog/time-series-analysis-in-python-linear-models-to-garch/11/1/2016","alts":[],"httpStatus":200},{"url":"https://people.duke.edu/~rnau/411home.htm","alts":[],"httpStatus":200},{"url":"http://statsmodels.sourceforge.net/stable/","alts":[],"httpStatus":200},{"url":"https://bmcbioinformatics.biomedcentral.com/articles/10.1186/1471-2105-15-276","alts":[],"httpStatus":200},{"url":"https://github.com/DmitrySerg","alts":[],"httpStatus":200},{"url":"http://www.itl.nist.gov/div898/handbook/pmc/section4/pmc435.htm","alts":[],"httpStatus":200},{"url":"http://scikit-learn.org/stable/modules/model_evaluation.html#mean-squared-logarithmic-error","alts":[],"httpStatus":200},{"url":"http://fedcsis.org/proceedings/2012/pliks/118.pdf","alts":[],"httpStatus":200},{"url":"http://nbviewer.jupyter.org/github/Yorko/mlcourse_open/blob/master/jupyter_english/topic09_time_series/topic9_part1_time_series_python.ipynb","alts":[],"httpStatus":200}],"version":"0.3","generatedAt":1525726091323},"isLockedPreviewOnly":false,"takeoverId":"","metaDescription":"","totalClapCount":1402,"sectionCount":2,"readingList":1},"coverless":true,"slug":"open-machine-learning-course-topic-9-time-series-analysis-in-python","translationSourcePostId":"","translationSourceCreatorId":"","isApprovedTranslation":false,"inResponseToPostId":"","inResponseToRemovedAt":0,"isTitleSynthesized":true,"allowResponses":true,"importedUrl":"","importedPublishedAt":0,"visibility":0,"uniqueSlug":"open-machine-learning-course-topic-9-time-series-analysis-in-python-a270cb05e0b3","previewContent":{"bodyModel":{"paragraphs":[{"name":"previewImage","type":4,"text":"","layout":10,"metadata":{"id":"1*hJ_P0bVRLNNjcc5st5lu-A.jpeg","originalWidth":500,"originalHeight":375,"isFeatured":true}},{"name":"63be","type":3,"text":"Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python","markups":[{"type":1,"start":47,"end":77}],"alignment":1}],"sections":[{"startIndex":0}]},"isFullContent":false},"license":0,"inResponseToMediaResourceId":"","canonicalUrl":"https://medium.com/open-machine-learning-course/open-machine-learning-course-topic-9-time-series-analysis-in-python-a270cb05e0b3","approvedHomeCollectionId":"b76595fb6cfc","approvedHomeCollection":{"id":"b76595fb6cfc","name":"Open Machine Learning Course","slug":"open-machine-learning-course","tags":["MACHINE LEARNING","DATA SCIENCE","DATA ANALYSIS","EDUCATION","KAGGLE"],"creatorId":"5572ec600139","description":"A series of articles on basics of Machine Learning. Each article is followed by an assignment with a deadline. Several Kaggle Inclass competitions are held throughout the course.","shortDescription":"A series of articles on basics of Machine Learning.","image":{"imageId":"1*b5pfoCQz20rjh79OPSQWQg.jpeg","filter":"","backgroundSize":"","originalWidth":271,"originalHeight":271,"strategy":"resample","height":0,"width":0},"metadata":{"followerCount":1490,"activeAt":1523869737051},"virtuals":{"permissions":{"canPublish":false,"canPublishAll":false,"canRepublish":false,"canRemove":false,"canManageAll":false,"canSubmit":false,"canEditPosts":false,"canAddWriters":false,"canViewStats":false,"canSendNewsletter":false,"canViewLockedPosts":false,"canViewCloaked":false,"canEditOwnPosts":false,"canBeAssignedAuthor":false,"canEnrollInHightower":false,"canLockPostsForMediumMembers":false},"isSubscribed":true,"isNewsletterSubscribed":true,"memberOfMembershipPlanId":"","isEnrolledInHightower":false,"isEligibleForHightower":false},"logo":{"imageId":"1*MxsqShnPs3RXMScwl5HhsQ.jpeg","filter":"","backgroundSize":"","originalWidth":1479,"originalHeight":822,"strategy":"resample","height":0,"width":0},"twitterUsername":"odsai_en","facebookPageName":"DataChallenges","publicEmail":"yury.kashnitsky@gmail.com","sections":[{"type":2,"collectionHeaderMetadata":{"title":"Open Machine Learning Course","description":"by OpenDataScience","backgroundImage":{"id":"1*ZnqNzhbOlqb19tLgWDn8ww.png","originalWidth":2400,"originalHeight":1200},"logoImage":{},"alignment":2,"layout":6}},{"type":1,"postListMetadata":{"source":1,"layout":6,"number":10,"postIds":[]}}],"favicon":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"colorPalette":{"defaultBackgroundSpectrum":{"colorPoints":[{"color":"#FF02B875","point":0},{"color":"#FF00AB6B","point":0.1},{"color":"#FF1C9963","point":0.2},{"color":"#FF092E20","point":1}],"backgroundColor":"#FFFFFFFF"},"highlightSpectrum":{"colorPoints":[{"color":"#FFFFFFFF","point":0},{"color":"#FFE9FDF0","point":0.1},{"color":"#FFE2FAEE","point":0.2},{"color":"#FFADFFCF","point":0.6},{"color":"#FF7DFFB3","point":1}],"backgroundColor":"#FFFFFFFF"}},"navItems":[],"colorBehavior":1,"instantArticlesState":0,"acceleratedMobilePagesState":0,"ampLogo":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"header":{"title":"Open Machine Learning Course","description":"by OpenDataScience","backgroundImage":{"id":"1*ZnqNzhbOlqb19tLgWDn8ww.png","originalWidth":2400,"originalHeight":1200},"logoImage":{},"alignment":2,"layout":6},"type":"Collection"},"newsletterId":"","webCanonicalUrl":"https://medium.com/open-machine-learning-course/open-machine-learning-course-topic-9-time-series-analysis-in-python-a270cb05e0b3","mediumUrl":"https://medium.com/open-machine-learning-course/open-machine-learning-course-topic-9-time-series-analysis-in-python-a270cb05e0b3","migrationId":"","notifyFollowers":true,"notifyTwitter":false,"isSponsored":false,"isRequestToPubDisabled":false,"notifyFacebook":false,"responseHiddenOnParentPostAt":0,"isSeries":false,"isSubscriptionLocked":false,"seriesLastAppendedAt":0,"audioVersionDurationSec":0,"sequenceId":"","isNsfw":false,"isEligibleForRevenue":false,"isBlockedFromHightower":false,"deletedAt":0,"lockedPostSource":0,"hightowerMinimumGuaranteeStartsAt":0,"hightowerMinimumGuaranteeEndsAt":0,"featureLockRequestAcceptedAt":0,"featureLockRequestMinimumGuaranteeAmount":0,"isElevate":false,"mongerRequestType":1,"type":"Post"},"mentionedUsers":[],"collaborators":[],"membershipPlans":[],"collectionUserRelations":[],"mode":null,"references":{"User":{"5db503d436d2":{"userId":"5db503d436d2","name":"Dmitriy Sergeev","username":"dmitriysergeev","createdAt":1517233539805,"lastPostCreatedAt":1523306569759,"imageId":"0*zsrkvCEBEg3gjCz6.","backgroundImageId":"","bio":"Data Scientist at Zeptolab","twitterScreenName":"","socialStats":{"userId":"5db503d436d2","usersFollowedCount":37,"usersFollowedByCount":104,"type":"SocialStats"},"social":{"userId":"a988255767e5","targetUserId":"5db503d436d2","type":"Social"},"facebookAccountId":"1570457356366419","allowNotes":1,"isNsfw":false,"type":"User"}},"Collection":{"b76595fb6cfc":{"id":"b76595fb6cfc","name":"Open Machine Learning Course","slug":"open-machine-learning-course","tags":["MACHINE LEARNING","DATA SCIENCE","DATA ANALYSIS","EDUCATION","KAGGLE"],"creatorId":"5572ec600139","description":"A series of articles on basics of Machine Learning. Each article is followed by an assignment with a deadline. Several Kaggle Inclass competitions are held throughout the course.","shortDescription":"A series of articles on basics of Machine Learning.","image":{"imageId":"1*b5pfoCQz20rjh79OPSQWQg.jpeg","filter":"","backgroundSize":"","originalWidth":271,"originalHeight":271,"strategy":"resample","height":0,"width":0},"metadata":{"followerCount":1490,"activeAt":1523869737051},"virtuals":{"permissions":{"canPublish":false,"canPublishAll":false,"canRepublish":false,"canRemove":false,"canManageAll":false,"canSubmit":false,"canEditPosts":false,"canAddWriters":false,"canViewStats":false,"canSendNewsletter":false,"canViewLockedPosts":false,"canViewCloaked":false,"canEditOwnPosts":false,"canBeAssignedAuthor":false,"canEnrollInHightower":false,"canLockPostsForMediumMembers":false},"isSubscribed":true,"isNewsletterSubscribed":true,"memberOfMembershipPlanId":"","isEnrolledInHightower":false,"isEligibleForHightower":false},"logo":{"imageId":"1*MxsqShnPs3RXMScwl5HhsQ.jpeg","filter":"","backgroundSize":"","originalWidth":1479,"originalHeight":822,"strategy":"resample","height":0,"width":0},"twitterUsername":"odsai_en","facebookPageName":"DataChallenges","publicEmail":"yury.kashnitsky@gmail.com","sections":[{"type":2,"collectionHeaderMetadata":{"title":"Open Machine Learning Course","description":"by OpenDataScience","backgroundImage":{"id":"1*ZnqNzhbOlqb19tLgWDn8ww.png","originalWidth":2400,"originalHeight":1200},"logoImage":{},"alignment":2,"layout":6}},{"type":1,"postListMetadata":{"source":1,"layout":6,"number":10,"postIds":[]}}],"favicon":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"colorPalette":{"defaultBackgroundSpectrum":{"colorPoints":[{"color":"#FF02B875","point":0},{"color":"#FF00AB6B","point":0.1},{"color":"#FF1C9963","point":0.2},{"color":"#FF092E20","point":1}],"backgroundColor":"#FFFFFFFF"},"highlightSpectrum":{"colorPoints":[{"color":"#FFFFFFFF","point":0},{"color":"#FFE9FDF0","point":0.1},{"color":"#FFE2FAEE","point":0.2},{"color":"#FFADFFCF","point":0.6},{"color":"#FF7DFFB3","point":1}],"backgroundColor":"#FFFFFFFF"}},"navItems":[],"colorBehavior":1,"instantArticlesState":0,"acceleratedMobilePagesState":0,"ampLogo":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"header":{"title":"Open Machine Learning Course","description":"by OpenDataScience","backgroundImage":{"id":"1*ZnqNzhbOlqb19tLgWDn8ww.png","originalWidth":2400,"originalHeight":1200},"logoImage":{},"alignment":2,"layout":6},"type":"Collection"}},"Social":{"5db503d436d2":{"userId":"a988255767e5","targetUserId":"5db503d436d2","type":"Social"}},"SocialStats":{"5db503d436d2":{"userId":"5db503d436d2","usersFollowedCount":37,"usersFollowedByCount":104,"type":"SocialStats"}}}})
// ]]></script><div class="surface-scrollOverlay"></div><script charset="UTF-8" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/main-common-async.bundle.8XzrsTBv650SH5jN4fxn-w.js"></script><script charset="UTF-8" src="./Open Machine Learning Course. Topic 9. Part 1. Time series analysis in Python_files/main-notes.bundle.0wfedgTNnhCPCkt5jNAAMA.js"></script></body></html>